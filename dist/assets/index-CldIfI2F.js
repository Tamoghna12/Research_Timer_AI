(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const m of document.querySelectorAll('link[rel="modulepreload"]'))u(m);new MutationObserver(m=>{for(const p of m)if(p.type==="childList")for(const x of p.addedNodes)x.tagName==="LINK"&&x.rel==="modulepreload"&&u(x)}).observe(document,{childList:!0,subtree:!0});function d(m){const p={};return m.integrity&&(p.integrity=m.integrity),m.referrerPolicy&&(p.referrerPolicy=m.referrerPolicy),m.crossOrigin==="use-credentials"?p.credentials="include":m.crossOrigin==="anonymous"?p.credentials="omit":p.credentials="same-origin",p}function u(m){if(m.ep)return;m.ep=!0;const p=d(m);fetch(m.href,p)}})();var s0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function og(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var gd={exports:{}},Xs={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mm;function o0(){if(Mm)return Xs;Mm=1;var r=Symbol.for("react.transitional.element"),o=Symbol.for("react.fragment");function d(u,m,p){var x=null;if(p!==void 0&&(x=""+p),m.key!==void 0&&(x=""+m.key),"key"in m){p={};for(var w in m)w!=="key"&&(p[w]=m[w])}else p=m;return m=p.ref,{$$typeof:r,type:u,key:x,ref:m!==void 0?m:null,props:p}}return Xs.Fragment=o,Xs.jsx=d,Xs.jsxs=d,Xs}var Om;function u0(){return Om||(Om=1,gd.exports=o0()),gd.exports}var s=u0(),pd={exports:{}},Je={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rm;function c0(){if(Rm)return Je;Rm=1;var r=Symbol.for("react.transitional.element"),o=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),u=Symbol.for("react.strict_mode"),m=Symbol.for("react.profiler"),p=Symbol.for("react.consumer"),x=Symbol.for("react.context"),w=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),b=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),T=Symbol.iterator;function Q(C){return C===null||typeof C!="object"?null:(C=T&&C[T]||C["@@iterator"],typeof C=="function"?C:null)}var I={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},te=Object.assign,ee={};function fe(C,ne,ge){this.props=C,this.context=ne,this.refs=ee,this.updater=ge||I}fe.prototype.isReactComponent={},fe.prototype.setState=function(C,ne){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,ne,"setState")},fe.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function he(){}he.prototype=fe.prototype;function oe(C,ne,ge){this.props=C,this.context=ne,this.refs=ee,this.updater=ge||I}var U=oe.prototype=new he;U.constructor=oe,te(U,fe.prototype),U.isPureReactComponent=!0;var Y=Array.isArray,le={H:null,A:null,T:null,S:null,V:null},ue=Object.prototype.hasOwnProperty;function pe(C,ne,ge,ye,De,Ye){return ge=Ye.ref,{$$typeof:r,type:C,key:ne,ref:ge!==void 0?ge:null,props:Ye}}function _e(C,ne){return pe(C.type,ne,void 0,void 0,void 0,C.props)}function Le(C){return typeof C=="object"&&C!==null&&C.$$typeof===r}function me(C){var ne={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(ge){return ne[ge]})}var Ae=/\/+/g;function Ce(C,ne){return typeof C=="object"&&C!==null&&C.key!=null?me(""+C.key):ne.toString(36)}function de(){}function dt(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(de,de):(C.status="pending",C.then(function(ne){C.status==="pending"&&(C.status="fulfilled",C.value=ne)},function(ne){C.status==="pending"&&(C.status="rejected",C.reason=ne)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function Ve(C,ne,ge,ye,De){var Ye=typeof C;(Ye==="undefined"||Ye==="boolean")&&(C=null);var Ue=!1;if(C===null)Ue=!0;else switch(Ye){case"bigint":case"string":case"number":Ue=!0;break;case"object":switch(C.$$typeof){case r:case o:Ue=!0;break;case S:return Ue=C._init,Ve(Ue(C._payload),ne,ge,ye,De)}}if(Ue)return De=De(C),Ue=ye===""?"."+Ce(C,0):ye,Y(De)?(ge="",Ue!=null&&(ge=Ue.replace(Ae,"$&/")+"/"),Ve(De,ne,ge,"",function(Oe){return Oe})):De!=null&&(Le(De)&&(De=_e(De,ge+(De.key==null||C&&C.key===De.key?"":(""+De.key).replace(Ae,"$&/")+"/")+Ue)),ne.push(De)),1;Ue=0;var Zt=ye===""?".":ye+":";if(Y(C))for(var vt=0;vt<C.length;vt++)ye=C[vt],Ye=Zt+Ce(ye,vt),Ue+=Ve(ye,ne,ge,Ye,De);else if(vt=Q(C),typeof vt=="function")for(C=vt.call(C),vt=0;!(ye=C.next()).done;)ye=ye.value,Ye=Zt+Ce(ye,vt++),Ue+=Ve(ye,ne,ge,Ye,De);else if(Ye==="object"){if(typeof C.then=="function")return Ve(dt(C),ne,ge,ye,De);throw ne=String(C),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.")}return Ue}function F(C,ne,ge){if(C==null)return C;var ye=[],De=0;return Ve(C,ye,"","",function(Ye){return ne.call(ge,Ye,De++)}),ye}function xe(C){if(C._status===-1){var ne=C._result;ne=ne(),ne.then(function(ge){(C._status===0||C._status===-1)&&(C._status=1,C._result=ge)},function(ge){(C._status===0||C._status===-1)&&(C._status=2,C._result=ge)}),C._status===-1&&(C._status=0,C._result=ne)}if(C._status===1)return C._result.default;throw C._result}var Me=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ne=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(ne))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)};function Pe(){}return Je.Children={map:F,forEach:function(C,ne,ge){F(C,function(){ne.apply(this,arguments)},ge)},count:function(C){var ne=0;return F(C,function(){ne++}),ne},toArray:function(C){return F(C,function(ne){return ne})||[]},only:function(C){if(!Le(C))throw Error("React.Children.only expected to receive a single React element child.");return C}},Je.Component=fe,Je.Fragment=d,Je.Profiler=m,Je.PureComponent=oe,Je.StrictMode=u,Je.Suspense=N,Je.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=le,Je.__COMPILER_RUNTIME={__proto__:null,c:function(C){return le.H.useMemoCache(C)}},Je.cache=function(C){return function(){return C.apply(null,arguments)}},Je.cloneElement=function(C,ne,ge){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var ye=te({},C.props),De=C.key,Ye=void 0;if(ne!=null)for(Ue in ne.ref!==void 0&&(Ye=void 0),ne.key!==void 0&&(De=""+ne.key),ne)!ue.call(ne,Ue)||Ue==="key"||Ue==="__self"||Ue==="__source"||Ue==="ref"&&ne.ref===void 0||(ye[Ue]=ne[Ue]);var Ue=arguments.length-2;if(Ue===1)ye.children=ge;else if(1<Ue){for(var Zt=Array(Ue),vt=0;vt<Ue;vt++)Zt[vt]=arguments[vt+2];ye.children=Zt}return pe(C.type,De,void 0,void 0,Ye,ye)},Je.createContext=function(C){return C={$$typeof:x,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:p,_context:C},C},Je.createElement=function(C,ne,ge){var ye,De={},Ye=null;if(ne!=null)for(ye in ne.key!==void 0&&(Ye=""+ne.key),ne)ue.call(ne,ye)&&ye!=="key"&&ye!=="__self"&&ye!=="__source"&&(De[ye]=ne[ye]);var Ue=arguments.length-2;if(Ue===1)De.children=ge;else if(1<Ue){for(var Zt=Array(Ue),vt=0;vt<Ue;vt++)Zt[vt]=arguments[vt+2];De.children=Zt}if(C&&C.defaultProps)for(ye in Ue=C.defaultProps,Ue)De[ye]===void 0&&(De[ye]=Ue[ye]);return pe(C,Ye,void 0,void 0,null,De)},Je.createRef=function(){return{current:null}},Je.forwardRef=function(C){return{$$typeof:w,render:C}},Je.isValidElement=Le,Je.lazy=function(C){return{$$typeof:S,_payload:{_status:-1,_result:C},_init:xe}},Je.memo=function(C,ne){return{$$typeof:b,type:C,compare:ne===void 0?null:ne}},Je.startTransition=function(C){var ne=le.T,ge={};le.T=ge;try{var ye=C(),De=le.S;De!==null&&De(ge,ye),typeof ye=="object"&&ye!==null&&typeof ye.then=="function"&&ye.then(Pe,Me)}catch(Ye){Me(Ye)}finally{le.T=ne}},Je.unstable_useCacheRefresh=function(){return le.H.useCacheRefresh()},Je.use=function(C){return le.H.use(C)},Je.useActionState=function(C,ne,ge){return le.H.useActionState(C,ne,ge)},Je.useCallback=function(C,ne){return le.H.useCallback(C,ne)},Je.useContext=function(C){return le.H.useContext(C)},Je.useDebugValue=function(){},Je.useDeferredValue=function(C,ne){return le.H.useDeferredValue(C,ne)},Je.useEffect=function(C,ne,ge){var ye=le.H;if(typeof ge=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ye.useEffect(C,ne)},Je.useId=function(){return le.H.useId()},Je.useImperativeHandle=function(C,ne,ge){return le.H.useImperativeHandle(C,ne,ge)},Je.useInsertionEffect=function(C,ne){return le.H.useInsertionEffect(C,ne)},Je.useLayoutEffect=function(C,ne){return le.H.useLayoutEffect(C,ne)},Je.useMemo=function(C,ne){return le.H.useMemo(C,ne)},Je.useOptimistic=function(C,ne){return le.H.useOptimistic(C,ne)},Je.useReducer=function(C,ne,ge){return le.H.useReducer(C,ne,ge)},Je.useRef=function(C){return le.H.useRef(C)},Je.useState=function(C){return le.H.useState(C)},Je.useSyncExternalStore=function(C,ne,ge){return le.H.useSyncExternalStore(C,ne,ge)},Je.useTransition=function(){return le.H.useTransition()},Je.version="19.1.1",Je}var zm;function Dd(){return zm||(zm=1,pd.exports=c0()),pd.exports}var E=Dd();const da=og(E);var yd={exports:{}},Qs={},vd={exports:{}},xd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bm;function d0(){return Bm||(Bm=1,(function(r){function o(F,xe){var Me=F.length;F.push(xe);e:for(;0<Me;){var Pe=Me-1>>>1,C=F[Pe];if(0<m(C,xe))F[Pe]=xe,F[Me]=C,Me=Pe;else break e}}function d(F){return F.length===0?null:F[0]}function u(F){if(F.length===0)return null;var xe=F[0],Me=F.pop();if(Me!==xe){F[0]=Me;e:for(var Pe=0,C=F.length,ne=C>>>1;Pe<ne;){var ge=2*(Pe+1)-1,ye=F[ge],De=ge+1,Ye=F[De];if(0>m(ye,Me))De<C&&0>m(Ye,ye)?(F[Pe]=Ye,F[De]=Me,Pe=De):(F[Pe]=ye,F[ge]=Me,Pe=ge);else if(De<C&&0>m(Ye,Me))F[Pe]=Ye,F[De]=Me,Pe=De;else break e}}return xe}function m(F,xe){var Me=F.sortIndex-xe.sortIndex;return Me!==0?Me:F.id-xe.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var p=performance;r.unstable_now=function(){return p.now()}}else{var x=Date,w=x.now();r.unstable_now=function(){return x.now()-w}}var N=[],b=[],S=1,T=null,Q=3,I=!1,te=!1,ee=!1,fe=!1,he=typeof setTimeout=="function"?setTimeout:null,oe=typeof clearTimeout=="function"?clearTimeout:null,U=typeof setImmediate<"u"?setImmediate:null;function Y(F){for(var xe=d(b);xe!==null;){if(xe.callback===null)u(b);else if(xe.startTime<=F)u(b),xe.sortIndex=xe.expirationTime,o(N,xe);else break;xe=d(b)}}function le(F){if(ee=!1,Y(F),!te)if(d(N)!==null)te=!0,ue||(ue=!0,Ce());else{var xe=d(b);xe!==null&&Ve(le,xe.startTime-F)}}var ue=!1,pe=-1,_e=5,Le=-1;function me(){return fe?!0:!(r.unstable_now()-Le<_e)}function Ae(){if(fe=!1,ue){var F=r.unstable_now();Le=F;var xe=!0;try{e:{te=!1,ee&&(ee=!1,oe(pe),pe=-1),I=!0;var Me=Q;try{t:{for(Y(F),T=d(N);T!==null&&!(T.expirationTime>F&&me());){var Pe=T.callback;if(typeof Pe=="function"){T.callback=null,Q=T.priorityLevel;var C=Pe(T.expirationTime<=F);if(F=r.unstable_now(),typeof C=="function"){T.callback=C,Y(F),xe=!0;break t}T===d(N)&&u(N),Y(F)}else u(N);T=d(N)}if(T!==null)xe=!0;else{var ne=d(b);ne!==null&&Ve(le,ne.startTime-F),xe=!1}}break e}finally{T=null,Q=Me,I=!1}xe=void 0}}finally{xe?Ce():ue=!1}}}var Ce;if(typeof U=="function")Ce=function(){U(Ae)};else if(typeof MessageChannel<"u"){var de=new MessageChannel,dt=de.port2;de.port1.onmessage=Ae,Ce=function(){dt.postMessage(null)}}else Ce=function(){he(Ae,0)};function Ve(F,xe){pe=he(function(){F(r.unstable_now())},xe)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(F){F.callback=null},r.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_e=0<F?Math.floor(1e3/F):5},r.unstable_getCurrentPriorityLevel=function(){return Q},r.unstable_next=function(F){switch(Q){case 1:case 2:case 3:var xe=3;break;default:xe=Q}var Me=Q;Q=xe;try{return F()}finally{Q=Me}},r.unstable_requestPaint=function(){fe=!0},r.unstable_runWithPriority=function(F,xe){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var Me=Q;Q=F;try{return xe()}finally{Q=Me}},r.unstable_scheduleCallback=function(F,xe,Me){var Pe=r.unstable_now();switch(typeof Me=="object"&&Me!==null?(Me=Me.delay,Me=typeof Me=="number"&&0<Me?Pe+Me:Pe):Me=Pe,F){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=Me+C,F={id:S++,callback:xe,priorityLevel:F,startTime:Me,expirationTime:C,sortIndex:-1},Me>Pe?(F.sortIndex=Me,o(b,F),d(N)===null&&F===d(b)&&(ee?(oe(pe),pe=-1):ee=!0,Ve(le,Me-Pe))):(F.sortIndex=C,o(N,F),te||I||(te=!0,ue||(ue=!0,Ce()))),F},r.unstable_shouldYield=me,r.unstable_wrapCallback=function(F){var xe=Q;return function(){var Me=Q;Q=xe;try{return F.apply(this,arguments)}finally{Q=Me}}}})(xd)),xd}var Um;function f0(){return Um||(Um=1,vd.exports=d0()),vd.exports}var bd={exports:{}},gn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qm;function h0(){if(qm)return gn;qm=1;var r=Dd();function o(N){var b="https://react.dev/errors/"+N;if(1<arguments.length){b+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)b+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+N+"; visit "+b+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function d(){}var u={d:{f:d,r:function(){throw Error(o(522))},D:d,C:d,L:d,m:d,X:d,S:d,M:d},p:0,findDOMNode:null},m=Symbol.for("react.portal");function p(N,b,S){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:m,key:T==null?null:""+T,children:N,containerInfo:b,implementation:S}}var x=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function w(N,b){if(N==="font")return"";if(typeof b=="string")return b==="use-credentials"?b:""}return gn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=u,gn.createPortal=function(N,b){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!b||b.nodeType!==1&&b.nodeType!==9&&b.nodeType!==11)throw Error(o(299));return p(N,b,null,S)},gn.flushSync=function(N){var b=x.T,S=u.p;try{if(x.T=null,u.p=2,N)return N()}finally{x.T=b,u.p=S,u.d.f()}},gn.preconnect=function(N,b){typeof N=="string"&&(b?(b=b.crossOrigin,b=typeof b=="string"?b==="use-credentials"?b:"":void 0):b=null,u.d.C(N,b))},gn.prefetchDNS=function(N){typeof N=="string"&&u.d.D(N)},gn.preinit=function(N,b){if(typeof N=="string"&&b&&typeof b.as=="string"){var S=b.as,T=w(S,b.crossOrigin),Q=typeof b.integrity=="string"?b.integrity:void 0,I=typeof b.fetchPriority=="string"?b.fetchPriority:void 0;S==="style"?u.d.S(N,typeof b.precedence=="string"?b.precedence:void 0,{crossOrigin:T,integrity:Q,fetchPriority:I}):S==="script"&&u.d.X(N,{crossOrigin:T,integrity:Q,fetchPriority:I,nonce:typeof b.nonce=="string"?b.nonce:void 0})}},gn.preinitModule=function(N,b){if(typeof N=="string")if(typeof b=="object"&&b!==null){if(b.as==null||b.as==="script"){var S=w(b.as,b.crossOrigin);u.d.M(N,{crossOrigin:S,integrity:typeof b.integrity=="string"?b.integrity:void 0,nonce:typeof b.nonce=="string"?b.nonce:void 0})}}else b==null&&u.d.M(N)},gn.preload=function(N,b){if(typeof N=="string"&&typeof b=="object"&&b!==null&&typeof b.as=="string"){var S=b.as,T=w(S,b.crossOrigin);u.d.L(N,S,{crossOrigin:T,integrity:typeof b.integrity=="string"?b.integrity:void 0,nonce:typeof b.nonce=="string"?b.nonce:void 0,type:typeof b.type=="string"?b.type:void 0,fetchPriority:typeof b.fetchPriority=="string"?b.fetchPriority:void 0,referrerPolicy:typeof b.referrerPolicy=="string"?b.referrerPolicy:void 0,imageSrcSet:typeof b.imageSrcSet=="string"?b.imageSrcSet:void 0,imageSizes:typeof b.imageSizes=="string"?b.imageSizes:void 0,media:typeof b.media=="string"?b.media:void 0})}},gn.preloadModule=function(N,b){if(typeof N=="string")if(b){var S=w(b.as,b.crossOrigin);u.d.m(N,{as:typeof b.as=="string"&&b.as!=="script"?b.as:void 0,crossOrigin:S,integrity:typeof b.integrity=="string"?b.integrity:void 0})}else u.d.m(N)},gn.requestFormReset=function(N){u.d.r(N)},gn.unstable_batchedUpdates=function(N,b){return N(b)},gn.useFormState=function(N,b,S){return x.H.useFormState(N,b,S)},gn.useFormStatus=function(){return x.H.useHostTransitionStatus()},gn.version="19.1.1",gn}var Lm;function ug(){if(Lm)return bd.exports;Lm=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(o){console.error(o)}}return r(),bd.exports=h0(),bd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hm;function m0(){if(Hm)return Qs;Hm=1;var r=f0(),o=Dd(),d=ug();function u(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function m(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function p(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function x(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function w(e){if(p(e)!==e)throw Error(u(188))}function N(e){var t=e.alternate;if(!t){if(t=p(e),t===null)throw Error(u(188));return t!==e?null:e}for(var n=e,a=t;;){var i=n.return;if(i===null)break;var f=i.alternate;if(f===null){if(a=i.return,a!==null){n=a;continue}break}if(i.child===f.child){for(f=i.child;f;){if(f===n)return w(i),e;if(f===a)return w(i),t;f=f.sibling}throw Error(u(188))}if(n.return!==a.return)n=i,a=f;else{for(var v=!1,j=i.child;j;){if(j===n){v=!0,n=i,a=f;break}if(j===a){v=!0,a=i,n=f;break}j=j.sibling}if(!v){for(j=f.child;j;){if(j===n){v=!0,n=f,a=i;break}if(j===a){v=!0,a=f,n=i;break}j=j.sibling}if(!v)throw Error(u(189))}}if(n.alternate!==a)throw Error(u(190))}if(n.tag!==3)throw Error(u(188));return n.stateNode.current===n?e:t}function b(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=b(e),t!==null)return t;e=e.sibling}return null}var S=Object.assign,T=Symbol.for("react.element"),Q=Symbol.for("react.transitional.element"),I=Symbol.for("react.portal"),te=Symbol.for("react.fragment"),ee=Symbol.for("react.strict_mode"),fe=Symbol.for("react.profiler"),he=Symbol.for("react.provider"),oe=Symbol.for("react.consumer"),U=Symbol.for("react.context"),Y=Symbol.for("react.forward_ref"),le=Symbol.for("react.suspense"),ue=Symbol.for("react.suspense_list"),pe=Symbol.for("react.memo"),_e=Symbol.for("react.lazy"),Le=Symbol.for("react.activity"),me=Symbol.for("react.memo_cache_sentinel"),Ae=Symbol.iterator;function Ce(e){return e===null||typeof e!="object"?null:(e=Ae&&e[Ae]||e["@@iterator"],typeof e=="function"?e:null)}var de=Symbol.for("react.client.reference");function dt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===de?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case te:return"Fragment";case fe:return"Profiler";case ee:return"StrictMode";case le:return"Suspense";case ue:return"SuspenseList";case Le:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case I:return"Portal";case U:return(e.displayName||"Context")+".Provider";case oe:return(e._context.displayName||"Context")+".Consumer";case Y:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case pe:return t=e.displayName||null,t!==null?t:dt(e.type)||"Memo";case _e:t=e._payload,e=e._init;try{return dt(e(t))}catch{}}return null}var Ve=Array.isArray,F=o.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,xe=d.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Me={pending:!1,data:null,method:null,action:null},Pe=[],C=-1;function ne(e){return{current:e}}function ge(e){0>C||(e.current=Pe[C],Pe[C]=null,C--)}function ye(e,t){C++,Pe[C]=e.current,e.current=t}var De=ne(null),Ye=ne(null),Ue=ne(null),Zt=ne(null);function vt(e,t){switch(ye(Ue,t),ye(Ye,e),ye(De,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?im(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=im(t),e=sm(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}ge(De),ye(De,e)}function Oe(){ge(De),ge(Ye),ge(Ue)}function fa(e){e.memoizedState!==null&&ye(Zt,e);var t=De.current,n=sm(t,e.type);t!==n&&(ye(Ye,e),ye(De,n))}function Gn(e){Ye.current===e&&(ge(De),ge(Ye)),Zt.current===e&&(ge(Zt),Hs._currentValue=Me)}var st=Object.prototype.hasOwnProperty,ta=r.unstable_scheduleCallback,_a=r.unstable_cancelCallback,na=r.unstable_shouldYield,be=r.unstable_requestPaint,Fe=r.unstable_now,pn=r.unstable_getCurrentPriorityLevel,ha=r.unstable_ImmediatePriority,Nt=r.unstable_UserBlockingPriority,Dt=r.unstable_NormalPriority,yn=r.unstable_LowPriority,Nn=r.unstable_IdlePriority,tl=r.log,aa=r.unstable_setDisableYieldValue,cn=null,Tt=null;function vn(e){if(typeof tl=="function"&&aa(e),Tt&&typeof Tt.setStrictMode=="function")try{Tt.setStrictMode(cn,e)}catch{}}var Mt=Math.clz32?Math.clz32:$n,sr=Math.log,ma=Math.LN2;function $n(e){return e>>>=0,e===0?32:31-(sr(e)/ma|0)|0}var Dn=256,or=4194304;function dn(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ze(e,t,n){var a=e.pendingLanes;if(a===0)return 0;var i=0,f=e.suspendedLanes,v=e.pingedLanes;e=e.warmLanes;var j=a&134217727;return j!==0?(a=j&~f,a!==0?i=dn(a):(v&=j,v!==0?i=dn(v):n||(n=j&~e,n!==0&&(i=dn(n))))):(j=a&~f,j!==0?i=dn(j):v!==0?i=dn(v):n||(n=a&~e,n!==0&&(i=dn(n)))),i===0?0:t!==0&&t!==i&&(t&f)===0&&(f=i&-i,n=t&-t,f>=n||f===32&&(n&4194048)!==0)?t:i}function ra(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Da(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function nl(){var e=Dn;return Dn<<=1,(Dn&4194048)===0&&(Dn=256),e}function Te(){var e=or;return or<<=1,(or&62914560)===0&&(or=4194304),e}function al(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ur(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function zi(e,t,n,a,i,f){var v=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var j=e.entanglements,M=e.expirationTimes,V=e.hiddenUpdates;for(n=v&~n;0<n;){var ie=31-Mt(n),ce=1<<ie;j[ie]=0,M[ie]=-1;var Z=V[ie];if(Z!==null)for(V[ie]=null,ie=0;ie<Z.length;ie++){var J=Z[ie];J!==null&&(J.lane&=-536870913)}n&=~ce}a!==0&&Bi(e,a,0),f!==0&&i===0&&e.tag!==0&&(e.suspendedLanes|=f&~(v&~t))}function Bi(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var a=31-Mt(t);e.entangledLanes|=t,e.entanglements[a]=e.entanglements[a]|1073741824|n&4194090}function Bl(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var a=31-Mt(n),i=1<<a;i&t|e[a]&t&&(e[a]|=t),n&=~i}}function Ui(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function qi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Ma(){var e=xe.p;return e!==0?e:(e=window.event,e===void 0?32:Em(e.type))}function cr(e,t){var n=xe.p;try{return xe.p=e,t()}finally{xe.p=n}}var Xn=Math.random().toString(36).slice(2),Ht="__reactFiber$"+Xn,Ie="__reactProps$"+Xn,At="__reactContainer$"+Xn,Li="__reactEvents$"+Xn,Ul="__reactListeners$"+Xn,ql="__reactHandles$"+Xn,rl="__reactResources$"+Xn,ll="__reactMarker$"+Xn;function Qn(e){delete e[Ht],delete e[Ie],delete e[Li],delete e[Ul],delete e[ql]}function Mn(e){var t=e[Ht];if(t)return t;for(var n=e.parentNode;n;){if(t=n[At]||n[Ht]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=dm(e);e!==null;){if(n=e[Ht])return n;e=dm(e)}return t}e=n,n=e.parentNode}return null}function xn(e){if(e=e[Ht]||e[At]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function ga(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(u(33))}function dr(e){var t=e[rl];return t||(t=e[rl]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function St(e){e[ll]=!0}var Hi=new Set,pa={};function ya(e,t){va(e,t),va(e+"Capture",t)}function va(e,t){for(pa[e]=t,e=0;e<t.length;e++)Hi.add(t[e])}var Ot=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),xa={},Pn={};function no(e){return st.call(Pn,e)?!0:st.call(xa,e)?!1:Ot.test(e)?Pn[e]=!0:(xa[e]=!0,!1)}function la(e,t,n){if(no(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var a=t.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function Oa(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function On(e,t,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+a)}}var il,ba;function Ra(e){if(il===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);il=t&&t[1]||"",ba=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+il+e+ba}var fr=!1;function Ll(e,t){if(!e||fr)return"";fr=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(t){var ce=function(){throw Error()};if(Object.defineProperty(ce.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ce,[])}catch(J){var Z=J}Reflect.construct(e,[],ce)}else{try{ce.call()}catch(J){Z=J}e.call(ce.prototype)}}else{try{throw Error()}catch(J){Z=J}(ce=e())&&typeof ce.catch=="function"&&ce.catch(function(){})}}catch(J){if(J&&Z&&typeof J.stack=="string")return[J.stack,Z.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=a.DetermineComponentFrameRoot(),v=f[0],j=f[1];if(v&&j){var M=v.split(`
`),V=j.split(`
`);for(i=a=0;a<M.length&&!M[a].includes("DetermineComponentFrameRoot");)a++;for(;i<V.length&&!V[i].includes("DetermineComponentFrameRoot");)i++;if(a===M.length||i===V.length)for(a=M.length-1,i=V.length-1;1<=a&&0<=i&&M[a]!==V[i];)i--;for(;1<=a&&0<=i;a--,i--)if(M[a]!==V[i]){if(a!==1||i!==1)do if(a--,i--,0>i||M[a]!==V[i]){var ie=`
`+M[a].replace(" at new "," at ");return e.displayName&&ie.includes("<anonymous>")&&(ie=ie.replace("<anonymous>",e.displayName)),ie}while(1<=a&&0<=i);break}}}finally{fr=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?Ra(n):""}function nt(e){switch(e.tag){case 26:case 27:case 5:return Ra(e.type);case 16:return Ra("Lazy");case 13:return Ra("Suspense");case 19:return Ra("SuspenseList");case 0:case 15:return Ll(e.type,!1);case 11:return Ll(e.type.render,!1);case 1:return Ll(e.type,!0);case 31:return Ra("Activity");default:return""}}function Yi(e){try{var t="";do t+=nt(e),e=e.return;while(e);return t}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}function bn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function sl(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function ao(e){var t=sl(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),a=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,f=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(v){a=""+v,f.call(this,v)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return a},setValue:function(v){a=""+v},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ft(e){e._valueTracker||(e._valueTracker=ao(e))}function hr(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),a="";return e&&(a=sl(e)?e.checked?"true":"false":e.value),e=a,e!==n?(t.setValue(e),!0):!1}function wa(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var mr=/[\n"\\]/g;function fn(e){return e.replace(mr,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function ol(e,t,n,a,i,f,v,j){e.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.type=v:e.removeAttribute("type"),t!=null?v==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+bn(t)):e.value!==""+bn(t)&&(e.value=""+bn(t)):v!=="submit"&&v!=="reset"||e.removeAttribute("value"),t!=null?Hl(e,v,bn(t)):n!=null?Hl(e,v,bn(n)):a!=null&&e.removeAttribute("value"),i==null&&f!=null&&(e.defaultChecked=!!f),i!=null&&(e.checked=i&&typeof i!="function"&&typeof i!="symbol"),j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"?e.name=""+bn(j):e.removeAttribute("name")}function ul(e,t,n,a,i,f,v,j){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),t!=null||n!=null){if(!(f!=="submit"&&f!=="reset"||t!=null))return;n=n!=null?""+bn(n):"",t=t!=null?""+bn(t):n,j||t===e.value||(e.value=t),e.defaultValue=t}a=a??i,a=typeof a!="function"&&typeof a!="symbol"&&!!a,e.checked=j?e.checked:!!a,e.defaultChecked=!!a,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(e.name=v)}function Hl(e,t,n){t==="number"&&wa(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function ia(e,t,n,a){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&a&&(e[n].defaultSelected=!0)}else{for(n=""+bn(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,a&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Ki(e,t,n){if(t!=null&&(t=""+bn(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+bn(n):""}function gr(e,t,n,a){if(t==null){if(a!=null){if(n!=null)throw Error(u(92));if(Ve(a)){if(1<a.length)throw Error(u(93));a=a[0]}n=a}n==null&&(n=""),t=n}n=bn(t),e.defaultValue=n,a=e.textContent,a===n&&a!==""&&a!==null&&(e.value=a)}function za(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Cu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function it(e,t,n){var a=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?a?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":a?e.setProperty(t,n):typeof n!="number"||n===0||Cu.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Gi(e,t,n){if(t!=null&&typeof t!="object")throw Error(u(62));if(e=e.style,n!=null){for(var a in n)!n.hasOwnProperty(a)||t!=null&&t.hasOwnProperty(a)||(a.indexOf("--")===0?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="");for(var i in t)a=t[i],t.hasOwnProperty(i)&&n[i]!==a&&it(e,i,a)}else for(var f in t)t.hasOwnProperty(f)&&it(e,f,t[f])}function $i(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _u=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),wn=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function sa(e){return wn.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var pr=null;function Vn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ba=null,Ua=null;function Yt(e){var t=xn(e);if(t&&(e=t.stateNode)){var n=e[Ie]||null;e:switch(e=t.stateNode,t.type){case"input":if(ol(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+fn(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var a=n[t];if(a!==e&&a.form===e.form){var i=a[Ie]||null;if(!i)throw Error(u(90));ol(a,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<n.length;t++)a=n[t],a.form===e.form&&hr(a)}break e;case"textarea":Ki(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&ia(e,!!n.multiple,t,!1)}}}var En=!1;function yr(e,t,n){if(En)return e(t,n);En=!0;try{var a=e(t);return a}finally{if(En=!1,(Ba!==null||Ua!==null)&&(Po(),Ba&&(t=Ba,e=Ua,Ua=Ba=null,Yt(t),e)))for(t=0;t<e.length;t++)Yt(e[t])}}function oa(e,t){var n=e.stateNode;if(n===null)return null;var a=n[Ie]||null;if(a===null)return null;n=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(u(231,t,typeof n));return n}var Rn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Fn=!1;if(Rn)try{var cl={};Object.defineProperty(cl,"passive",{get:function(){Fn=!0}}),window.addEventListener("test",cl,cl),window.removeEventListener("test",cl,cl)}catch{Fn=!1}var Jt=null,dl=null,fl=null;function Yl(){if(fl)return fl;var e,t=dl,n=t.length,a,i="value"in Jt?Jt.value:Jt.textContent,f=i.length;for(e=0;e<n&&t[e]===i[e];e++);var v=n-e;for(a=1;a<=v&&t[n-a]===i[f-a];a++);return fl=i.slice(e,1<a?1-a:void 0)}function Sa(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function vr(){return!0}function Xi(){return!1}function hn(e){function t(n,a,i,f,v){this._reactName=n,this._targetInst=i,this.type=a,this.nativeEvent=f,this.target=v,this.currentTarget=null;for(var j in e)e.hasOwnProperty(j)&&(n=e[j],this[j]=n?n(f):f[j]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?vr:Xi,this.isPropagationStopped=Xi,this}return S(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=vr)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=vr)},persist:function(){},isPersistent:vr}),t}var zn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Kl=hn(zn),hl=S({},zn,{view:0,detail:0}),Gl=hn(hl),xr,ml,gl,$l=S({},hl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qa,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==gl&&(gl&&e.type==="mousemove"?(xr=e.screenX-gl.screenX,ml=e.screenY-gl.screenY):ml=xr=0,gl=e),xr)},movementY:function(e){return"movementY"in e?e.movementY:ml}}),ro=hn($l),Qi=S({},$l,{dataTransfer:0}),Pi=hn(Qi),lo=S({},hl,{relatedTarget:0}),br=hn(lo),Xl=S({},zn,{animationName:0,elapsedTime:0,pseudoElement:0}),Ql=hn(Xl),io=S({},zn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Du=hn(io),wr=S({},zn,{data:0}),Pl=hn(wr),Vi={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Fi={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Zi={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function en(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Zi[e])?!!t[e]:!1}function qa(){return en}var pl=S({},hl,{key:function(e){if(e.key){var t=Vi[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Sa(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Fi[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qa,charCode:function(e){return e.type==="keypress"?Sa(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Sa(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),so=hn(pl),Vl=S({},$l,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ji=hn(Vl),oo=S({},hl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qa}),Fl=hn(oo),Wi=S({},zn,{propertyName:0,elapsedTime:0,pseudoElement:0}),La=hn(Wi),Ii=S({},$l,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),es=hn(Ii),Zl=S({},zn,{newState:0,oldState:0}),ts=hn(Zl),uo=[9,13,27,32],ns=Rn&&"CompositionEvent"in window,Ha=null;Rn&&"documentMode"in document&&(Ha=document.documentMode);var Jl=Rn&&"TextEvent"in window&&!Ha,co=Rn&&(!ns||Ha&&8<Ha&&11>=Ha),Wl=" ",Il=!1;function fo(e,t){switch(e){case"keyup":return uo.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function as(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Sr=!1;function ho(e,t){switch(e){case"compositionend":return as(t);case"keypress":return t.which!==32?null:(Il=!0,Wl);case"textInput":return e=t.data,e===Wl&&Il?null:e;default:return null}}function mo(e,t){if(Sr)return e==="compositionend"||!ns&&fo(e,t)?(e=Yl(),fl=dl=Jt=null,Sr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return co&&t.locale!=="ko"?null:t.data;default:return null}}var Mu={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function rs(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Mu[e.type]:t==="textarea"}function ei(e,t,n,a){Ba?Ua?Ua.push(a):Ua=[a]:Ba=a,t=Io(t,"onChange"),0<t.length&&(n=new Kl("onChange","change",null,n,a),e.push({event:n,listeners:t}))}var kr=null,jr=null;function Ou(e){tm(e,0)}function ti(e){var t=ga(e);if(hr(t))return e}function go(e,t){if(e==="change")return t}var yl=!1;if(Rn){var Bn;if(Rn){var Ct="oninput"in document;if(!Ct){var vl=document.createElement("div");vl.setAttribute("oninput","return;"),Ct=typeof vl.oninput=="function"}Bn=Ct}else Bn=!1;yl=Bn&&(!document.documentMode||9<document.documentMode)}function Sn(){kr&&(kr.detachEvent("onpropertychange",po),jr=kr=null)}function po(e){if(e.propertyName==="value"&&ti(jr)){var t=[];ei(t,jr,e,Vn(e)),yr(Ou,t)}}function ls(e,t,n){e==="focusin"?(Sn(),kr=t,jr=n,kr.attachEvent("onpropertychange",po)):e==="focusout"&&Sn()}function yo(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ti(jr)}function Ya(e,t){if(e==="click")return ti(t)}function is(e,t){if(e==="input"||e==="change")return ti(t)}function Nr(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ut=typeof Object.is=="function"?Object.is:Nr;function Er(e,t){if(Ut(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(a=0;a<n.length;a++){var i=n[a];if(!st.call(t,i)||!Ut(e[i],t[i]))return!1}return!0}function l(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function c(e,t){var n=l(e);e=0;for(var a;n;){if(n.nodeType===3){if(a=e+n.textContent.length,e<=t&&a>=t)return{node:n,offset:t-e};e=a}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=l(n)}}function h(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?h(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function g(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=wa(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=wa(e.document)}return t}function y(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var k=Rn&&"documentMode"in document&&11>=document.documentMode,A=null,_=null,O=null,B=!1;function H(e,t,n){var a=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;B||A==null||A!==wa(a)||(a=A,"selectionStart"in a&&y(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),O&&Er(O,a)||(O=a,a=Io(_,"onSelect"),0<a.length&&(t=new Kl("onSelect","select",null,t,n),e.push({event:t,listeners:a}),t.target=A)))}function D(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var K={animationend:D("Animation","AnimationEnd"),animationiteration:D("Animation","AnimationIteration"),animationstart:D("Animation","AnimationStart"),transitionrun:D("Transition","TransitionRun"),transitionstart:D("Transition","TransitionStart"),transitioncancel:D("Transition","TransitionCancel"),transitionend:D("Transition","TransitionEnd")},R={},q={};Rn&&(q=document.createElement("div").style,"AnimationEvent"in window||(delete K.animationend.animation,delete K.animationiteration.animation,delete K.animationstart.animation),"TransitionEvent"in window||delete K.transitionend.transition);function L(e){if(R[e])return R[e];if(!K[e])return e;var t=K[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in q)return R[e]=t[n];return e}var G=L("animationend"),X=L("animationiteration"),W=L("animationstart"),ae=L("transitionrun"),re=L("transitionstart"),ve=L("transitioncancel"),je=L("transitionend"),we=new Map,Se="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Se.push("scrollEnd");function ke(e,t){we.set(e,t),ya(t,[e])}var Ee=new WeakMap;function Ne(e,t){if(typeof e=="object"&&e!==null){var n=Ee.get(e);return n!==void 0?n:(t={value:e,source:t,stack:Yi(t)},Ee.set(e,t),t)}return{value:e,source:t,stack:Yi(t)}}var qe=[],Ze=0,Xe=0;function kt(){for(var e=Ze,t=Xe=Ze=0;t<e;){var n=qe[t];qe[t++]=null;var a=qe[t];qe[t++]=null;var i=qe[t];qe[t++]=null;var f=qe[t];if(qe[t++]=null,a!==null&&i!==null){var v=a.pending;v===null?i.next=i:(i.next=v.next,v.next=i),a.pending=i}f!==0&&xl(n,i,f)}}function Ke(e,t,n,a){qe[Ze++]=e,qe[Ze++]=t,qe[Ze++]=n,qe[Ze++]=a,Xe|=a,e.lanes|=a,e=e.alternate,e!==null&&(e.lanes|=a)}function Xt(e,t,n,a){return Ke(e,t,n,a),Qt(e)}function Rt(e,t){return Ke(e,null,null,t),Qt(e)}function xl(e,t,n){e.lanes|=n;var a=e.alternate;a!==null&&(a.lanes|=n);for(var i=!1,f=e.return;f!==null;)f.childLanes|=n,a=f.alternate,a!==null&&(a.childLanes|=n),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(i=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,i&&t!==null&&(i=31-Mt(n),e=f.hiddenUpdates,a=e[i],a===null?e[i]=[t]:a.push(t),t.lane=n|536870912),f):null}function Qt(e){if(50<Ms)throw Ms=0,Lc=null,Error(u(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Tn={};function ss(e,t,n,a){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Un(e,t,n,a){return new ss(e,t,n,a)}function Ru(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ka(e,t){var n=e.alternate;return n===null?(n=Un(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Ld(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function vo(e,t,n,a,i,f){var v=0;if(a=e,typeof e=="function")Ru(e)&&(v=1);else if(typeof e=="string")v=Vp(e,n,De.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Le:return e=Un(31,n,t,i),e.elementType=Le,e.lanes=f,e;case te:return bl(n.children,i,f,t);case ee:v=8,i|=24;break;case fe:return e=Un(12,n,t,i|2),e.elementType=fe,e.lanes=f,e;case le:return e=Un(13,n,t,i),e.elementType=le,e.lanes=f,e;case ue:return e=Un(19,n,t,i),e.elementType=ue,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case he:case U:v=10;break e;case oe:v=9;break e;case Y:v=11;break e;case pe:v=14;break e;case _e:v=16,a=null;break e}v=29,n=Error(u(130,e===null?"null":typeof e,"")),a=null}return t=Un(v,n,t,i),t.elementType=e,t.type=a,t.lanes=f,t}function bl(e,t,n,a){return e=Un(7,e,a,t),e.lanes=n,e}function zu(e,t,n){return e=Un(6,e,null,t),e.lanes=n,e}function Bu(e,t,n){return t=Un(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var ni=[],ai=0,xo=null,bo=0,Zn=[],Jn=0,wl=null,Ga=1,$a="";function Sl(e,t){ni[ai++]=bo,ni[ai++]=xo,xo=e,bo=t}function Hd(e,t,n){Zn[Jn++]=Ga,Zn[Jn++]=$a,Zn[Jn++]=wl,wl=e;var a=Ga;e=$a;var i=32-Mt(a)-1;a&=~(1<<i),n+=1;var f=32-Mt(t)+i;if(30<f){var v=i-i%5;f=(a&(1<<v)-1).toString(32),a>>=v,i-=v,Ga=1<<32-Mt(t)+i|n<<i|a,$a=f+e}else Ga=1<<f|n<<i|a,$a=e}function Uu(e){e.return!==null&&(Sl(e,1),Hd(e,1,0))}function qu(e){for(;e===xo;)xo=ni[--ai],ni[ai]=null,bo=ni[--ai],ni[ai]=null;for(;e===wl;)wl=Zn[--Jn],Zn[Jn]=null,$a=Zn[--Jn],Zn[Jn]=null,Ga=Zn[--Jn],Zn[Jn]=null}var kn=null,qt=null,ct=!1,kl=null,ka=!1,Lu=Error(u(519));function jl(e){var t=Error(u(418,""));throw cs(Ne(t,e)),Lu}function Yd(e){var t=e.stateNode,n=e.type,a=e.memoizedProps;switch(t[Ht]=e,t[Ie]=a,n){case"dialog":rt("cancel",t),rt("close",t);break;case"iframe":case"object":case"embed":rt("load",t);break;case"video":case"audio":for(n=0;n<Rs.length;n++)rt(Rs[n],t);break;case"source":rt("error",t);break;case"img":case"image":case"link":rt("error",t),rt("load",t);break;case"details":rt("toggle",t);break;case"input":rt("invalid",t),ul(t,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0),ft(t);break;case"select":rt("invalid",t);break;case"textarea":rt("invalid",t),gr(t,a.value,a.defaultValue,a.children),ft(t)}n=a.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||a.suppressHydrationWarning===!0||lm(t.textContent,n)?(a.popover!=null&&(rt("beforetoggle",t),rt("toggle",t)),a.onScroll!=null&&rt("scroll",t),a.onScrollEnd!=null&&rt("scrollend",t),a.onClick!=null&&(t.onclick=eu),t=!0):t=!1,t||jl(e)}function Kd(e){for(kn=e.return;kn;)switch(kn.tag){case 5:case 13:ka=!1;return;case 27:case 3:ka=!0;return;default:kn=kn.return}}function os(e){if(e!==kn)return!1;if(!ct)return Kd(e),ct=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||td(e.type,e.memoizedProps)),n=!n),n&&qt&&jl(e),Kd(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(u(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(n=e.data,n==="/$"){if(t===0){qt=ca(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++;e=e.nextSibling}qt=null}}else t===27?(t=qt,Kr(e.type)?(e=ld,ld=null,qt=e):qt=t):qt=kn?ca(e.stateNode.nextSibling):null;return!0}function us(){qt=kn=null,ct=!1}function Gd(){var e=kl;return e!==null&&(_n===null?_n=e:_n.push.apply(_n,e),kl=null),e}function cs(e){kl===null?kl=[e]:kl.push(e)}var Hu=ne(null),Nl=null,Xa=null;function Tr(e,t,n){ye(Hu,t._currentValue),t._currentValue=n}function Qa(e){e._currentValue=Hu.current,ge(Hu)}function Yu(e,t,n){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===n)break;e=e.return}}function Ku(e,t,n,a){var i=e.child;for(i!==null&&(i.return=e);i!==null;){var f=i.dependencies;if(f!==null){var v=i.child;f=f.firstContext;e:for(;f!==null;){var j=f;f=i;for(var M=0;M<t.length;M++)if(j.context===t[M]){f.lanes|=n,j=f.alternate,j!==null&&(j.lanes|=n),Yu(f.return,n,e),a||(v=null);break e}f=j.next}}else if(i.tag===18){if(v=i.return,v===null)throw Error(u(341));v.lanes|=n,f=v.alternate,f!==null&&(f.lanes|=n),Yu(v,n,e),v=null}else v=i.child;if(v!==null)v.return=i;else for(v=i;v!==null;){if(v===e){v=null;break}if(i=v.sibling,i!==null){i.return=v.return,v=i;break}v=v.return}i=v}}function ds(e,t,n,a){e=null;for(var i=t,f=!1;i!==null;){if(!f){if((i.flags&524288)!==0)f=!0;else if((i.flags&262144)!==0)break}if(i.tag===10){var v=i.alternate;if(v===null)throw Error(u(387));if(v=v.memoizedProps,v!==null){var j=i.type;Ut(i.pendingProps.value,v.value)||(e!==null?e.push(j):e=[j])}}else if(i===Zt.current){if(v=i.alternate,v===null)throw Error(u(387));v.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(e!==null?e.push(Hs):e=[Hs])}i=i.return}e!==null&&Ku(t,e,n,a),t.flags|=262144}function wo(e){for(e=e.firstContext;e!==null;){if(!Ut(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function El(e){Nl=e,Xa=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function mn(e){return $d(Nl,e)}function So(e,t){return Nl===null&&El(e),$d(e,t)}function $d(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},Xa===null){if(e===null)throw Error(u(308));Xa=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Xa=Xa.next=t;return n}var Pg=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,a){e.push(a)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},Vg=r.unstable_scheduleCallback,Fg=r.unstable_NormalPriority,Wt={$$typeof:U,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Gu(){return{controller:new Pg,data:new Map,refCount:0}}function fs(e){e.refCount--,e.refCount===0&&Vg(Fg,function(){e.controller.abort()})}var hs=null,$u=0,ri=0,li=null;function Zg(e,t){if(hs===null){var n=hs=[];$u=0,ri=Qc(),li={status:"pending",value:void 0,then:function(a){n.push(a)}}}return $u++,t.then(Xd,Xd),t}function Xd(){if(--$u===0&&hs!==null){li!==null&&(li.status="fulfilled");var e=hs;hs=null,ri=0,li=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Jg(e,t){var n=[],a={status:"pending",value:null,reason:null,then:function(i){n.push(i)}};return e.then(function(){a.status="fulfilled",a.value=t;for(var i=0;i<n.length;i++)(0,n[i])(t)},function(i){for(a.status="rejected",a.reason=i,i=0;i<n.length;i++)(0,n[i])(void 0)}),a}var Qd=F.S;F.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&Zg(e,t),Qd!==null&&Qd(e,t)};var Tl=ne(null);function Xu(){var e=Tl.current;return e!==null?e:Et.pooledCache}function ko(e,t){t===null?ye(Tl,Tl.current):ye(Tl,t.pool)}function Pd(){var e=Xu();return e===null?null:{parent:Wt._currentValue,pool:e}}var ms=Error(u(460)),Vd=Error(u(474)),jo=Error(u(542)),Qu={then:function(){}};function Fd(e){return e=e.status,e==="fulfilled"||e==="rejected"}function No(){}function Zd(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(No,No),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Wd(e),e;default:if(typeof t.status=="string")t.then(No,No);else{if(e=Et,e!==null&&100<e.shellSuspendCounter)throw Error(u(482));e=t,e.status="pending",e.then(function(a){if(t.status==="pending"){var i=t;i.status="fulfilled",i.value=a}},function(a){if(t.status==="pending"){var i=t;i.status="rejected",i.reason=a}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Wd(e),e}throw gs=t,ms}}var gs=null;function Jd(){if(gs===null)throw Error(u(459));var e=gs;return gs=null,e}function Wd(e){if(e===ms||e===jo)throw Error(u(483))}var Ar=!1;function Pu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Vu(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Cr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function _r(e,t,n){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,(ht&2)!==0){var i=a.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),a.pending=t,t=Qt(e),xl(e,null,n),t}return Ke(e,a,t,n),Qt(e)}function ps(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,Bl(e,n)}}function Fu(e,t){var n=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,n===a)){var i=null,f=null;if(n=n.firstBaseUpdate,n!==null){do{var v={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};f===null?i=f=v:f=f.next=v,n=n.next}while(n!==null);f===null?i=f=t:f=f.next=t}else i=f=t;n={baseState:a.baseState,firstBaseUpdate:i,lastBaseUpdate:f,shared:a.shared,callbacks:a.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Zu=!1;function ys(){if(Zu){var e=li;if(e!==null)throw e}}function vs(e,t,n,a){Zu=!1;var i=e.updateQueue;Ar=!1;var f=i.firstBaseUpdate,v=i.lastBaseUpdate,j=i.shared.pending;if(j!==null){i.shared.pending=null;var M=j,V=M.next;M.next=null,v===null?f=V:v.next=V,v=M;var ie=e.alternate;ie!==null&&(ie=ie.updateQueue,j=ie.lastBaseUpdate,j!==v&&(j===null?ie.firstBaseUpdate=V:j.next=V,ie.lastBaseUpdate=M))}if(f!==null){var ce=i.baseState;v=0,ie=V=M=null,j=f;do{var Z=j.lane&-536870913,J=Z!==j.lane;if(J?(ot&Z)===Z:(a&Z)===Z){Z!==0&&Z===ri&&(Zu=!0),ie!==null&&(ie=ie.next={lane:0,tag:j.tag,payload:j.payload,callback:null,next:null});e:{var Qe=e,He=j;Z=t;var wt=n;switch(He.tag){case 1:if(Qe=He.payload,typeof Qe=="function"){ce=Qe.call(wt,ce,Z);break e}ce=Qe;break e;case 3:Qe.flags=Qe.flags&-65537|128;case 0:if(Qe=He.payload,Z=typeof Qe=="function"?Qe.call(wt,ce,Z):Qe,Z==null)break e;ce=S({},ce,Z);break e;case 2:Ar=!0}}Z=j.callback,Z!==null&&(e.flags|=64,J&&(e.flags|=8192),J=i.callbacks,J===null?i.callbacks=[Z]:J.push(Z))}else J={lane:Z,tag:j.tag,payload:j.payload,callback:j.callback,next:null},ie===null?(V=ie=J,M=ce):ie=ie.next=J,v|=Z;if(j=j.next,j===null){if(j=i.shared.pending,j===null)break;J=j,j=J.next,J.next=null,i.lastBaseUpdate=J,i.shared.pending=null}}while(!0);ie===null&&(M=ce),i.baseState=M,i.firstBaseUpdate=V,i.lastBaseUpdate=ie,f===null&&(i.shared.lanes=0),qr|=v,e.lanes=v,e.memoizedState=ce}}function Id(e,t){if(typeof e!="function")throw Error(u(191,e));e.call(t)}function ef(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)Id(n[e],t)}var ii=ne(null),Eo=ne(0);function tf(e,t){e=Ia,ye(Eo,e),ye(ii,t),Ia=e|t.baseLanes}function Ju(){ye(Eo,Ia),ye(ii,ii.current)}function Wu(){Ia=Eo.current,ge(ii),ge(Eo)}var Dr=0,et=null,xt=null,Pt=null,To=!1,si=!1,Al=!1,Ao=0,xs=0,oi=null,Wg=0;function Kt(){throw Error(u(321))}function Iu(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Ut(e[n],t[n]))return!1;return!0}function ec(e,t,n,a,i,f){return Dr=f,et=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,F.H=e===null||e.memoizedState===null?Lf:Hf,Al=!1,f=n(a,i),Al=!1,si&&(f=af(t,n,a,i)),nf(e),f}function nf(e){F.H=Ro;var t=xt!==null&&xt.next!==null;if(Dr=0,Pt=xt=et=null,To=!1,xs=0,oi=null,t)throw Error(u(300));e===null||tn||(e=e.dependencies,e!==null&&wo(e)&&(tn=!0))}function af(e,t,n,a){et=e;var i=0;do{if(si&&(oi=null),xs=0,si=!1,25<=i)throw Error(u(301));if(i+=1,Pt=xt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}F.H=lp,f=t(n,a)}while(si);return f}function Ig(){var e=F.H,t=e.useState()[0];return t=typeof t.then=="function"?bs(t):t,e=e.useState()[0],(xt!==null?xt.memoizedState:null)!==e&&(et.flags|=1024),t}function tc(){var e=Ao!==0;return Ao=0,e}function nc(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function ac(e){if(To){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}To=!1}Dr=0,Pt=xt=et=null,si=!1,xs=Ao=0,oi=null}function An(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pt===null?et.memoizedState=Pt=e:Pt=Pt.next=e,Pt}function Vt(){if(xt===null){var e=et.alternate;e=e!==null?e.memoizedState:null}else e=xt.next;var t=Pt===null?et.memoizedState:Pt.next;if(t!==null)Pt=t,xt=e;else{if(e===null)throw et.alternate===null?Error(u(467)):Error(u(310));xt=e,e={memoizedState:xt.memoizedState,baseState:xt.baseState,baseQueue:xt.baseQueue,queue:xt.queue,next:null},Pt===null?et.memoizedState=Pt=e:Pt=Pt.next=e}return Pt}function rc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function bs(e){var t=xs;return xs+=1,oi===null&&(oi=[]),e=Zd(oi,e,t),t=et,(Pt===null?t.memoizedState:Pt.next)===null&&(t=t.alternate,F.H=t===null||t.memoizedState===null?Lf:Hf),e}function Co(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return bs(e);if(e.$$typeof===U)return mn(e)}throw Error(u(438,String(e)))}function lc(e){var t=null,n=et.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var a=et.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(t={data:a.data.map(function(i){return i.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=rc(),et.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),a=0;a<e;a++)n[a]=me;return t.index++,n}function Pa(e,t){return typeof t=="function"?t(e):t}function _o(e){var t=Vt();return ic(t,xt,e)}function ic(e,t,n){var a=e.queue;if(a===null)throw Error(u(311));a.lastRenderedReducer=n;var i=e.baseQueue,f=a.pending;if(f!==null){if(i!==null){var v=i.next;i.next=f.next,f.next=v}t.baseQueue=i=f,a.pending=null}if(f=e.baseState,i===null)e.memoizedState=f;else{t=i.next;var j=v=null,M=null,V=t,ie=!1;do{var ce=V.lane&-536870913;if(ce!==V.lane?(ot&ce)===ce:(Dr&ce)===ce){var Z=V.revertLane;if(Z===0)M!==null&&(M=M.next={lane:0,revertLane:0,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null}),ce===ri&&(ie=!0);else if((Dr&Z)===Z){V=V.next,Z===ri&&(ie=!0);continue}else ce={lane:0,revertLane:V.revertLane,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null},M===null?(j=M=ce,v=f):M=M.next=ce,et.lanes|=Z,qr|=Z;ce=V.action,Al&&n(f,ce),f=V.hasEagerState?V.eagerState:n(f,ce)}else Z={lane:ce,revertLane:V.revertLane,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null},M===null?(j=M=Z,v=f):M=M.next=Z,et.lanes|=ce,qr|=ce;V=V.next}while(V!==null&&V!==t);if(M===null?v=f:M.next=j,!Ut(f,e.memoizedState)&&(tn=!0,ie&&(n=li,n!==null)))throw n;e.memoizedState=f,e.baseState=v,e.baseQueue=M,a.lastRenderedState=f}return i===null&&(a.lanes=0),[e.memoizedState,a.dispatch]}function sc(e){var t=Vt(),n=t.queue;if(n===null)throw Error(u(311));n.lastRenderedReducer=e;var a=n.dispatch,i=n.pending,f=t.memoizedState;if(i!==null){n.pending=null;var v=i=i.next;do f=e(f,v.action),v=v.next;while(v!==i);Ut(f,t.memoizedState)||(tn=!0),t.memoizedState=f,t.baseQueue===null&&(t.baseState=f),n.lastRenderedState=f}return[f,a]}function rf(e,t,n){var a=et,i=Vt(),f=ct;if(f){if(n===void 0)throw Error(u(407));n=n()}else n=t();var v=!Ut((xt||i).memoizedState,n);v&&(i.memoizedState=n,tn=!0),i=i.queue;var j=of.bind(null,a,i,e);if(ws(2048,8,j,[e]),i.getSnapshot!==t||v||Pt!==null&&Pt.memoizedState.tag&1){if(a.flags|=2048,ui(9,Do(),sf.bind(null,a,i,n,t),null),Et===null)throw Error(u(349));f||(Dr&124)!==0||lf(a,t,n)}return n}function lf(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=et.updateQueue,t===null?(t=rc(),et.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function sf(e,t,n,a){t.value=n,t.getSnapshot=a,uf(t)&&cf(e)}function of(e,t,n){return n(function(){uf(t)&&cf(e)})}function uf(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Ut(e,n)}catch{return!0}}function cf(e){var t=Rt(e,2);t!==null&&Kn(t,e,2)}function oc(e){var t=An();if(typeof e=="function"){var n=e;if(e=n(),Al){vn(!0);try{n()}finally{vn(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pa,lastRenderedState:e},t}function df(e,t,n,a){return e.baseState=n,ic(e,xt,typeof a=="function"?a:Pa)}function ep(e,t,n,a,i){if(Oo(e))throw Error(u(485));if(e=t.action,e!==null){var f={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){f.listeners.push(v)}};F.T!==null?n(!0):f.isTransition=!1,a(f),n=t.pending,n===null?(f.next=t.pending=f,ff(t,f)):(f.next=n.next,t.pending=n.next=f)}}function ff(e,t){var n=t.action,a=t.payload,i=e.state;if(t.isTransition){var f=F.T,v={};F.T=v;try{var j=n(i,a),M=F.S;M!==null&&M(v,j),hf(e,t,j)}catch(V){uc(e,t,V)}finally{F.T=f}}else try{f=n(i,a),hf(e,t,f)}catch(V){uc(e,t,V)}}function hf(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(a){mf(e,t,a)},function(a){return uc(e,t,a)}):mf(e,t,n)}function mf(e,t,n){t.status="fulfilled",t.value=n,gf(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,ff(e,n)))}function uc(e,t,n){var a=e.pending;if(e.pending=null,a!==null){a=a.next;do t.status="rejected",t.reason=n,gf(t),t=t.next;while(t!==a)}e.action=null}function gf(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function pf(e,t){return t}function yf(e,t){if(ct){var n=Et.formState;if(n!==null){e:{var a=et;if(ct){if(qt){t:{for(var i=qt,f=ka;i.nodeType!==8;){if(!f){i=null;break t}if(i=ca(i.nextSibling),i===null){i=null;break t}}f=i.data,i=f==="F!"||f==="F"?i:null}if(i){qt=ca(i.nextSibling),a=i.data==="F!";break e}}jl(a)}a=!1}a&&(t=n[0])}}return n=An(),n.memoizedState=n.baseState=t,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:pf,lastRenderedState:t},n.queue=a,n=Bf.bind(null,et,a),a.dispatch=n,a=oc(!1),f=mc.bind(null,et,!1,a.queue),a=An(),i={state:t,dispatch:null,action:e,pending:null},a.queue=i,n=ep.bind(null,et,i,f,n),i.dispatch=n,a.memoizedState=e,[t,n,!1]}function vf(e){var t=Vt();return xf(t,xt,e)}function xf(e,t,n){if(t=ic(e,t,pf)[0],e=_o(Pa)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var a=bs(t)}catch(v){throw v===ms?jo:v}else a=t;t=Vt();var i=t.queue,f=i.dispatch;return n!==t.memoizedState&&(et.flags|=2048,ui(9,Do(),tp.bind(null,i,n),null)),[a,f,e]}function tp(e,t){e.action=t}function bf(e){var t=Vt(),n=xt;if(n!==null)return xf(t,n,e);Vt(),t=t.memoizedState,n=Vt();var a=n.queue.dispatch;return n.memoizedState=e,[t,a,!1]}function ui(e,t,n,a){return e={tag:e,create:n,deps:a,inst:t,next:null},t=et.updateQueue,t===null&&(t=rc(),et.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(a=n.next,n.next=e,e.next=a,t.lastEffect=e),e}function Do(){return{destroy:void 0,resource:void 0}}function wf(){return Vt().memoizedState}function Mo(e,t,n,a){var i=An();a=a===void 0?null:a,et.flags|=e,i.memoizedState=ui(1|t,Do(),n,a)}function ws(e,t,n,a){var i=Vt();a=a===void 0?null:a;var f=i.memoizedState.inst;xt!==null&&a!==null&&Iu(a,xt.memoizedState.deps)?i.memoizedState=ui(t,f,n,a):(et.flags|=e,i.memoizedState=ui(1|t,f,n,a))}function Sf(e,t){Mo(8390656,8,e,t)}function kf(e,t){ws(2048,8,e,t)}function jf(e,t){return ws(4,2,e,t)}function Nf(e,t){return ws(4,4,e,t)}function Ef(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Tf(e,t,n){n=n!=null?n.concat([e]):null,ws(4,4,Ef.bind(null,t,e),n)}function cc(){}function Af(e,t){var n=Vt();t=t===void 0?null:t;var a=n.memoizedState;return t!==null&&Iu(t,a[1])?a[0]:(n.memoizedState=[e,t],e)}function Cf(e,t){var n=Vt();t=t===void 0?null:t;var a=n.memoizedState;if(t!==null&&Iu(t,a[1]))return a[0];if(a=e(),Al){vn(!0);try{e()}finally{vn(!1)}}return n.memoizedState=[a,t],a}function dc(e,t,n){return n===void 0||(Dr&1073741824)!==0?e.memoizedState=t:(e.memoizedState=n,e=Mh(),et.lanes|=e,qr|=e,n)}function _f(e,t,n,a){return Ut(n,t)?n:ii.current!==null?(e=dc(e,n,a),Ut(e,t)||(tn=!0),e):(Dr&42)===0?(tn=!0,e.memoizedState=n):(e=Mh(),et.lanes|=e,qr|=e,t)}function Df(e,t,n,a,i){var f=xe.p;xe.p=f!==0&&8>f?f:8;var v=F.T,j={};F.T=j,mc(e,!1,t,n);try{var M=i(),V=F.S;if(V!==null&&V(j,M),M!==null&&typeof M=="object"&&typeof M.then=="function"){var ie=Jg(M,a);Ss(e,t,ie,Yn(e))}else Ss(e,t,a,Yn(e))}catch(ce){Ss(e,t,{then:function(){},status:"rejected",reason:ce},Yn())}finally{xe.p=f,F.T=v}}function np(){}function fc(e,t,n,a){if(e.tag!==5)throw Error(u(476));var i=Mf(e).queue;Df(e,i,t,Me,n===null?np:function(){return Of(e),n(a)})}function Mf(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:Me,baseState:Me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pa,lastRenderedState:Me},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pa,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Of(e){var t=Mf(e).next.queue;Ss(e,t,{},Yn())}function hc(){return mn(Hs)}function Rf(){return Vt().memoizedState}function zf(){return Vt().memoizedState}function ap(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=Yn();e=Cr(n);var a=_r(t,e,n);a!==null&&(Kn(a,t,n),ps(a,t,n)),t={cache:Gu()},e.payload=t;return}t=t.return}}function rp(e,t,n){var a=Yn();n={lane:a,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},Oo(e)?Uf(t,n):(n=Xt(e,t,n,a),n!==null&&(Kn(n,e,a),qf(n,t,a)))}function Bf(e,t,n){var a=Yn();Ss(e,t,n,a)}function Ss(e,t,n,a){var i={lane:a,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(Oo(e))Uf(t,i);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=t.lastRenderedReducer,f!==null))try{var v=t.lastRenderedState,j=f(v,n);if(i.hasEagerState=!0,i.eagerState=j,Ut(j,v))return Ke(e,t,i,0),Et===null&&kt(),!1}catch{}finally{}if(n=Xt(e,t,i,a),n!==null)return Kn(n,e,a),qf(n,t,a),!0}return!1}function mc(e,t,n,a){if(a={lane:2,revertLane:Qc(),action:a,hasEagerState:!1,eagerState:null,next:null},Oo(e)){if(t)throw Error(u(479))}else t=Xt(e,n,a,2),t!==null&&Kn(t,e,2)}function Oo(e){var t=e.alternate;return e===et||t!==null&&t===et}function Uf(e,t){si=To=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function qf(e,t,n){if((n&4194048)!==0){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,Bl(e,n)}}var Ro={readContext:mn,use:Co,useCallback:Kt,useContext:Kt,useEffect:Kt,useImperativeHandle:Kt,useLayoutEffect:Kt,useInsertionEffect:Kt,useMemo:Kt,useReducer:Kt,useRef:Kt,useState:Kt,useDebugValue:Kt,useDeferredValue:Kt,useTransition:Kt,useSyncExternalStore:Kt,useId:Kt,useHostTransitionStatus:Kt,useFormState:Kt,useActionState:Kt,useOptimistic:Kt,useMemoCache:Kt,useCacheRefresh:Kt},Lf={readContext:mn,use:Co,useCallback:function(e,t){return An().memoizedState=[e,t===void 0?null:t],e},useContext:mn,useEffect:Sf,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,Mo(4194308,4,Ef.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Mo(4194308,4,e,t)},useInsertionEffect:function(e,t){Mo(4,2,e,t)},useMemo:function(e,t){var n=An();t=t===void 0?null:t;var a=e();if(Al){vn(!0);try{e()}finally{vn(!1)}}return n.memoizedState=[a,t],a},useReducer:function(e,t,n){var a=An();if(n!==void 0){var i=n(t);if(Al){vn(!0);try{n(t)}finally{vn(!1)}}}else i=t;return a.memoizedState=a.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},a.queue=e,e=e.dispatch=rp.bind(null,et,e),[a.memoizedState,e]},useRef:function(e){var t=An();return e={current:e},t.memoizedState=e},useState:function(e){e=oc(e);var t=e.queue,n=Bf.bind(null,et,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:cc,useDeferredValue:function(e,t){var n=An();return dc(n,e,t)},useTransition:function(){var e=oc(!1);return e=Df.bind(null,et,e.queue,!0,!1),An().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var a=et,i=An();if(ct){if(n===void 0)throw Error(u(407));n=n()}else{if(n=t(),Et===null)throw Error(u(349));(ot&124)!==0||lf(a,t,n)}i.memoizedState=n;var f={value:n,getSnapshot:t};return i.queue=f,Sf(of.bind(null,a,f,e),[e]),a.flags|=2048,ui(9,Do(),sf.bind(null,a,f,n,t),null),n},useId:function(){var e=An(),t=Et.identifierPrefix;if(ct){var n=$a,a=Ga;n=(a&~(1<<32-Mt(a)-1)).toString(32)+n,t=""+t+"R"+n,n=Ao++,0<n&&(t+="H"+n.toString(32)),t+=""}else n=Wg++,t=""+t+"r"+n.toString(32)+"";return e.memoizedState=t},useHostTransitionStatus:hc,useFormState:yf,useActionState:yf,useOptimistic:function(e){var t=An();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=mc.bind(null,et,!0,n),n.dispatch=t,[e,t]},useMemoCache:lc,useCacheRefresh:function(){return An().memoizedState=ap.bind(null,et)}},Hf={readContext:mn,use:Co,useCallback:Af,useContext:mn,useEffect:kf,useImperativeHandle:Tf,useInsertionEffect:jf,useLayoutEffect:Nf,useMemo:Cf,useReducer:_o,useRef:wf,useState:function(){return _o(Pa)},useDebugValue:cc,useDeferredValue:function(e,t){var n=Vt();return _f(n,xt.memoizedState,e,t)},useTransition:function(){var e=_o(Pa)[0],t=Vt().memoizedState;return[typeof e=="boolean"?e:bs(e),t]},useSyncExternalStore:rf,useId:Rf,useHostTransitionStatus:hc,useFormState:vf,useActionState:vf,useOptimistic:function(e,t){var n=Vt();return df(n,xt,e,t)},useMemoCache:lc,useCacheRefresh:zf},lp={readContext:mn,use:Co,useCallback:Af,useContext:mn,useEffect:kf,useImperativeHandle:Tf,useInsertionEffect:jf,useLayoutEffect:Nf,useMemo:Cf,useReducer:sc,useRef:wf,useState:function(){return sc(Pa)},useDebugValue:cc,useDeferredValue:function(e,t){var n=Vt();return xt===null?dc(n,e,t):_f(n,xt.memoizedState,e,t)},useTransition:function(){var e=sc(Pa)[0],t=Vt().memoizedState;return[typeof e=="boolean"?e:bs(e),t]},useSyncExternalStore:rf,useId:Rf,useHostTransitionStatus:hc,useFormState:bf,useActionState:bf,useOptimistic:function(e,t){var n=Vt();return xt!==null?df(n,xt,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:lc,useCacheRefresh:zf},ci=null,ks=0;function zo(e){var t=ks;return ks+=1,ci===null&&(ci=[]),Zd(ci,e,t)}function js(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Bo(e,t){throw t.$$typeof===T?Error(u(525)):(e=Object.prototype.toString.call(t),Error(u(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Yf(e){var t=e._init;return t(e._payload)}function Kf(e){function t($,z){if(e){var P=$.deletions;P===null?($.deletions=[z],$.flags|=16):P.push(z)}}function n($,z){if(!e)return null;for(;z!==null;)t($,z),z=z.sibling;return null}function a($){for(var z=new Map;$!==null;)$.key!==null?z.set($.key,$):z.set($.index,$),$=$.sibling;return z}function i($,z){return $=Ka($,z),$.index=0,$.sibling=null,$}function f($,z,P){return $.index=P,e?(P=$.alternate,P!==null?(P=P.index,P<z?($.flags|=67108866,z):P):($.flags|=67108866,z)):($.flags|=1048576,z)}function v($){return e&&$.alternate===null&&($.flags|=67108866),$}function j($,z,P,se){return z===null||z.tag!==6?(z=zu(P,$.mode,se),z.return=$,z):(z=i(z,P),z.return=$,z)}function M($,z,P,se){var Re=P.type;return Re===te?ie($,z,P.props.children,se,P.key):z!==null&&(z.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===_e&&Yf(Re)===z.type)?(z=i(z,P.props),js(z,P),z.return=$,z):(z=vo(P.type,P.key,P.props,null,$.mode,se),js(z,P),z.return=$,z)}function V($,z,P,se){return z===null||z.tag!==4||z.stateNode.containerInfo!==P.containerInfo||z.stateNode.implementation!==P.implementation?(z=Bu(P,$.mode,se),z.return=$,z):(z=i(z,P.children||[]),z.return=$,z)}function ie($,z,P,se,Re){return z===null||z.tag!==7?(z=bl(P,$.mode,se,Re),z.return=$,z):(z=i(z,P),z.return=$,z)}function ce($,z,P){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return z=zu(""+z,$.mode,P),z.return=$,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case Q:return P=vo(z.type,z.key,z.props,null,$.mode,P),js(P,z),P.return=$,P;case I:return z=Bu(z,$.mode,P),z.return=$,z;case _e:var se=z._init;return z=se(z._payload),ce($,z,P)}if(Ve(z)||Ce(z))return z=bl(z,$.mode,P,null),z.return=$,z;if(typeof z.then=="function")return ce($,zo(z),P);if(z.$$typeof===U)return ce($,So($,z),P);Bo($,z)}return null}function Z($,z,P,se){var Re=z!==null?z.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return Re!==null?null:j($,z,""+P,se);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case Q:return P.key===Re?M($,z,P,se):null;case I:return P.key===Re?V($,z,P,se):null;case _e:return Re=P._init,P=Re(P._payload),Z($,z,P,se)}if(Ve(P)||Ce(P))return Re!==null?null:ie($,z,P,se,null);if(typeof P.then=="function")return Z($,z,zo(P),se);if(P.$$typeof===U)return Z($,z,So($,P),se);Bo($,P)}return null}function J($,z,P,se,Re){if(typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint")return $=$.get(P)||null,j(z,$,""+se,Re);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case Q:return $=$.get(se.key===null?P:se.key)||null,M(z,$,se,Re);case I:return $=$.get(se.key===null?P:se.key)||null,V(z,$,se,Re);case _e:var tt=se._init;return se=tt(se._payload),J($,z,P,se,Re)}if(Ve(se)||Ce(se))return $=$.get(P)||null,ie(z,$,se,Re,null);if(typeof se.then=="function")return J($,z,P,zo(se),Re);if(se.$$typeof===U)return J($,z,P,So(z,se),Re);Bo(z,se)}return null}function Qe($,z,P,se){for(var Re=null,tt=null,Be=z,Ge=z=0,an=null;Be!==null&&Ge<P.length;Ge++){Be.index>Ge?(an=Be,Be=null):an=Be.sibling;var ut=Z($,Be,P[Ge],se);if(ut===null){Be===null&&(Be=an);break}e&&Be&&ut.alternate===null&&t($,Be),z=f(ut,z,Ge),tt===null?Re=ut:tt.sibling=ut,tt=ut,Be=an}if(Ge===P.length)return n($,Be),ct&&Sl($,Ge),Re;if(Be===null){for(;Ge<P.length;Ge++)Be=ce($,P[Ge],se),Be!==null&&(z=f(Be,z,Ge),tt===null?Re=Be:tt.sibling=Be,tt=Be);return ct&&Sl($,Ge),Re}for(Be=a(Be);Ge<P.length;Ge++)an=J(Be,$,Ge,P[Ge],se),an!==null&&(e&&an.alternate!==null&&Be.delete(an.key===null?Ge:an.key),z=f(an,z,Ge),tt===null?Re=an:tt.sibling=an,tt=an);return e&&Be.forEach(function(Pr){return t($,Pr)}),ct&&Sl($,Ge),Re}function He($,z,P,se){if(P==null)throw Error(u(151));for(var Re=null,tt=null,Be=z,Ge=z=0,an=null,ut=P.next();Be!==null&&!ut.done;Ge++,ut=P.next()){Be.index>Ge?(an=Be,Be=null):an=Be.sibling;var Pr=Z($,Be,ut.value,se);if(Pr===null){Be===null&&(Be=an);break}e&&Be&&Pr.alternate===null&&t($,Be),z=f(Pr,z,Ge),tt===null?Re=Pr:tt.sibling=Pr,tt=Pr,Be=an}if(ut.done)return n($,Be),ct&&Sl($,Ge),Re;if(Be===null){for(;!ut.done;Ge++,ut=P.next())ut=ce($,ut.value,se),ut!==null&&(z=f(ut,z,Ge),tt===null?Re=ut:tt.sibling=ut,tt=ut);return ct&&Sl($,Ge),Re}for(Be=a(Be);!ut.done;Ge++,ut=P.next())ut=J(Be,$,Ge,ut.value,se),ut!==null&&(e&&ut.alternate!==null&&Be.delete(ut.key===null?Ge:ut.key),z=f(ut,z,Ge),tt===null?Re=ut:tt.sibling=ut,tt=ut);return e&&Be.forEach(function(i0){return t($,i0)}),ct&&Sl($,Ge),Re}function wt($,z,P,se){if(typeof P=="object"&&P!==null&&P.type===te&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case Q:e:{for(var Re=P.key;z!==null;){if(z.key===Re){if(Re=P.type,Re===te){if(z.tag===7){n($,z.sibling),se=i(z,P.props.children),se.return=$,$=se;break e}}else if(z.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===_e&&Yf(Re)===z.type){n($,z.sibling),se=i(z,P.props),js(se,P),se.return=$,$=se;break e}n($,z);break}else t($,z);z=z.sibling}P.type===te?(se=bl(P.props.children,$.mode,se,P.key),se.return=$,$=se):(se=vo(P.type,P.key,P.props,null,$.mode,se),js(se,P),se.return=$,$=se)}return v($);case I:e:{for(Re=P.key;z!==null;){if(z.key===Re)if(z.tag===4&&z.stateNode.containerInfo===P.containerInfo&&z.stateNode.implementation===P.implementation){n($,z.sibling),se=i(z,P.children||[]),se.return=$,$=se;break e}else{n($,z);break}else t($,z);z=z.sibling}se=Bu(P,$.mode,se),se.return=$,$=se}return v($);case _e:return Re=P._init,P=Re(P._payload),wt($,z,P,se)}if(Ve(P))return Qe($,z,P,se);if(Ce(P)){if(Re=Ce(P),typeof Re!="function")throw Error(u(150));return P=Re.call(P),He($,z,P,se)}if(typeof P.then=="function")return wt($,z,zo(P),se);if(P.$$typeof===U)return wt($,z,So($,P),se);Bo($,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,z!==null&&z.tag===6?(n($,z.sibling),se=i(z,P),se.return=$,$=se):(n($,z),se=zu(P,$.mode,se),se.return=$,$=se),v($)):n($,z)}return function($,z,P,se){try{ks=0;var Re=wt($,z,P,se);return ci=null,Re}catch(Be){if(Be===ms||Be===jo)throw Be;var tt=Un(29,Be,null,$.mode);return tt.lanes=se,tt.return=$,tt}finally{}}}var di=Kf(!0),Gf=Kf(!1),Wn=ne(null),ja=null;function Mr(e){var t=e.alternate;ye(It,It.current&1),ye(Wn,e),ja===null&&(t===null||ii.current!==null||t.memoizedState!==null)&&(ja=e)}function $f(e){if(e.tag===22){if(ye(It,It.current),ye(Wn,e),ja===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(ja=e)}}else Or()}function Or(){ye(It,It.current),ye(Wn,Wn.current)}function Va(e){ge(Wn),ja===e&&(ja=null),ge(It)}var It=ne(0);function Uo(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||rd(n)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function gc(e,t,n,a){t=e.memoizedState,n=n(a,t),n=n==null?t:S({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var pc={enqueueSetState:function(e,t,n){e=e._reactInternals;var a=Yn(),i=Cr(a);i.payload=t,n!=null&&(i.callback=n),t=_r(e,i,a),t!==null&&(Kn(t,e,a),ps(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var a=Yn(),i=Cr(a);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=_r(e,i,a),t!==null&&(Kn(t,e,a),ps(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Yn(),a=Cr(n);a.tag=2,t!=null&&(a.callback=t),t=_r(e,a,n),t!==null&&(Kn(t,e,n),ps(t,e,n))}};function Xf(e,t,n,a,i,f,v){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,f,v):t.prototype&&t.prototype.isPureReactComponent?!Er(n,a)||!Er(i,f):!0}function Qf(e,t,n,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,a),t.state!==e&&pc.enqueueReplaceState(t,t.state,null)}function Cl(e,t){var n=t;if("ref"in t){n={};for(var a in t)a!=="ref"&&(n[a]=t[a])}if(e=e.defaultProps){n===t&&(n=S({},n));for(var i in e)n[i]===void 0&&(n[i]=e[i])}return n}var qo=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Pf(e){qo(e)}function Vf(e){console.error(e)}function Ff(e){qo(e)}function Lo(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(a){setTimeout(function(){throw a})}}function Zf(e,t,n){try{var a=e.onCaughtError;a(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(i){setTimeout(function(){throw i})}}function yc(e,t,n){return n=Cr(n),n.tag=3,n.payload={element:null},n.callback=function(){Lo(e,t)},n}function Jf(e){return e=Cr(e),e.tag=3,e}function Wf(e,t,n,a){var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var f=a.value;e.payload=function(){return i(f)},e.callback=function(){Zf(t,n,a)}}var v=n.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(e.callback=function(){Zf(t,n,a),typeof i!="function"&&(Lr===null?Lr=new Set([this]):Lr.add(this));var j=a.stack;this.componentDidCatch(a.value,{componentStack:j!==null?j:""})})}function ip(e,t,n,a,i){if(n.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(t=n.alternate,t!==null&&ds(t,n,i,!0),n=Wn.current,n!==null){switch(n.tag){case 13:return ja===null?Yc():n.alternate===null&&Lt===0&&(Lt=3),n.flags&=-257,n.flags|=65536,n.lanes=i,a===Qu?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([a]):t.add(a),Gc(e,a,i)),!1;case 22:return n.flags|=65536,a===Qu?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([a])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([a]):n.add(a)),Gc(e,a,i)),!1}throw Error(u(435,n.tag))}return Gc(e,a,i),Yc(),!1}if(ct)return t=Wn.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=i,a!==Lu&&(e=Error(u(422),{cause:a}),cs(Ne(e,n)))):(a!==Lu&&(t=Error(u(423),{cause:a}),cs(Ne(t,n))),e=e.current.alternate,e.flags|=65536,i&=-i,e.lanes|=i,a=Ne(a,n),i=yc(e.stateNode,a,i),Fu(e,i),Lt!==4&&(Lt=2)),!1;var f=Error(u(520),{cause:a});if(f=Ne(f,n),Ds===null?Ds=[f]:Ds.push(f),Lt!==4&&(Lt=2),t===null)return!0;a=Ne(a,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=i&-i,n.lanes|=e,e=yc(n.stateNode,a,e),Fu(n,e),!1;case 1:if(t=n.type,f=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Lr===null||!Lr.has(f))))return n.flags|=65536,i&=-i,n.lanes|=i,i=Jf(i),Wf(i,e,n,a),Fu(n,i),!1}n=n.return}while(n!==null);return!1}var If=Error(u(461)),tn=!1;function ln(e,t,n,a){t.child=e===null?Gf(t,null,n,a):di(t,e.child,n,a)}function eh(e,t,n,a,i){n=n.render;var f=t.ref;if("ref"in a){var v={};for(var j in a)j!=="ref"&&(v[j]=a[j])}else v=a;return El(t),a=ec(e,t,n,v,f,i),j=tc(),e!==null&&!tn?(nc(e,t,i),Fa(e,t,i)):(ct&&j&&Uu(t),t.flags|=1,ln(e,t,a,i),t.child)}function th(e,t,n,a,i){if(e===null){var f=n.type;return typeof f=="function"&&!Ru(f)&&f.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=f,nh(e,t,f,a,i)):(e=vo(n.type,null,a,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(f=e.child,!Nc(e,i)){var v=f.memoizedProps;if(n=n.compare,n=n!==null?n:Er,n(v,a)&&e.ref===t.ref)return Fa(e,t,i)}return t.flags|=1,e=Ka(f,a),e.ref=t.ref,e.return=t,t.child=e}function nh(e,t,n,a,i){if(e!==null){var f=e.memoizedProps;if(Er(f,a)&&e.ref===t.ref)if(tn=!1,t.pendingProps=a=f,Nc(e,i))(e.flags&131072)!==0&&(tn=!0);else return t.lanes=e.lanes,Fa(e,t,i)}return vc(e,t,n,a,i)}function ah(e,t,n){var a=t.pendingProps,i=a.children,f=e!==null?e.memoizedState:null;if(a.mode==="hidden"){if((t.flags&128)!==0){if(a=f!==null?f.baseLanes|n:n,e!==null){for(i=t.child=e.child,f=0;i!==null;)f=f|i.lanes|i.childLanes,i=i.sibling;t.childLanes=f&~a}else t.childLanes=0,t.child=null;return rh(e,t,a,n)}if((n&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&ko(t,f!==null?f.cachePool:null),f!==null?tf(t,f):Ju(),$f(t);else return t.lanes=t.childLanes=536870912,rh(e,t,f!==null?f.baseLanes|n:n,n)}else f!==null?(ko(t,f.cachePool),tf(t,f),Or(),t.memoizedState=null):(e!==null&&ko(t,null),Ju(),Or());return ln(e,t,i,n),t.child}function rh(e,t,n,a){var i=Xu();return i=i===null?null:{parent:Wt._currentValue,pool:i},t.memoizedState={baseLanes:n,cachePool:i},e!==null&&ko(t,null),Ju(),$f(t),e!==null&&ds(e,t,a,!0),null}function Ho(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(u(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function vc(e,t,n,a,i){return El(t),n=ec(e,t,n,a,void 0,i),a=tc(),e!==null&&!tn?(nc(e,t,i),Fa(e,t,i)):(ct&&a&&Uu(t),t.flags|=1,ln(e,t,n,i),t.child)}function lh(e,t,n,a,i,f){return El(t),t.updateQueue=null,n=af(t,a,n,i),nf(e),a=tc(),e!==null&&!tn?(nc(e,t,f),Fa(e,t,f)):(ct&&a&&Uu(t),t.flags|=1,ln(e,t,n,f),t.child)}function ih(e,t,n,a,i){if(El(t),t.stateNode===null){var f=Tn,v=n.contextType;typeof v=="object"&&v!==null&&(f=mn(v)),f=new n(a,f),t.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=pc,t.stateNode=f,f._reactInternals=t,f=t.stateNode,f.props=a,f.state=t.memoizedState,f.refs={},Pu(t),v=n.contextType,f.context=typeof v=="object"&&v!==null?mn(v):Tn,f.state=t.memoizedState,v=n.getDerivedStateFromProps,typeof v=="function"&&(gc(t,n,v,a),f.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(v=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),v!==f.state&&pc.enqueueReplaceState(f,f.state,null),vs(t,a,f,i),ys(),f.state=t.memoizedState),typeof f.componentDidMount=="function"&&(t.flags|=4194308),a=!0}else if(e===null){f=t.stateNode;var j=t.memoizedProps,M=Cl(n,j);f.props=M;var V=f.context,ie=n.contextType;v=Tn,typeof ie=="object"&&ie!==null&&(v=mn(ie));var ce=n.getDerivedStateFromProps;ie=typeof ce=="function"||typeof f.getSnapshotBeforeUpdate=="function",j=t.pendingProps!==j,ie||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(j||V!==v)&&Qf(t,f,a,v),Ar=!1;var Z=t.memoizedState;f.state=Z,vs(t,a,f,i),ys(),V=t.memoizedState,j||Z!==V||Ar?(typeof ce=="function"&&(gc(t,n,ce,a),V=t.memoizedState),(M=Ar||Xf(t,n,M,a,Z,V,v))?(ie||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(t.flags|=4194308)):(typeof f.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=V),f.props=a,f.state=V,f.context=v,a=M):(typeof f.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{f=t.stateNode,Vu(e,t),v=t.memoizedProps,ie=Cl(n,v),f.props=ie,ce=t.pendingProps,Z=f.context,V=n.contextType,M=Tn,typeof V=="object"&&V!==null&&(M=mn(V)),j=n.getDerivedStateFromProps,(V=typeof j=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(v!==ce||Z!==M)&&Qf(t,f,a,M),Ar=!1,Z=t.memoizedState,f.state=Z,vs(t,a,f,i),ys();var J=t.memoizedState;v!==ce||Z!==J||Ar||e!==null&&e.dependencies!==null&&wo(e.dependencies)?(typeof j=="function"&&(gc(t,n,j,a),J=t.memoizedState),(ie=Ar||Xf(t,n,ie,a,Z,J,M)||e!==null&&e.dependencies!==null&&wo(e.dependencies))?(V||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(a,J,M),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(a,J,M)),typeof f.componentDidUpdate=="function"&&(t.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof f.componentDidUpdate!="function"||v===e.memoizedProps&&Z===e.memoizedState||(t.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&Z===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=J),f.props=a,f.state=J,f.context=M,a=ie):(typeof f.componentDidUpdate!="function"||v===e.memoizedProps&&Z===e.memoizedState||(t.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&Z===e.memoizedState||(t.flags|=1024),a=!1)}return f=a,Ho(e,t),a=(t.flags&128)!==0,f||a?(f=t.stateNode,n=a&&typeof n.getDerivedStateFromError!="function"?null:f.render(),t.flags|=1,e!==null&&a?(t.child=di(t,e.child,null,i),t.child=di(t,null,n,i)):ln(e,t,n,i),t.memoizedState=f.state,e=t.child):e=Fa(e,t,i),e}function sh(e,t,n,a){return us(),t.flags|=256,ln(e,t,n,a),t.child}var xc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function bc(e){return{baseLanes:e,cachePool:Pd()}}function wc(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=In),e}function oh(e,t,n){var a=t.pendingProps,i=!1,f=(t.flags&128)!==0,v;if((v=f)||(v=e!==null&&e.memoizedState===null?!1:(It.current&2)!==0),v&&(i=!0,t.flags&=-129),v=(t.flags&32)!==0,t.flags&=-33,e===null){if(ct){if(i?Mr(t):Or(),ct){var j=qt,M;if(M=j){e:{for(M=j,j=ka;M.nodeType!==8;){if(!j){j=null;break e}if(M=ca(M.nextSibling),M===null){j=null;break e}}j=M}j!==null?(t.memoizedState={dehydrated:j,treeContext:wl!==null?{id:Ga,overflow:$a}:null,retryLane:536870912,hydrationErrors:null},M=Un(18,null,null,0),M.stateNode=j,M.return=t,t.child=M,kn=t,qt=null,M=!0):M=!1}M||jl(t)}if(j=t.memoizedState,j!==null&&(j=j.dehydrated,j!==null))return rd(j)?t.lanes=32:t.lanes=536870912,null;Va(t)}return j=a.children,a=a.fallback,i?(Or(),i=t.mode,j=Yo({mode:"hidden",children:j},i),a=bl(a,i,n,null),j.return=t,a.return=t,j.sibling=a,t.child=j,i=t.child,i.memoizedState=bc(n),i.childLanes=wc(e,v,n),t.memoizedState=xc,a):(Mr(t),Sc(t,j))}if(M=e.memoizedState,M!==null&&(j=M.dehydrated,j!==null)){if(f)t.flags&256?(Mr(t),t.flags&=-257,t=kc(e,t,n)):t.memoizedState!==null?(Or(),t.child=e.child,t.flags|=128,t=null):(Or(),i=a.fallback,j=t.mode,a=Yo({mode:"visible",children:a.children},j),i=bl(i,j,n,null),i.flags|=2,a.return=t,i.return=t,a.sibling=i,t.child=a,di(t,e.child,null,n),a=t.child,a.memoizedState=bc(n),a.childLanes=wc(e,v,n),t.memoizedState=xc,t=i);else if(Mr(t),rd(j)){if(v=j.nextSibling&&j.nextSibling.dataset,v)var V=v.dgst;v=V,a=Error(u(419)),a.stack="",a.digest=v,cs({value:a,source:null,stack:null}),t=kc(e,t,n)}else if(tn||ds(e,t,n,!1),v=(n&e.childLanes)!==0,tn||v){if(v=Et,v!==null&&(a=n&-n,a=(a&42)!==0?1:Ui(a),a=(a&(v.suspendedLanes|n))!==0?0:a,a!==0&&a!==M.retryLane))throw M.retryLane=a,Rt(e,a),Kn(v,e,a),If;j.data==="$?"||Yc(),t=kc(e,t,n)}else j.data==="$?"?(t.flags|=192,t.child=e.child,t=null):(e=M.treeContext,qt=ca(j.nextSibling),kn=t,ct=!0,kl=null,ka=!1,e!==null&&(Zn[Jn++]=Ga,Zn[Jn++]=$a,Zn[Jn++]=wl,Ga=e.id,$a=e.overflow,wl=t),t=Sc(t,a.children),t.flags|=4096);return t}return i?(Or(),i=a.fallback,j=t.mode,M=e.child,V=M.sibling,a=Ka(M,{mode:"hidden",children:a.children}),a.subtreeFlags=M.subtreeFlags&65011712,V!==null?i=Ka(V,i):(i=bl(i,j,n,null),i.flags|=2),i.return=t,a.return=t,a.sibling=i,t.child=a,a=i,i=t.child,j=e.child.memoizedState,j===null?j=bc(n):(M=j.cachePool,M!==null?(V=Wt._currentValue,M=M.parent!==V?{parent:V,pool:V}:M):M=Pd(),j={baseLanes:j.baseLanes|n,cachePool:M}),i.memoizedState=j,i.childLanes=wc(e,v,n),t.memoizedState=xc,a):(Mr(t),n=e.child,e=n.sibling,n=Ka(n,{mode:"visible",children:a.children}),n.return=t,n.sibling=null,e!==null&&(v=t.deletions,v===null?(t.deletions=[e],t.flags|=16):v.push(e)),t.child=n,t.memoizedState=null,n)}function Sc(e,t){return t=Yo({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Yo(e,t){return e=Un(22,e,null,t),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function kc(e,t,n){return di(t,e.child,null,n),e=Sc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function uh(e,t,n){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),Yu(e.return,t,n)}function jc(e,t,n,a,i){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:n,tailMode:i}:(f.isBackwards=t,f.rendering=null,f.renderingStartTime=0,f.last=a,f.tail=n,f.tailMode=i)}function ch(e,t,n){var a=t.pendingProps,i=a.revealOrder,f=a.tail;if(ln(e,t,a.children,n),a=It.current,(a&2)!==0)a=a&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&uh(e,n,t);else if(e.tag===19)uh(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}switch(ye(It,a),i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Uo(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),jc(t,!1,i,n,f);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Uo(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}jc(t,!0,n,null,f);break;case"together":jc(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Fa(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),qr|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(ds(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(u(153));if(t.child!==null){for(e=t.child,n=Ka(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Ka(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Nc(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&wo(e)))}function sp(e,t,n){switch(t.tag){case 3:vt(t,t.stateNode.containerInfo),Tr(t,Wt,e.memoizedState.cache),us();break;case 27:case 5:fa(t);break;case 4:vt(t,t.stateNode.containerInfo);break;case 10:Tr(t,t.type,t.memoizedProps.value);break;case 13:var a=t.memoizedState;if(a!==null)return a.dehydrated!==null?(Mr(t),t.flags|=128,null):(n&t.child.childLanes)!==0?oh(e,t,n):(Mr(t),e=Fa(e,t,n),e!==null?e.sibling:null);Mr(t);break;case 19:var i=(e.flags&128)!==0;if(a=(n&t.childLanes)!==0,a||(ds(e,t,n,!1),a=(n&t.childLanes)!==0),i){if(a)return ch(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ye(It,It.current),a)break;return null;case 22:case 23:return t.lanes=0,ah(e,t,n);case 24:Tr(t,Wt,e.memoizedState.cache)}return Fa(e,t,n)}function dh(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)tn=!0;else{if(!Nc(e,n)&&(t.flags&128)===0)return tn=!1,sp(e,t,n);tn=(e.flags&131072)!==0}else tn=!1,ct&&(t.flags&1048576)!==0&&Hd(t,bo,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var a=t.elementType,i=a._init;if(a=i(a._payload),t.type=a,typeof a=="function")Ru(a)?(e=Cl(a,e),t.tag=1,t=ih(null,t,a,e,n)):(t.tag=0,t=vc(null,t,a,e,n));else{if(a!=null){if(i=a.$$typeof,i===Y){t.tag=11,t=eh(null,t,a,e,n);break e}else if(i===pe){t.tag=14,t=th(null,t,a,e,n);break e}}throw t=dt(a)||a,Error(u(306,t,""))}}return t;case 0:return vc(e,t,t.type,t.pendingProps,n);case 1:return a=t.type,i=Cl(a,t.pendingProps),ih(e,t,a,i,n);case 3:e:{if(vt(t,t.stateNode.containerInfo),e===null)throw Error(u(387));a=t.pendingProps;var f=t.memoizedState;i=f.element,Vu(e,t),vs(t,a,null,n);var v=t.memoizedState;if(a=v.cache,Tr(t,Wt,a),a!==f.cache&&Ku(t,[Wt],n,!0),ys(),a=v.element,f.isDehydrated)if(f={element:a,isDehydrated:!1,cache:v.cache},t.updateQueue.baseState=f,t.memoizedState=f,t.flags&256){t=sh(e,t,a,n);break e}else if(a!==i){i=Ne(Error(u(424)),t),cs(i),t=sh(e,t,a,n);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(qt=ca(e.firstChild),kn=t,ct=!0,kl=null,ka=!0,n=Gf(t,null,a,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(us(),a===i){t=Fa(e,t,n);break e}ln(e,t,a,n)}t=t.child}return t;case 26:return Ho(e,t),e===null?(n=gm(t.type,null,t.pendingProps,null))?t.memoizedState=n:ct||(n=t.type,e=t.pendingProps,a=tu(Ue.current).createElement(n),a[Ht]=t,a[Ie]=e,on(a,n,e),St(a),t.stateNode=a):t.memoizedState=gm(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return fa(t),e===null&&ct&&(a=t.stateNode=fm(t.type,t.pendingProps,Ue.current),kn=t,ka=!0,i=qt,Kr(t.type)?(ld=i,qt=ca(a.firstChild)):qt=i),ln(e,t,t.pendingProps.children,n),Ho(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&ct&&((i=a=qt)&&(a=zp(a,t.type,t.pendingProps,ka),a!==null?(t.stateNode=a,kn=t,qt=ca(a.firstChild),ka=!1,i=!0):i=!1),i||jl(t)),fa(t),i=t.type,f=t.pendingProps,v=e!==null?e.memoizedProps:null,a=f.children,td(i,f)?a=null:v!==null&&td(i,v)&&(t.flags|=32),t.memoizedState!==null&&(i=ec(e,t,Ig,null,null,n),Hs._currentValue=i),Ho(e,t),ln(e,t,a,n),t.child;case 6:return e===null&&ct&&((e=n=qt)&&(n=Bp(n,t.pendingProps,ka),n!==null?(t.stateNode=n,kn=t,qt=null,e=!0):e=!1),e||jl(t)),null;case 13:return oh(e,t,n);case 4:return vt(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=di(t,null,a,n):ln(e,t,a,n),t.child;case 11:return eh(e,t,t.type,t.pendingProps,n);case 7:return ln(e,t,t.pendingProps,n),t.child;case 8:return ln(e,t,t.pendingProps.children,n),t.child;case 12:return ln(e,t,t.pendingProps.children,n),t.child;case 10:return a=t.pendingProps,Tr(t,t.type,a.value),ln(e,t,a.children,n),t.child;case 9:return i=t.type._context,a=t.pendingProps.children,El(t),i=mn(i),a=a(i),t.flags|=1,ln(e,t,a,n),t.child;case 14:return th(e,t,t.type,t.pendingProps,n);case 15:return nh(e,t,t.type,t.pendingProps,n);case 19:return ch(e,t,n);case 31:return a=t.pendingProps,n=t.mode,a={mode:a.mode,children:a.children},e===null?(n=Yo(a,n),n.ref=t.ref,t.child=n,n.return=t,t=n):(n=Ka(e.child,a),n.ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return ah(e,t,n);case 24:return El(t),a=mn(Wt),e===null?(i=Xu(),i===null&&(i=Et,f=Gu(),i.pooledCache=f,f.refCount++,f!==null&&(i.pooledCacheLanes|=n),i=f),t.memoizedState={parent:a,cache:i},Pu(t),Tr(t,Wt,i)):((e.lanes&n)!==0&&(Vu(e,t),vs(t,null,null,n),ys()),i=e.memoizedState,f=t.memoizedState,i.parent!==a?(i={parent:a,cache:a},t.memoizedState=i,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=i),Tr(t,Wt,a)):(a=f.cache,Tr(t,Wt,a),a!==i.cache&&Ku(t,[Wt],n,!0))),ln(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(u(156,t.tag))}function Za(e){e.flags|=4}function fh(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!bm(t)){if(t=Wn.current,t!==null&&((ot&4194048)===ot?ja!==null:(ot&62914560)!==ot&&(ot&536870912)===0||t!==ja))throw gs=Qu,Vd;e.flags|=8192}}function Ko(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Te():536870912,e.lanes|=t,gi|=t)}function Ns(e,t){if(!ct)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function zt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,a=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,a|=i.subtreeFlags&65011712,a|=i.flags&65011712,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,a|=i.subtreeFlags,a|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=a,e.childLanes=n,t}function op(e,t,n){var a=t.pendingProps;switch(qu(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return zt(t),null;case 1:return zt(t),null;case 3:return n=t.stateNode,a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),Qa(Wt),Oe(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(os(t)?Za(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Gd())),zt(t),null;case 26:return n=t.memoizedState,e===null?(Za(t),n!==null?(zt(t),fh(t,n)):(zt(t),t.flags&=-16777217)):n?n!==e.memoizedState?(Za(t),zt(t),fh(t,n)):(zt(t),t.flags&=-16777217):(e.memoizedProps!==a&&Za(t),zt(t),t.flags&=-16777217),null;case 27:Gn(t),n=Ue.current;var i=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==a&&Za(t);else{if(!a){if(t.stateNode===null)throw Error(u(166));return zt(t),null}e=De.current,os(t)?Yd(t):(e=fm(i,a,n),t.stateNode=e,Za(t))}return zt(t),null;case 5:if(Gn(t),n=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&Za(t);else{if(!a){if(t.stateNode===null)throw Error(u(166));return zt(t),null}if(e=De.current,os(t))Yd(t);else{switch(i=tu(Ue.current),e){case 1:e=i.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=i.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof a.is=="string"?i.createElement("select",{is:a.is}):i.createElement("select"),a.multiple?e.multiple=!0:a.size&&(e.size=a.size);break;default:e=typeof a.is=="string"?i.createElement(n,{is:a.is}):i.createElement(n)}}e[Ht]=t,e[Ie]=a;e:for(i=t.child;i!==null;){if(i.tag===5||i.tag===6)e.appendChild(i.stateNode);else if(i.tag!==4&&i.tag!==27&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}t.stateNode=e;e:switch(on(e,n,a),n){case"button":case"input":case"select":case"textarea":e=!!a.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Za(t)}}return zt(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==a&&Za(t);else{if(typeof a!="string"&&t.stateNode===null)throw Error(u(166));if(e=Ue.current,os(t)){if(e=t.stateNode,n=t.memoizedProps,a=null,i=kn,i!==null)switch(i.tag){case 27:case 5:a=i.memoizedProps}e[Ht]=t,e=!!(e.nodeValue===n||a!==null&&a.suppressHydrationWarning===!0||lm(e.nodeValue,n)),e||jl(t)}else e=tu(e).createTextNode(a),e[Ht]=t,t.stateNode=e}return zt(t),null;case 13:if(a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(i=os(t),a!==null&&a.dehydrated!==null){if(e===null){if(!i)throw Error(u(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(u(317));i[Ht]=t}else us(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;zt(t),i=!1}else i=Gd(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=i),i=!0;if(!i)return t.flags&256?(Va(t),t):(Va(t),null)}if(Va(t),(t.flags&128)!==0)return t.lanes=n,t;if(n=a!==null,e=e!==null&&e.memoizedState!==null,n){a=t.child,i=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(i=a.alternate.memoizedState.cachePool.pool);var f=null;a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(f=a.memoizedState.cachePool.pool),f!==i&&(a.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),Ko(t,t.updateQueue),zt(t),null;case 4:return Oe(),e===null&&Zc(t.stateNode.containerInfo),zt(t),null;case 10:return Qa(t.type),zt(t),null;case 19:if(ge(It),i=t.memoizedState,i===null)return zt(t),null;if(a=(t.flags&128)!==0,f=i.rendering,f===null)if(a)Ns(i,!1);else{if(Lt!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(f=Uo(e),f!==null){for(t.flags|=128,Ns(i,!1),e=f.updateQueue,t.updateQueue=e,Ko(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)Ld(n,e),n=n.sibling;return ye(It,It.current&1|2),t.child}e=e.sibling}i.tail!==null&&Fe()>Xo&&(t.flags|=128,a=!0,Ns(i,!1),t.lanes=4194304)}else{if(!a)if(e=Uo(f),e!==null){if(t.flags|=128,a=!0,e=e.updateQueue,t.updateQueue=e,Ko(t,e),Ns(i,!0),i.tail===null&&i.tailMode==="hidden"&&!f.alternate&&!ct)return zt(t),null}else 2*Fe()-i.renderingStartTime>Xo&&n!==536870912&&(t.flags|=128,a=!0,Ns(i,!1),t.lanes=4194304);i.isBackwards?(f.sibling=t.child,t.child=f):(e=i.last,e!==null?e.sibling=f:t.child=f,i.last=f)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Fe(),t.sibling=null,e=It.current,ye(It,a?e&1|2:e&1),t):(zt(t),null);case 22:case 23:return Va(t),Wu(),a=t.memoizedState!==null,e!==null?e.memoizedState!==null!==a&&(t.flags|=8192):a&&(t.flags|=8192),a?(n&536870912)!==0&&(t.flags&128)===0&&(zt(t),t.subtreeFlags&6&&(t.flags|=8192)):zt(t),n=t.updateQueue,n!==null&&Ko(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),a=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),a!==n&&(t.flags|=2048),e!==null&&ge(Tl),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Qa(Wt),zt(t),null;case 25:return null;case 30:return null}throw Error(u(156,t.tag))}function up(e,t){switch(qu(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Qa(Wt),Oe(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Gn(t),null;case 13:if(Va(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(u(340));us()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ge(It),null;case 4:return Oe(),null;case 10:return Qa(t.type),null;case 22:case 23:return Va(t),Wu(),e!==null&&ge(Tl),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Qa(Wt),null;case 25:return null;default:return null}}function hh(e,t){switch(qu(t),t.tag){case 3:Qa(Wt),Oe();break;case 26:case 27:case 5:Gn(t);break;case 4:Oe();break;case 13:Va(t);break;case 19:ge(It);break;case 10:Qa(t.type);break;case 22:case 23:Va(t),Wu(),e!==null&&ge(Tl);break;case 24:Qa(Wt)}}function Es(e,t){try{var n=t.updateQueue,a=n!==null?n.lastEffect:null;if(a!==null){var i=a.next;n=i;do{if((n.tag&e)===e){a=void 0;var f=n.create,v=n.inst;a=f(),v.destroy=a}n=n.next}while(n!==i)}}catch(j){jt(t,t.return,j)}}function Rr(e,t,n){try{var a=t.updateQueue,i=a!==null?a.lastEffect:null;if(i!==null){var f=i.next;a=f;do{if((a.tag&e)===e){var v=a.inst,j=v.destroy;if(j!==void 0){v.destroy=void 0,i=t;var M=n,V=j;try{V()}catch(ie){jt(i,M,ie)}}}a=a.next}while(a!==f)}}catch(ie){jt(t,t.return,ie)}}function mh(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{ef(t,n)}catch(a){jt(e,e.return,a)}}}function gh(e,t,n){n.props=Cl(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(a){jt(e,t,a)}}function Ts(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var a=e.stateNode;break;case 30:a=e.stateNode;break;default:a=e.stateNode}typeof n=="function"?e.refCleanup=n(a):n.current=a}}catch(i){jt(e,t,i)}}function Na(e,t){var n=e.ref,a=e.refCleanup;if(n!==null)if(typeof a=="function")try{a()}catch(i){jt(e,t,i)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(i){jt(e,t,i)}else n.current=null}function ph(e){var t=e.type,n=e.memoizedProps,a=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&a.focus();break e;case"img":n.src?a.src=n.src:n.srcSet&&(a.srcset=n.srcSet)}}catch(i){jt(e,e.return,i)}}function Ec(e,t,n){try{var a=e.stateNode;_p(a,e.type,n,t),a[Ie]=t}catch(i){jt(e,e.return,i)}}function yh(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Kr(e.type)||e.tag===4}function Tc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||yh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Kr(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ac(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=eu));else if(a!==4&&(a===27&&Kr(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(Ac(e,t,n),e=e.sibling;e!==null;)Ac(e,t,n),e=e.sibling}function Go(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(a!==4&&(a===27&&Kr(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(Go(e,t,n),e=e.sibling;e!==null;)Go(e,t,n),e=e.sibling}function vh(e){var t=e.stateNode,n=e.memoizedProps;try{for(var a=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);on(t,a,n),t[Ht]=e,t[Ie]=n}catch(f){jt(e,e.return,f)}}var Ja=!1,Gt=!1,Cc=!1,xh=typeof WeakSet=="function"?WeakSet:Set,nn=null;function cp(e,t){if(e=e.containerInfo,Ic=su,e=g(e),y(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var a=n.getSelection&&n.getSelection();if(a&&a.rangeCount!==0){n=a.anchorNode;var i=a.anchorOffset,f=a.focusNode;a=a.focusOffset;try{n.nodeType,f.nodeType}catch{n=null;break e}var v=0,j=-1,M=-1,V=0,ie=0,ce=e,Z=null;t:for(;;){for(var J;ce!==n||i!==0&&ce.nodeType!==3||(j=v+i),ce!==f||a!==0&&ce.nodeType!==3||(M=v+a),ce.nodeType===3&&(v+=ce.nodeValue.length),(J=ce.firstChild)!==null;)Z=ce,ce=J;for(;;){if(ce===e)break t;if(Z===n&&++V===i&&(j=v),Z===f&&++ie===a&&(M=v),(J=ce.nextSibling)!==null)break;ce=Z,Z=ce.parentNode}ce=J}n=j===-1||M===-1?null:{start:j,end:M}}else n=null}n=n||{start:0,end:0}}else n=null;for(ed={focusedElem:e,selectionRange:n},su=!1,nn=t;nn!==null;)if(t=nn,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,nn=e;else for(;nn!==null;){switch(t=nn,f=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,n=t,i=f.memoizedProps,f=f.memoizedState,a=n.stateNode;try{var Qe=Cl(n.type,i,n.elementType===n.type);e=a.getSnapshotBeforeUpdate(Qe,f),a.__reactInternalSnapshotBeforeUpdate=e}catch(He){jt(n,n.return,He)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)ad(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":ad(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(u(163))}if(e=t.sibling,e!==null){e.return=t.return,nn=e;break}nn=t.return}}function bh(e,t,n){var a=n.flags;switch(n.tag){case 0:case 11:case 15:zr(e,n),a&4&&Es(5,n);break;case 1:if(zr(e,n),a&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(v){jt(n,n.return,v)}else{var i=Cl(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(v){jt(n,n.return,v)}}a&64&&mh(n),a&512&&Ts(n,n.return);break;case 3:if(zr(e,n),a&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{ef(e,t)}catch(v){jt(n,n.return,v)}}break;case 27:t===null&&a&4&&vh(n);case 26:case 5:zr(e,n),t===null&&a&4&&ph(n),a&512&&Ts(n,n.return);break;case 12:zr(e,n);break;case 13:zr(e,n),a&4&&kh(e,n),a&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=xp.bind(null,n),Up(e,n))));break;case 22:if(a=n.memoizedState!==null||Ja,!a){t=t!==null&&t.memoizedState!==null||Gt,i=Ja;var f=Gt;Ja=a,(Gt=t)&&!f?Br(e,n,(n.subtreeFlags&8772)!==0):zr(e,n),Ja=i,Gt=f}break;case 30:break;default:zr(e,n)}}function wh(e){var t=e.alternate;t!==null&&(e.alternate=null,wh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Qn(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var _t=null,Cn=!1;function Wa(e,t,n){for(n=n.child;n!==null;)Sh(e,t,n),n=n.sibling}function Sh(e,t,n){if(Tt&&typeof Tt.onCommitFiberUnmount=="function")try{Tt.onCommitFiberUnmount(cn,n)}catch{}switch(n.tag){case 26:Gt||Na(n,t),Wa(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Gt||Na(n,t);var a=_t,i=Cn;Kr(n.type)&&(_t=n.stateNode,Cn=!1),Wa(e,t,n),Bs(n.stateNode),_t=a,Cn=i;break;case 5:Gt||Na(n,t);case 6:if(a=_t,i=Cn,_t=null,Wa(e,t,n),_t=a,Cn=i,_t!==null)if(Cn)try{(_t.nodeType===9?_t.body:_t.nodeName==="HTML"?_t.ownerDocument.body:_t).removeChild(n.stateNode)}catch(f){jt(n,t,f)}else try{_t.removeChild(n.stateNode)}catch(f){jt(n,t,f)}break;case 18:_t!==null&&(Cn?(e=_t,cm(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),$s(e)):cm(_t,n.stateNode));break;case 4:a=_t,i=Cn,_t=n.stateNode.containerInfo,Cn=!0,Wa(e,t,n),_t=a,Cn=i;break;case 0:case 11:case 14:case 15:Gt||Rr(2,n,t),Gt||Rr(4,n,t),Wa(e,t,n);break;case 1:Gt||(Na(n,t),a=n.stateNode,typeof a.componentWillUnmount=="function"&&gh(n,t,a)),Wa(e,t,n);break;case 21:Wa(e,t,n);break;case 22:Gt=(a=Gt)||n.memoizedState!==null,Wa(e,t,n),Gt=a;break;default:Wa(e,t,n)}}function kh(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{$s(e)}catch(n){jt(t,t.return,n)}}function dp(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new xh),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new xh),t;default:throw Error(u(435,e.tag))}}function _c(e,t){var n=dp(e);t.forEach(function(a){var i=bp.bind(null,e,a);n.has(a)||(n.add(a),a.then(i,i))})}function qn(e,t){var n=t.deletions;if(n!==null)for(var a=0;a<n.length;a++){var i=n[a],f=e,v=t,j=v;e:for(;j!==null;){switch(j.tag){case 27:if(Kr(j.type)){_t=j.stateNode,Cn=!1;break e}break;case 5:_t=j.stateNode,Cn=!1;break e;case 3:case 4:_t=j.stateNode.containerInfo,Cn=!0;break e}j=j.return}if(_t===null)throw Error(u(160));Sh(f,v,i),_t=null,Cn=!1,f=i.alternate,f!==null&&(f.return=null),i.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)jh(t,e),t=t.sibling}var ua=null;function jh(e,t){var n=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:qn(t,e),Ln(e),a&4&&(Rr(3,e,e.return),Es(3,e),Rr(5,e,e.return));break;case 1:qn(t,e),Ln(e),a&512&&(Gt||n===null||Na(n,n.return)),a&64&&Ja&&(e=e.updateQueue,e!==null&&(a=e.callbacks,a!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?a:n.concat(a))));break;case 26:var i=ua;if(qn(t,e),Ln(e),a&512&&(Gt||n===null||Na(n,n.return)),a&4){var f=n!==null?n.memoizedState:null;if(a=e.memoizedState,n===null)if(a===null)if(e.stateNode===null){e:{a=e.type,n=e.memoizedProps,i=i.ownerDocument||i;t:switch(a){case"title":f=i.getElementsByTagName("title")[0],(!f||f[ll]||f[Ht]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=i.createElement(a),i.head.insertBefore(f,i.querySelector("head > title"))),on(f,a,n),f[Ht]=e,St(f),a=f;break e;case"link":var v=vm("link","href",i).get(a+(n.href||""));if(v){for(var j=0;j<v.length;j++)if(f=v[j],f.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&f.getAttribute("rel")===(n.rel==null?null:n.rel)&&f.getAttribute("title")===(n.title==null?null:n.title)&&f.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){v.splice(j,1);break t}}f=i.createElement(a),on(f,a,n),i.head.appendChild(f);break;case"meta":if(v=vm("meta","content",i).get(a+(n.content||""))){for(j=0;j<v.length;j++)if(f=v[j],f.getAttribute("content")===(n.content==null?null:""+n.content)&&f.getAttribute("name")===(n.name==null?null:n.name)&&f.getAttribute("property")===(n.property==null?null:n.property)&&f.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&f.getAttribute("charset")===(n.charSet==null?null:n.charSet)){v.splice(j,1);break t}}f=i.createElement(a),on(f,a,n),i.head.appendChild(f);break;default:throw Error(u(468,a))}f[Ht]=e,St(f),a=f}e.stateNode=a}else xm(i,e.type,e.stateNode);else e.stateNode=ym(i,a,e.memoizedProps);else f!==a?(f===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):f.count--,a===null?xm(i,e.type,e.stateNode):ym(i,a,e.memoizedProps)):a===null&&e.stateNode!==null&&Ec(e,e.memoizedProps,n.memoizedProps)}break;case 27:qn(t,e),Ln(e),a&512&&(Gt||n===null||Na(n,n.return)),n!==null&&a&4&&Ec(e,e.memoizedProps,n.memoizedProps);break;case 5:if(qn(t,e),Ln(e),a&512&&(Gt||n===null||Na(n,n.return)),e.flags&32){i=e.stateNode;try{za(i,"")}catch(J){jt(e,e.return,J)}}a&4&&e.stateNode!=null&&(i=e.memoizedProps,Ec(e,i,n!==null?n.memoizedProps:i)),a&1024&&(Cc=!0);break;case 6:if(qn(t,e),Ln(e),a&4){if(e.stateNode===null)throw Error(u(162));a=e.memoizedProps,n=e.stateNode;try{n.nodeValue=a}catch(J){jt(e,e.return,J)}}break;case 3:if(ru=null,i=ua,ua=nu(t.containerInfo),qn(t,e),ua=i,Ln(e),a&4&&n!==null&&n.memoizedState.isDehydrated)try{$s(t.containerInfo)}catch(J){jt(e,e.return,J)}Cc&&(Cc=!1,Nh(e));break;case 4:a=ua,ua=nu(e.stateNode.containerInfo),qn(t,e),Ln(e),ua=a;break;case 12:qn(t,e),Ln(e);break;case 13:qn(t,e),Ln(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Bc=Fe()),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,_c(e,a)));break;case 22:i=e.memoizedState!==null;var M=n!==null&&n.memoizedState!==null,V=Ja,ie=Gt;if(Ja=V||i,Gt=ie||M,qn(t,e),Gt=ie,Ja=V,Ln(e),a&8192)e:for(t=e.stateNode,t._visibility=i?t._visibility&-2:t._visibility|1,i&&(n===null||M||Ja||Gt||_l(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){M=n=t;try{if(f=M.stateNode,i)v=f.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{j=M.stateNode;var ce=M.memoizedProps.style,Z=ce!=null&&ce.hasOwnProperty("display")?ce.display:null;j.style.display=Z==null||typeof Z=="boolean"?"":(""+Z).trim()}}catch(J){jt(M,M.return,J)}}}else if(t.tag===6){if(n===null){M=t;try{M.stateNode.nodeValue=i?"":M.memoizedProps}catch(J){jt(M,M.return,J)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}a&4&&(a=e.updateQueue,a!==null&&(n=a.retryQueue,n!==null&&(a.retryQueue=null,_c(e,n))));break;case 19:qn(t,e),Ln(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,_c(e,a)));break;case 30:break;case 21:break;default:qn(t,e),Ln(e)}}function Ln(e){var t=e.flags;if(t&2){try{for(var n,a=e.return;a!==null;){if(yh(a)){n=a;break}a=a.return}if(n==null)throw Error(u(160));switch(n.tag){case 27:var i=n.stateNode,f=Tc(e);Go(e,f,i);break;case 5:var v=n.stateNode;n.flags&32&&(za(v,""),n.flags&=-33);var j=Tc(e);Go(e,j,v);break;case 3:case 4:var M=n.stateNode.containerInfo,V=Tc(e);Ac(e,V,M);break;default:throw Error(u(161))}}catch(ie){jt(e,e.return,ie)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Nh(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Nh(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function zr(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)bh(e,t.alternate,t),t=t.sibling}function _l(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Rr(4,t,t.return),_l(t);break;case 1:Na(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&gh(t,t.return,n),_l(t);break;case 27:Bs(t.stateNode);case 26:case 5:Na(t,t.return),_l(t);break;case 22:t.memoizedState===null&&_l(t);break;case 30:_l(t);break;default:_l(t)}e=e.sibling}}function Br(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var a=t.alternate,i=e,f=t,v=f.flags;switch(f.tag){case 0:case 11:case 15:Br(i,f,n),Es(4,f);break;case 1:if(Br(i,f,n),a=f,i=a.stateNode,typeof i.componentDidMount=="function")try{i.componentDidMount()}catch(V){jt(a,a.return,V)}if(a=f,i=a.updateQueue,i!==null){var j=a.stateNode;try{var M=i.shared.hiddenCallbacks;if(M!==null)for(i.shared.hiddenCallbacks=null,i=0;i<M.length;i++)Id(M[i],j)}catch(V){jt(a,a.return,V)}}n&&v&64&&mh(f),Ts(f,f.return);break;case 27:vh(f);case 26:case 5:Br(i,f,n),n&&a===null&&v&4&&ph(f),Ts(f,f.return);break;case 12:Br(i,f,n);break;case 13:Br(i,f,n),n&&v&4&&kh(i,f);break;case 22:f.memoizedState===null&&Br(i,f,n),Ts(f,f.return);break;case 30:break;default:Br(i,f,n)}t=t.sibling}}function Dc(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&fs(n))}function Mc(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&fs(e))}function Ea(e,t,n,a){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Eh(e,t,n,a),t=t.sibling}function Eh(e,t,n,a){var i=t.flags;switch(t.tag){case 0:case 11:case 15:Ea(e,t,n,a),i&2048&&Es(9,t);break;case 1:Ea(e,t,n,a);break;case 3:Ea(e,t,n,a),i&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&fs(e)));break;case 12:if(i&2048){Ea(e,t,n,a),e=t.stateNode;try{var f=t.memoizedProps,v=f.id,j=f.onPostCommit;typeof j=="function"&&j(v,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(M){jt(t,t.return,M)}}else Ea(e,t,n,a);break;case 13:Ea(e,t,n,a);break;case 23:break;case 22:f=t.stateNode,v=t.alternate,t.memoizedState!==null?f._visibility&2?Ea(e,t,n,a):As(e,t):f._visibility&2?Ea(e,t,n,a):(f._visibility|=2,fi(e,t,n,a,(t.subtreeFlags&10256)!==0)),i&2048&&Dc(v,t);break;case 24:Ea(e,t,n,a),i&2048&&Mc(t.alternate,t);break;default:Ea(e,t,n,a)}}function fi(e,t,n,a,i){for(i=i&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var f=e,v=t,j=n,M=a,V=v.flags;switch(v.tag){case 0:case 11:case 15:fi(f,v,j,M,i),Es(8,v);break;case 23:break;case 22:var ie=v.stateNode;v.memoizedState!==null?ie._visibility&2?fi(f,v,j,M,i):As(f,v):(ie._visibility|=2,fi(f,v,j,M,i)),i&&V&2048&&Dc(v.alternate,v);break;case 24:fi(f,v,j,M,i),i&&V&2048&&Mc(v.alternate,v);break;default:fi(f,v,j,M,i)}t=t.sibling}}function As(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,a=t,i=a.flags;switch(a.tag){case 22:As(n,a),i&2048&&Dc(a.alternate,a);break;case 24:As(n,a),i&2048&&Mc(a.alternate,a);break;default:As(n,a)}t=t.sibling}}var Cs=8192;function hi(e){if(e.subtreeFlags&Cs)for(e=e.child;e!==null;)Th(e),e=e.sibling}function Th(e){switch(e.tag){case 26:hi(e),e.flags&Cs&&e.memoizedState!==null&&Zp(ua,e.memoizedState,e.memoizedProps);break;case 5:hi(e);break;case 3:case 4:var t=ua;ua=nu(e.stateNode.containerInfo),hi(e),ua=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=Cs,Cs=16777216,hi(e),Cs=t):hi(e));break;default:hi(e)}}function Ah(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function _s(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var a=t[n];nn=a,_h(a,e)}Ah(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Ch(e),e=e.sibling}function Ch(e){switch(e.tag){case 0:case 11:case 15:_s(e),e.flags&2048&&Rr(9,e,e.return);break;case 3:_s(e);break;case 12:_s(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,$o(e)):_s(e);break;default:_s(e)}}function $o(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var a=t[n];nn=a,_h(a,e)}Ah(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Rr(8,t,t.return),$o(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,$o(t));break;default:$o(t)}e=e.sibling}}function _h(e,t){for(;nn!==null;){var n=nn;switch(n.tag){case 0:case 11:case 15:Rr(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var a=n.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:fs(n.memoizedState.cache)}if(a=n.child,a!==null)a.return=n,nn=a;else e:for(n=e;nn!==null;){a=nn;var i=a.sibling,f=a.return;if(wh(a),a===n){nn=null;break e}if(i!==null){i.return=f,nn=i;break e}nn=f}}}var fp={getCacheForType:function(e){var t=mn(Wt),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n}},hp=typeof WeakMap=="function"?WeakMap:Map,ht=0,Et=null,at=null,ot=0,mt=0,Hn=null,Ur=!1,mi=!1,Oc=!1,Ia=0,Lt=0,qr=0,Dl=0,Rc=0,In=0,gi=0,Ds=null,_n=null,zc=!1,Bc=0,Xo=1/0,Qo=null,Lr=null,sn=0,Hr=null,pi=null,yi=0,Uc=0,qc=null,Dh=null,Ms=0,Lc=null;function Yn(){if((ht&2)!==0&&ot!==0)return ot&-ot;if(F.T!==null){var e=ri;return e!==0?e:Qc()}return Ma()}function Mh(){In===0&&(In=(ot&536870912)===0||ct?nl():536870912);var e=Wn.current;return e!==null&&(e.flags|=32),In}function Kn(e,t,n){(e===Et&&(mt===2||mt===9)||e.cancelPendingCommit!==null)&&(vi(e,0),Yr(e,ot,In,!1)),ur(e,n),((ht&2)===0||e!==Et)&&(e===Et&&((ht&2)===0&&(Dl|=n),Lt===4&&Yr(e,ot,In,!1)),Ta(e))}function Oh(e,t,n){if((ht&6)!==0)throw Error(u(327));var a=!n&&(t&124)===0&&(t&e.expiredLanes)===0||ra(e,t),i=a?pp(e,t):Kc(e,t,!0),f=a;do{if(i===0){mi&&!a&&Yr(e,t,0,!1);break}else{if(n=e.current.alternate,f&&!mp(n)){i=Kc(e,t,!1),f=!1;continue}if(i===2){if(f=t,e.errorRecoveryDisabledLanes&f)var v=0;else v=e.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){t=v;e:{var j=e;i=Ds;var M=j.current.memoizedState.isDehydrated;if(M&&(vi(j,v).flags|=256),v=Kc(j,v,!1),v!==2){if(Oc&&!M){j.errorRecoveryDisabledLanes|=f,Dl|=f,i=4;break e}f=_n,_n=i,f!==null&&(_n===null?_n=f:_n.push.apply(_n,f))}i=v}if(f=!1,i!==2)continue}}if(i===1){vi(e,0),Yr(e,t,0,!0);break}e:{switch(a=e,f=i,f){case 0:case 1:throw Error(u(345));case 4:if((t&4194048)!==t)break;case 6:Yr(a,t,In,!Ur);break e;case 2:_n=null;break;case 3:case 5:break;default:throw Error(u(329))}if((t&62914560)===t&&(i=Bc+300-Fe(),10<i)){if(Yr(a,t,In,!Ur),ze(a,0,!0)!==0)break e;a.timeoutHandle=om(Rh.bind(null,a,n,_n,Qo,zc,t,In,Dl,gi,Ur,f,2,-0,0),i);break e}Rh(a,n,_n,Qo,zc,t,In,Dl,gi,Ur,f,0,-0,0)}}break}while(!0);Ta(e)}function Rh(e,t,n,a,i,f,v,j,M,V,ie,ce,Z,J){if(e.timeoutHandle=-1,ce=t.subtreeFlags,(ce&8192||(ce&16785408)===16785408)&&(Ls={stylesheets:null,count:0,unsuspend:Fp},Th(t),ce=Jp(),ce!==null)){e.cancelPendingCommit=ce(Yh.bind(null,e,t,f,n,a,i,v,j,M,ie,1,Z,J)),Yr(e,f,v,!V);return}Yh(e,t,f,n,a,i,v,j,M)}function mp(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var a=0;a<n.length;a++){var i=n[a],f=i.getSnapshot;i=i.value;try{if(!Ut(f(),i))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Yr(e,t,n,a){t&=~Rc,t&=~Dl,e.suspendedLanes|=t,e.pingedLanes&=~t,a&&(e.warmLanes|=t),a=e.expirationTimes;for(var i=t;0<i;){var f=31-Mt(i),v=1<<f;a[f]=-1,i&=~v}n!==0&&Bi(e,n,t)}function Po(){return(ht&6)===0?(Os(0),!1):!0}function Hc(){if(at!==null){if(mt===0)var e=at.return;else e=at,Xa=Nl=null,ac(e),ci=null,ks=0,e=at;for(;e!==null;)hh(e.alternate,e),e=e.return;at=null}}function vi(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,Mp(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),Hc(),Et=e,at=n=Ka(e.current,null),ot=t,mt=0,Hn=null,Ur=!1,mi=ra(e,t),Oc=!1,gi=In=Rc=Dl=qr=Lt=0,_n=Ds=null,zc=!1,(t&8)!==0&&(t|=t&32);var a=e.entangledLanes;if(a!==0)for(e=e.entanglements,a&=t;0<a;){var i=31-Mt(a),f=1<<i;t|=e[i],a&=~f}return Ia=t,kt(),n}function zh(e,t){et=null,F.H=Ro,t===ms||t===jo?(t=Jd(),mt=3):t===Vd?(t=Jd(),mt=4):mt=t===If?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Hn=t,at===null&&(Lt=1,Lo(e,Ne(t,e.current)))}function Bh(){var e=F.H;return F.H=Ro,e===null?Ro:e}function Uh(){var e=F.A;return F.A=fp,e}function Yc(){Lt=4,Ur||(ot&4194048)!==ot&&Wn.current!==null||(mi=!0),(qr&134217727)===0&&(Dl&134217727)===0||Et===null||Yr(Et,ot,In,!1)}function Kc(e,t,n){var a=ht;ht|=2;var i=Bh(),f=Uh();(Et!==e||ot!==t)&&(Qo=null,vi(e,t)),t=!1;var v=Lt;e:do try{if(mt!==0&&at!==null){var j=at,M=Hn;switch(mt){case 8:Hc(),v=6;break e;case 3:case 2:case 9:case 6:Wn.current===null&&(t=!0);var V=mt;if(mt=0,Hn=null,xi(e,j,M,V),n&&mi){v=0;break e}break;default:V=mt,mt=0,Hn=null,xi(e,j,M,V)}}gp(),v=Lt;break}catch(ie){zh(e,ie)}while(!0);return t&&e.shellSuspendCounter++,Xa=Nl=null,ht=a,F.H=i,F.A=f,at===null&&(Et=null,ot=0,kt()),v}function gp(){for(;at!==null;)qh(at)}function pp(e,t){var n=ht;ht|=2;var a=Bh(),i=Uh();Et!==e||ot!==t?(Qo=null,Xo=Fe()+500,vi(e,t)):mi=ra(e,t);e:do try{if(mt!==0&&at!==null){t=at;var f=Hn;t:switch(mt){case 1:mt=0,Hn=null,xi(e,t,f,1);break;case 2:case 9:if(Fd(f)){mt=0,Hn=null,Lh(t);break}t=function(){mt!==2&&mt!==9||Et!==e||(mt=7),Ta(e)},f.then(t,t);break e;case 3:mt=7;break e;case 4:mt=5;break e;case 7:Fd(f)?(mt=0,Hn=null,Lh(t)):(mt=0,Hn=null,xi(e,t,f,7));break;case 5:var v=null;switch(at.tag){case 26:v=at.memoizedState;case 5:case 27:var j=at;if(!v||bm(v)){mt=0,Hn=null;var M=j.sibling;if(M!==null)at=M;else{var V=j.return;V!==null?(at=V,Vo(V)):at=null}break t}}mt=0,Hn=null,xi(e,t,f,5);break;case 6:mt=0,Hn=null,xi(e,t,f,6);break;case 8:Hc(),Lt=6;break e;default:throw Error(u(462))}}yp();break}catch(ie){zh(e,ie)}while(!0);return Xa=Nl=null,F.H=a,F.A=i,ht=n,at!==null?0:(Et=null,ot=0,kt(),Lt)}function yp(){for(;at!==null&&!na();)qh(at)}function qh(e){var t=dh(e.alternate,e,Ia);e.memoizedProps=e.pendingProps,t===null?Vo(e):at=t}function Lh(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=lh(n,t,t.pendingProps,t.type,void 0,ot);break;case 11:t=lh(n,t,t.pendingProps,t.type.render,t.ref,ot);break;case 5:ac(t);default:hh(n,t),t=at=Ld(t,Ia),t=dh(n,t,Ia)}e.memoizedProps=e.pendingProps,t===null?Vo(e):at=t}function xi(e,t,n,a){Xa=Nl=null,ac(t),ci=null,ks=0;var i=t.return;try{if(ip(e,i,t,n,ot)){Lt=1,Lo(e,Ne(n,e.current)),at=null;return}}catch(f){if(i!==null)throw at=i,f;Lt=1,Lo(e,Ne(n,e.current)),at=null;return}t.flags&32768?(ct||a===1?e=!0:mi||(ot&536870912)!==0?e=!1:(Ur=e=!0,(a===2||a===9||a===3||a===6)&&(a=Wn.current,a!==null&&a.tag===13&&(a.flags|=16384))),Hh(t,e)):Vo(t)}function Vo(e){var t=e;do{if((t.flags&32768)!==0){Hh(t,Ur);return}e=t.return;var n=op(t.alternate,t,Ia);if(n!==null){at=n;return}if(t=t.sibling,t!==null){at=t;return}at=t=e}while(t!==null);Lt===0&&(Lt=5)}function Hh(e,t){do{var n=up(e.alternate,e);if(n!==null){n.flags&=32767,at=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){at=e;return}at=e=n}while(e!==null);Lt=6,at=null}function Yh(e,t,n,a,i,f,v,j,M){e.cancelPendingCommit=null;do Fo();while(sn!==0);if((ht&6)!==0)throw Error(u(327));if(t!==null){if(t===e.current)throw Error(u(177));if(f=t.lanes|t.childLanes,f|=Xe,zi(e,n,f,v,j,M),e===Et&&(at=Et=null,ot=0),pi=t,Hr=e,yi=n,Uc=f,qc=i,Dh=a,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,wp(Dt,function(){return Qh(),null})):(e.callbackNode=null,e.callbackPriority=0),a=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||a){a=F.T,F.T=null,i=xe.p,xe.p=2,v=ht,ht|=4;try{cp(e,t,n)}finally{ht=v,xe.p=i,F.T=a}}sn=1,Kh(),Gh(),$h()}}function Kh(){if(sn===1){sn=0;var e=Hr,t=pi,n=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||n){n=F.T,F.T=null;var a=xe.p;xe.p=2;var i=ht;ht|=4;try{jh(t,e);var f=ed,v=g(e.containerInfo),j=f.focusedElem,M=f.selectionRange;if(v!==j&&j&&j.ownerDocument&&h(j.ownerDocument.documentElement,j)){if(M!==null&&y(j)){var V=M.start,ie=M.end;if(ie===void 0&&(ie=V),"selectionStart"in j)j.selectionStart=V,j.selectionEnd=Math.min(ie,j.value.length);else{var ce=j.ownerDocument||document,Z=ce&&ce.defaultView||window;if(Z.getSelection){var J=Z.getSelection(),Qe=j.textContent.length,He=Math.min(M.start,Qe),wt=M.end===void 0?He:Math.min(M.end,Qe);!J.extend&&He>wt&&(v=wt,wt=He,He=v);var $=c(j,He),z=c(j,wt);if($&&z&&(J.rangeCount!==1||J.anchorNode!==$.node||J.anchorOffset!==$.offset||J.focusNode!==z.node||J.focusOffset!==z.offset)){var P=ce.createRange();P.setStart($.node,$.offset),J.removeAllRanges(),He>wt?(J.addRange(P),J.extend(z.node,z.offset)):(P.setEnd(z.node,z.offset),J.addRange(P))}}}}for(ce=[],J=j;J=J.parentNode;)J.nodeType===1&&ce.push({element:J,left:J.scrollLeft,top:J.scrollTop});for(typeof j.focus=="function"&&j.focus(),j=0;j<ce.length;j++){var se=ce[j];se.element.scrollLeft=se.left,se.element.scrollTop=se.top}}su=!!Ic,ed=Ic=null}finally{ht=i,xe.p=a,F.T=n}}e.current=t,sn=2}}function Gh(){if(sn===2){sn=0;var e=Hr,t=pi,n=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||n){n=F.T,F.T=null;var a=xe.p;xe.p=2;var i=ht;ht|=4;try{bh(e,t.alternate,t)}finally{ht=i,xe.p=a,F.T=n}}sn=3}}function $h(){if(sn===4||sn===3){sn=0,be();var e=Hr,t=pi,n=yi,a=Dh;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?sn=5:(sn=0,pi=Hr=null,Xh(e,e.pendingLanes));var i=e.pendingLanes;if(i===0&&(Lr=null),qi(n),t=t.stateNode,Tt&&typeof Tt.onCommitFiberRoot=="function")try{Tt.onCommitFiberRoot(cn,t,void 0,(t.current.flags&128)===128)}catch{}if(a!==null){t=F.T,i=xe.p,xe.p=2,F.T=null;try{for(var f=e.onRecoverableError,v=0;v<a.length;v++){var j=a[v];f(j.value,{componentStack:j.stack})}}finally{F.T=t,xe.p=i}}(yi&3)!==0&&Fo(),Ta(e),i=e.pendingLanes,(n&4194090)!==0&&(i&42)!==0?e===Lc?Ms++:(Ms=0,Lc=e):Ms=0,Os(0)}}function Xh(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,fs(t)))}function Fo(e){return Kh(),Gh(),$h(),Qh()}function Qh(){if(sn!==5)return!1;var e=Hr,t=Uc;Uc=0;var n=qi(yi),a=F.T,i=xe.p;try{xe.p=32>n?32:n,F.T=null,n=qc,qc=null;var f=Hr,v=yi;if(sn=0,pi=Hr=null,yi=0,(ht&6)!==0)throw Error(u(331));var j=ht;if(ht|=4,Ch(f.current),Eh(f,f.current,v,n),ht=j,Os(0,!1),Tt&&typeof Tt.onPostCommitFiberRoot=="function")try{Tt.onPostCommitFiberRoot(cn,f)}catch{}return!0}finally{xe.p=i,F.T=a,Xh(e,t)}}function Ph(e,t,n){t=Ne(n,t),t=yc(e.stateNode,t,2),e=_r(e,t,2),e!==null&&(ur(e,2),Ta(e))}function jt(e,t,n){if(e.tag===3)Ph(e,e,n);else for(;t!==null;){if(t.tag===3){Ph(t,e,n);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Lr===null||!Lr.has(a))){e=Ne(n,e),n=Jf(2),a=_r(t,n,2),a!==null&&(Wf(n,a,t,e),ur(a,2),Ta(a));break}}t=t.return}}function Gc(e,t,n){var a=e.pingCache;if(a===null){a=e.pingCache=new hp;var i=new Set;a.set(t,i)}else i=a.get(t),i===void 0&&(i=new Set,a.set(t,i));i.has(n)||(Oc=!0,i.add(n),e=vp.bind(null,e,t,n),t.then(e,e))}function vp(e,t,n){var a=e.pingCache;a!==null&&a.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,Et===e&&(ot&n)===n&&(Lt===4||Lt===3&&(ot&62914560)===ot&&300>Fe()-Bc?(ht&2)===0&&vi(e,0):Rc|=n,gi===ot&&(gi=0)),Ta(e)}function Vh(e,t){t===0&&(t=Te()),e=Rt(e,t),e!==null&&(ur(e,t),Ta(e))}function xp(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Vh(e,n)}function bp(e,t){var n=0;switch(e.tag){case 13:var a=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:a=e.stateNode;break;case 22:a=e.stateNode._retryCache;break;default:throw Error(u(314))}a!==null&&a.delete(t),Vh(e,n)}function wp(e,t){return ta(e,t)}var Zo=null,bi=null,$c=!1,Jo=!1,Xc=!1,Ml=0;function Ta(e){e!==bi&&e.next===null&&(bi===null?Zo=bi=e:bi=bi.next=e),Jo=!0,$c||($c=!0,kp())}function Os(e,t){if(!Xc&&Jo){Xc=!0;do for(var n=!1,a=Zo;a!==null;){if(e!==0){var i=a.pendingLanes;if(i===0)var f=0;else{var v=a.suspendedLanes,j=a.pingedLanes;f=(1<<31-Mt(42|e)+1)-1,f&=i&~(v&~j),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(n=!0,Wh(a,f))}else f=ot,f=ze(a,a===Et?f:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),(f&3)===0||ra(a,f)||(n=!0,Wh(a,f));a=a.next}while(n);Xc=!1}}function Sp(){Fh()}function Fh(){Jo=$c=!1;var e=0;Ml!==0&&(Dp()&&(e=Ml),Ml=0);for(var t=Fe(),n=null,a=Zo;a!==null;){var i=a.next,f=Zh(a,t);f===0?(a.next=null,n===null?Zo=i:n.next=i,i===null&&(bi=n)):(n=a,(e!==0||(f&3)!==0)&&(Jo=!0)),a=i}Os(e)}function Zh(e,t){for(var n=e.suspendedLanes,a=e.pingedLanes,i=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var v=31-Mt(f),j=1<<v,M=i[v];M===-1?((j&n)===0||(j&a)!==0)&&(i[v]=Da(j,t)):M<=t&&(e.expiredLanes|=j),f&=~j}if(t=Et,n=ot,n=ze(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a=e.callbackNode,n===0||e===t&&(mt===2||mt===9)||e.cancelPendingCommit!==null)return a!==null&&a!==null&&_a(a),e.callbackNode=null,e.callbackPriority=0;if((n&3)===0||ra(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(a!==null&&_a(a),qi(n)){case 2:case 8:n=Nt;break;case 32:n=Dt;break;case 268435456:n=Nn;break;default:n=Dt}return a=Jh.bind(null,e),n=ta(n,a),e.callbackPriority=t,e.callbackNode=n,t}return a!==null&&a!==null&&_a(a),e.callbackPriority=2,e.callbackNode=null,2}function Jh(e,t){if(sn!==0&&sn!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(Fo()&&e.callbackNode!==n)return null;var a=ot;return a=ze(e,e===Et?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a===0?null:(Oh(e,a,t),Zh(e,Fe()),e.callbackNode!=null&&e.callbackNode===n?Jh.bind(null,e):null)}function Wh(e,t){if(Fo())return null;Oh(e,t,!0)}function kp(){Op(function(){(ht&6)!==0?ta(ha,Sp):Fh()})}function Qc(){return Ml===0&&(Ml=nl()),Ml}function Ih(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:sa(""+e)}function em(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function jp(e,t,n,a,i){if(t==="submit"&&n&&n.stateNode===i){var f=Ih((i[Ie]||null).action),v=a.submitter;v&&(t=(t=v[Ie]||null)?Ih(t.formAction):v.getAttribute("formAction"),t!==null&&(f=t,v=null));var j=new Kl("action","action",null,a,i);e.push({event:j,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(Ml!==0){var M=v?em(i,v):new FormData(i);fc(n,{pending:!0,data:M,method:i.method,action:f},null,M)}}else typeof f=="function"&&(j.preventDefault(),M=v?em(i,v):new FormData(i),fc(n,{pending:!0,data:M,method:i.method,action:f},f,M))},currentTarget:i}]})}}for(var Pc=0;Pc<Se.length;Pc++){var Vc=Se[Pc],Np=Vc.toLowerCase(),Ep=Vc[0].toUpperCase()+Vc.slice(1);ke(Np,"on"+Ep)}ke(G,"onAnimationEnd"),ke(X,"onAnimationIteration"),ke(W,"onAnimationStart"),ke("dblclick","onDoubleClick"),ke("focusin","onFocus"),ke("focusout","onBlur"),ke(ae,"onTransitionRun"),ke(re,"onTransitionStart"),ke(ve,"onTransitionCancel"),ke(je,"onTransitionEnd"),va("onMouseEnter",["mouseout","mouseover"]),va("onMouseLeave",["mouseout","mouseover"]),va("onPointerEnter",["pointerout","pointerover"]),va("onPointerLeave",["pointerout","pointerover"]),ya("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ya("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ya("onBeforeInput",["compositionend","keypress","textInput","paste"]),ya("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ya("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ya("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Tp=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Rs));function tm(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var a=e[n],i=a.event;a=a.listeners;e:{var f=void 0;if(t)for(var v=a.length-1;0<=v;v--){var j=a[v],M=j.instance,V=j.currentTarget;if(j=j.listener,M!==f&&i.isPropagationStopped())break e;f=j,i.currentTarget=V;try{f(i)}catch(ie){qo(ie)}i.currentTarget=null,f=M}else for(v=0;v<a.length;v++){if(j=a[v],M=j.instance,V=j.currentTarget,j=j.listener,M!==f&&i.isPropagationStopped())break e;f=j,i.currentTarget=V;try{f(i)}catch(ie){qo(ie)}i.currentTarget=null,f=M}}}}function rt(e,t){var n=t[Li];n===void 0&&(n=t[Li]=new Set);var a=e+"__bubble";n.has(a)||(nm(t,e,2,!1),n.add(a))}function Fc(e,t,n){var a=0;t&&(a|=4),nm(n,e,a,t)}var Wo="_reactListening"+Math.random().toString(36).slice(2);function Zc(e){if(!e[Wo]){e[Wo]=!0,Hi.forEach(function(n){n!=="selectionchange"&&(Tp.has(n)||Fc(n,!1,e),Fc(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Wo]||(t[Wo]=!0,Fc("selectionchange",!1,t))}}function nm(e,t,n,a){switch(Em(t)){case 2:var i=e0;break;case 8:i=t0;break;default:i=cd}n=i.bind(null,t,n,e),i=void 0,!Fn||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),a?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Jc(e,t,n,a,i){var f=a;if((t&1)===0&&(t&2)===0&&a!==null)e:for(;;){if(a===null)return;var v=a.tag;if(v===3||v===4){var j=a.stateNode.containerInfo;if(j===i)break;if(v===4)for(v=a.return;v!==null;){var M=v.tag;if((M===3||M===4)&&v.stateNode.containerInfo===i)return;v=v.return}for(;j!==null;){if(v=Mn(j),v===null)return;if(M=v.tag,M===5||M===6||M===26||M===27){a=f=v;continue e}j=j.parentNode}}a=a.return}yr(function(){var V=f,ie=Vn(n),ce=[];e:{var Z=we.get(e);if(Z!==void 0){var J=Kl,Qe=e;switch(e){case"keypress":if(Sa(n)===0)break e;case"keydown":case"keyup":J=so;break;case"focusin":Qe="focus",J=br;break;case"focusout":Qe="blur",J=br;break;case"beforeblur":case"afterblur":J=br;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":J=ro;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":J=Pi;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":J=Fl;break;case G:case X:case W:J=Ql;break;case je:J=La;break;case"scroll":case"scrollend":J=Gl;break;case"wheel":J=es;break;case"copy":case"cut":case"paste":J=Du;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":J=Ji;break;case"toggle":case"beforetoggle":J=ts}var He=(t&4)!==0,wt=!He&&(e==="scroll"||e==="scrollend"),$=He?Z!==null?Z+"Capture":null:Z;He=[];for(var z=V,P;z!==null;){var se=z;if(P=se.stateNode,se=se.tag,se!==5&&se!==26&&se!==27||P===null||$===null||(se=oa(z,$),se!=null&&He.push(zs(z,se,P))),wt)break;z=z.return}0<He.length&&(Z=new J(Z,Qe,null,n,ie),ce.push({event:Z,listeners:He}))}}if((t&7)===0){e:{if(Z=e==="mouseover"||e==="pointerover",J=e==="mouseout"||e==="pointerout",Z&&n!==pr&&(Qe=n.relatedTarget||n.fromElement)&&(Mn(Qe)||Qe[At]))break e;if((J||Z)&&(Z=ie.window===ie?ie:(Z=ie.ownerDocument)?Z.defaultView||Z.parentWindow:window,J?(Qe=n.relatedTarget||n.toElement,J=V,Qe=Qe?Mn(Qe):null,Qe!==null&&(wt=p(Qe),He=Qe.tag,Qe!==wt||He!==5&&He!==27&&He!==6)&&(Qe=null)):(J=null,Qe=V),J!==Qe)){if(He=ro,se="onMouseLeave",$="onMouseEnter",z="mouse",(e==="pointerout"||e==="pointerover")&&(He=Ji,se="onPointerLeave",$="onPointerEnter",z="pointer"),wt=J==null?Z:ga(J),P=Qe==null?Z:ga(Qe),Z=new He(se,z+"leave",J,n,ie),Z.target=wt,Z.relatedTarget=P,se=null,Mn(ie)===V&&(He=new He($,z+"enter",Qe,n,ie),He.target=P,He.relatedTarget=wt,se=He),wt=se,J&&Qe)t:{for(He=J,$=Qe,z=0,P=He;P;P=wi(P))z++;for(P=0,se=$;se;se=wi(se))P++;for(;0<z-P;)He=wi(He),z--;for(;0<P-z;)$=wi($),P--;for(;z--;){if(He===$||$!==null&&He===$.alternate)break t;He=wi(He),$=wi($)}He=null}else He=null;J!==null&&am(ce,Z,J,He,!1),Qe!==null&&wt!==null&&am(ce,wt,Qe,He,!0)}}e:{if(Z=V?ga(V):window,J=Z.nodeName&&Z.nodeName.toLowerCase(),J==="select"||J==="input"&&Z.type==="file")var Re=go;else if(rs(Z))if(yl)Re=is;else{Re=yo;var tt=ls}else J=Z.nodeName,!J||J.toLowerCase()!=="input"||Z.type!=="checkbox"&&Z.type!=="radio"?V&&$i(V.elementType)&&(Re=go):Re=Ya;if(Re&&(Re=Re(e,V))){ei(ce,Re,n,ie);break e}tt&&tt(e,Z,V),e==="focusout"&&V&&Z.type==="number"&&V.memoizedProps.value!=null&&Hl(Z,"number",Z.value)}switch(tt=V?ga(V):window,e){case"focusin":(rs(tt)||tt.contentEditable==="true")&&(A=tt,_=V,O=null);break;case"focusout":O=_=A=null;break;case"mousedown":B=!0;break;case"contextmenu":case"mouseup":case"dragend":B=!1,H(ce,n,ie);break;case"selectionchange":if(k)break;case"keydown":case"keyup":H(ce,n,ie)}var Be;if(ns)e:{switch(e){case"compositionstart":var Ge="onCompositionStart";break e;case"compositionend":Ge="onCompositionEnd";break e;case"compositionupdate":Ge="onCompositionUpdate";break e}Ge=void 0}else Sr?fo(e,n)&&(Ge="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(Ge="onCompositionStart");Ge&&(co&&n.locale!=="ko"&&(Sr||Ge!=="onCompositionStart"?Ge==="onCompositionEnd"&&Sr&&(Be=Yl()):(Jt=ie,dl="value"in Jt?Jt.value:Jt.textContent,Sr=!0)),tt=Io(V,Ge),0<tt.length&&(Ge=new Pl(Ge,e,null,n,ie),ce.push({event:Ge,listeners:tt}),Be?Ge.data=Be:(Be=as(n),Be!==null&&(Ge.data=Be)))),(Be=Jl?ho(e,n):mo(e,n))&&(Ge=Io(V,"onBeforeInput"),0<Ge.length&&(tt=new Pl("onBeforeInput","beforeinput",null,n,ie),ce.push({event:tt,listeners:Ge}),tt.data=Be)),jp(ce,e,V,n,ie)}tm(ce,t)})}function zs(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Io(e,t){for(var n=t+"Capture",a=[];e!==null;){var i=e,f=i.stateNode;if(i=i.tag,i!==5&&i!==26&&i!==27||f===null||(i=oa(e,n),i!=null&&a.unshift(zs(e,i,f)),i=oa(e,t),i!=null&&a.push(zs(e,i,f))),e.tag===3)return a;e=e.return}return[]}function wi(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function am(e,t,n,a,i){for(var f=t._reactName,v=[];n!==null&&n!==a;){var j=n,M=j.alternate,V=j.stateNode;if(j=j.tag,M!==null&&M===a)break;j!==5&&j!==26&&j!==27||V===null||(M=V,i?(V=oa(n,f),V!=null&&v.unshift(zs(n,V,M))):i||(V=oa(n,f),V!=null&&v.push(zs(n,V,M)))),n=n.return}v.length!==0&&e.push({event:t,listeners:v})}var Ap=/\r\n?/g,Cp=/\u0000|\uFFFD/g;function rm(e){return(typeof e=="string"?e:""+e).replace(Ap,`
`).replace(Cp,"")}function lm(e,t){return t=rm(t),rm(e)===t}function eu(){}function bt(e,t,n,a,i,f){switch(n){case"children":typeof a=="string"?t==="body"||t==="textarea"&&a===""||za(e,a):(typeof a=="number"||typeof a=="bigint")&&t!=="body"&&za(e,""+a);break;case"className":Oa(e,"class",a);break;case"tabIndex":Oa(e,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":Oa(e,n,a);break;case"style":Gi(e,a,f);break;case"data":if(t!=="object"){Oa(e,"data",a);break}case"src":case"href":if(a===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(n);break}a=sa(""+a),e.setAttribute(n,a);break;case"action":case"formAction":if(typeof a=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(n==="formAction"?(t!=="input"&&bt(e,t,"name",i.name,i,null),bt(e,t,"formEncType",i.formEncType,i,null),bt(e,t,"formMethod",i.formMethod,i,null),bt(e,t,"formTarget",i.formTarget,i,null)):(bt(e,t,"encType",i.encType,i,null),bt(e,t,"method",i.method,i,null),bt(e,t,"target",i.target,i,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(n);break}a=sa(""+a),e.setAttribute(n,a);break;case"onClick":a!=null&&(e.onclick=eu);break;case"onScroll":a!=null&&rt("scroll",e);break;case"onScrollEnd":a!=null&&rt("scrollend",e);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(u(61));if(n=a.__html,n!=null){if(i.children!=null)throw Error(u(60));e.innerHTML=n}}break;case"multiple":e.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":e.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){e.removeAttribute("xlink:href");break}n=sa(""+a),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,""+a):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":a===!0?e.setAttribute(n,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,a):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?e.setAttribute(n,a):e.removeAttribute(n);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?e.removeAttribute(n):e.setAttribute(n,a);break;case"popover":rt("beforetoggle",e),rt("toggle",e),la(e,"popover",a);break;case"xlinkActuate":On(e,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":On(e,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":On(e,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":On(e,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":On(e,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":On(e,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":On(e,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":On(e,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":On(e,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":la(e,"is",a);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=_u.get(n)||n,la(e,n,a))}}function Wc(e,t,n,a,i,f){switch(n){case"style":Gi(e,a,f);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(u(61));if(n=a.__html,n!=null){if(i.children!=null)throw Error(u(60));e.innerHTML=n}}break;case"children":typeof a=="string"?za(e,a):(typeof a=="number"||typeof a=="bigint")&&za(e,""+a);break;case"onScroll":a!=null&&rt("scroll",e);break;case"onScrollEnd":a!=null&&rt("scrollend",e);break;case"onClick":a!=null&&(e.onclick=eu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!pa.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(i=n.endsWith("Capture"),t=n.slice(2,i?n.length-7:void 0),f=e[Ie]||null,f=f!=null?f[n]:null,typeof f=="function"&&e.removeEventListener(t,f,i),typeof a=="function")){typeof f!="function"&&f!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,a,i);break e}n in e?e[n]=a:a===!0?e.setAttribute(n,""):la(e,n,a)}}}function on(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":rt("error",e),rt("load",e);var a=!1,i=!1,f;for(f in n)if(n.hasOwnProperty(f)){var v=n[f];if(v!=null)switch(f){case"src":a=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(u(137,t));default:bt(e,t,f,v,n,null)}}i&&bt(e,t,"srcSet",n.srcSet,n,null),a&&bt(e,t,"src",n.src,n,null);return;case"input":rt("invalid",e);var j=f=v=i=null,M=null,V=null;for(a in n)if(n.hasOwnProperty(a)){var ie=n[a];if(ie!=null)switch(a){case"name":i=ie;break;case"type":v=ie;break;case"checked":M=ie;break;case"defaultChecked":V=ie;break;case"value":f=ie;break;case"defaultValue":j=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(u(137,t));break;default:bt(e,t,a,ie,n,null)}}ul(e,f,j,M,V,v,i,!1),ft(e);return;case"select":rt("invalid",e),a=v=f=null;for(i in n)if(n.hasOwnProperty(i)&&(j=n[i],j!=null))switch(i){case"value":f=j;break;case"defaultValue":v=j;break;case"multiple":a=j;default:bt(e,t,i,j,n,null)}t=f,n=v,e.multiple=!!a,t!=null?ia(e,!!a,t,!1):n!=null&&ia(e,!!a,n,!0);return;case"textarea":rt("invalid",e),f=i=a=null;for(v in n)if(n.hasOwnProperty(v)&&(j=n[v],j!=null))switch(v){case"value":a=j;break;case"defaultValue":i=j;break;case"children":f=j;break;case"dangerouslySetInnerHTML":if(j!=null)throw Error(u(91));break;default:bt(e,t,v,j,n,null)}gr(e,a,i,f),ft(e);return;case"option":for(M in n)if(n.hasOwnProperty(M)&&(a=n[M],a!=null))switch(M){case"selected":e.selected=a&&typeof a!="function"&&typeof a!="symbol";break;default:bt(e,t,M,a,n,null)}return;case"dialog":rt("beforetoggle",e),rt("toggle",e),rt("cancel",e),rt("close",e);break;case"iframe":case"object":rt("load",e);break;case"video":case"audio":for(a=0;a<Rs.length;a++)rt(Rs[a],e);break;case"image":rt("error",e),rt("load",e);break;case"details":rt("toggle",e);break;case"embed":case"source":case"link":rt("error",e),rt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(V in n)if(n.hasOwnProperty(V)&&(a=n[V],a!=null))switch(V){case"children":case"dangerouslySetInnerHTML":throw Error(u(137,t));default:bt(e,t,V,a,n,null)}return;default:if($i(t)){for(ie in n)n.hasOwnProperty(ie)&&(a=n[ie],a!==void 0&&Wc(e,t,ie,a,n,void 0));return}}for(j in n)n.hasOwnProperty(j)&&(a=n[j],a!=null&&bt(e,t,j,a,n,null))}function _p(e,t,n,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,f=null,v=null,j=null,M=null,V=null,ie=null;for(J in n){var ce=n[J];if(n.hasOwnProperty(J)&&ce!=null)switch(J){case"checked":break;case"value":break;case"defaultValue":M=ce;default:a.hasOwnProperty(J)||bt(e,t,J,null,a,ce)}}for(var Z in a){var J=a[Z];if(ce=n[Z],a.hasOwnProperty(Z)&&(J!=null||ce!=null))switch(Z){case"type":f=J;break;case"name":i=J;break;case"checked":V=J;break;case"defaultChecked":ie=J;break;case"value":v=J;break;case"defaultValue":j=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(u(137,t));break;default:J!==ce&&bt(e,t,Z,J,a,ce)}}ol(e,v,j,M,V,ie,f,i);return;case"select":J=v=j=Z=null;for(f in n)if(M=n[f],n.hasOwnProperty(f)&&M!=null)switch(f){case"value":break;case"multiple":J=M;default:a.hasOwnProperty(f)||bt(e,t,f,null,a,M)}for(i in a)if(f=a[i],M=n[i],a.hasOwnProperty(i)&&(f!=null||M!=null))switch(i){case"value":Z=f;break;case"defaultValue":j=f;break;case"multiple":v=f;default:f!==M&&bt(e,t,i,f,a,M)}t=j,n=v,a=J,Z!=null?ia(e,!!n,Z,!1):!!a!=!!n&&(t!=null?ia(e,!!n,t,!0):ia(e,!!n,n?[]:"",!1));return;case"textarea":J=Z=null;for(j in n)if(i=n[j],n.hasOwnProperty(j)&&i!=null&&!a.hasOwnProperty(j))switch(j){case"value":break;case"children":break;default:bt(e,t,j,null,a,i)}for(v in a)if(i=a[v],f=n[v],a.hasOwnProperty(v)&&(i!=null||f!=null))switch(v){case"value":Z=i;break;case"defaultValue":J=i;break;case"children":break;case"dangerouslySetInnerHTML":if(i!=null)throw Error(u(91));break;default:i!==f&&bt(e,t,v,i,a,f)}Ki(e,Z,J);return;case"option":for(var Qe in n)if(Z=n[Qe],n.hasOwnProperty(Qe)&&Z!=null&&!a.hasOwnProperty(Qe))switch(Qe){case"selected":e.selected=!1;break;default:bt(e,t,Qe,null,a,Z)}for(M in a)if(Z=a[M],J=n[M],a.hasOwnProperty(M)&&Z!==J&&(Z!=null||J!=null))switch(M){case"selected":e.selected=Z&&typeof Z!="function"&&typeof Z!="symbol";break;default:bt(e,t,M,Z,a,J)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var He in n)Z=n[He],n.hasOwnProperty(He)&&Z!=null&&!a.hasOwnProperty(He)&&bt(e,t,He,null,a,Z);for(V in a)if(Z=a[V],J=n[V],a.hasOwnProperty(V)&&Z!==J&&(Z!=null||J!=null))switch(V){case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(u(137,t));break;default:bt(e,t,V,Z,a,J)}return;default:if($i(t)){for(var wt in n)Z=n[wt],n.hasOwnProperty(wt)&&Z!==void 0&&!a.hasOwnProperty(wt)&&Wc(e,t,wt,void 0,a,Z);for(ie in a)Z=a[ie],J=n[ie],!a.hasOwnProperty(ie)||Z===J||Z===void 0&&J===void 0||Wc(e,t,ie,Z,a,J);return}}for(var $ in n)Z=n[$],n.hasOwnProperty($)&&Z!=null&&!a.hasOwnProperty($)&&bt(e,t,$,null,a,Z);for(ce in a)Z=a[ce],J=n[ce],!a.hasOwnProperty(ce)||Z===J||Z==null&&J==null||bt(e,t,ce,Z,a,J)}var Ic=null,ed=null;function tu(e){return e.nodeType===9?e:e.ownerDocument}function im(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function sm(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function td(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var nd=null;function Dp(){var e=window.event;return e&&e.type==="popstate"?e===nd?!1:(nd=e,!0):(nd=null,!1)}var om=typeof setTimeout=="function"?setTimeout:void 0,Mp=typeof clearTimeout=="function"?clearTimeout:void 0,um=typeof Promise=="function"?Promise:void 0,Op=typeof queueMicrotask=="function"?queueMicrotask:typeof um<"u"?function(e){return um.resolve(null).then(e).catch(Rp)}:om;function Rp(e){setTimeout(function(){throw e})}function Kr(e){return e==="head"}function cm(e,t){var n=t,a=0,i=0;do{var f=n.nextSibling;if(e.removeChild(n),f&&f.nodeType===8)if(n=f.data,n==="/$"){if(0<a&&8>a){n=a;var v=e.ownerDocument;if(n&1&&Bs(v.documentElement),n&2&&Bs(v.body),n&4)for(n=v.head,Bs(n),v=n.firstChild;v;){var j=v.nextSibling,M=v.nodeName;v[ll]||M==="SCRIPT"||M==="STYLE"||M==="LINK"&&v.rel.toLowerCase()==="stylesheet"||n.removeChild(v),v=j}}if(i===0){e.removeChild(f),$s(t);return}i--}else n==="$"||n==="$?"||n==="$!"?i++:a=n.charCodeAt(0)-48;else a=0;n=f}while(n);$s(t)}function ad(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":ad(n),Qn(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function zp(e,t,n,a){for(;e.nodeType===1;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!a&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(a){if(!e[ll])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==i.rel||e.getAttribute("href")!==(i.href==null||i.href===""?null:i.href)||e.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin)||e.getAttribute("title")!==(i.title==null?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(i.src==null?null:i.src)||e.getAttribute("type")!==(i.type==null?null:i.type)||e.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var f=i.name==null?null:""+i.name;if(i.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=ca(e.nextSibling),e===null)break}return null}function Bp(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=ca(e.nextSibling),e===null))return null;return e}function rd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function Up(e,t){var n=e.ownerDocument;if(e.data!=="$?"||n.readyState==="complete")t();else{var a=function(){t(),n.removeEventListener("DOMContentLoaded",a)};n.addEventListener("DOMContentLoaded",a),e._reactRetry=a}}function ca(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}var ld=null;function dm(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}function fm(e,t,n){switch(t=tu(n),e){case"html":if(e=t.documentElement,!e)throw Error(u(452));return e;case"head":if(e=t.head,!e)throw Error(u(453));return e;case"body":if(e=t.body,!e)throw Error(u(454));return e;default:throw Error(u(451))}}function Bs(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Qn(e)}var ea=new Map,hm=new Set;function nu(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var er=xe.d;xe.d={f:qp,r:Lp,D:Hp,C:Yp,L:Kp,m:Gp,X:Xp,S:$p,M:Qp};function qp(){var e=er.f(),t=Po();return e||t}function Lp(e){var t=xn(e);t!==null&&t.tag===5&&t.type==="form"?Of(t):er.r(e)}var Si=typeof document>"u"?null:document;function mm(e,t,n){var a=Si;if(a&&typeof t=="string"&&t){var i=fn(t);i='link[rel="'+e+'"][href="'+i+'"]',typeof n=="string"&&(i+='[crossorigin="'+n+'"]'),hm.has(i)||(hm.add(i),e={rel:e,crossOrigin:n,href:t},a.querySelector(i)===null&&(t=a.createElement("link"),on(t,"link",e),St(t),a.head.appendChild(t)))}}function Hp(e){er.D(e),mm("dns-prefetch",e,null)}function Yp(e,t){er.C(e,t),mm("preconnect",e,t)}function Kp(e,t,n){er.L(e,t,n);var a=Si;if(a&&e&&t){var i='link[rel="preload"][as="'+fn(t)+'"]';t==="image"&&n&&n.imageSrcSet?(i+='[imagesrcset="'+fn(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(i+='[imagesizes="'+fn(n.imageSizes)+'"]')):i+='[href="'+fn(e)+'"]';var f=i;switch(t){case"style":f=ki(e);break;case"script":f=ji(e)}ea.has(f)||(e=S({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),ea.set(f,e),a.querySelector(i)!==null||t==="style"&&a.querySelector(Us(f))||t==="script"&&a.querySelector(qs(f))||(t=a.createElement("link"),on(t,"link",e),St(t),a.head.appendChild(t)))}}function Gp(e,t){er.m(e,t);var n=Si;if(n&&e){var a=t&&typeof t.as=="string"?t.as:"script",i='link[rel="modulepreload"][as="'+fn(a)+'"][href="'+fn(e)+'"]',f=i;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=ji(e)}if(!ea.has(f)&&(e=S({rel:"modulepreload",href:e},t),ea.set(f,e),n.querySelector(i)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(qs(f)))return}a=n.createElement("link"),on(a,"link",e),St(a),n.head.appendChild(a)}}}function $p(e,t,n){er.S(e,t,n);var a=Si;if(a&&e){var i=dr(a).hoistableStyles,f=ki(e);t=t||"default";var v=i.get(f);if(!v){var j={loading:0,preload:null};if(v=a.querySelector(Us(f)))j.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":t},n),(n=ea.get(f))&&id(e,n);var M=v=a.createElement("link");St(M),on(M,"link",e),M._p=new Promise(function(V,ie){M.onload=V,M.onerror=ie}),M.addEventListener("load",function(){j.loading|=1}),M.addEventListener("error",function(){j.loading|=2}),j.loading|=4,au(v,t,a)}v={type:"stylesheet",instance:v,count:1,state:j},i.set(f,v)}}}function Xp(e,t){er.X(e,t);var n=Si;if(n&&e){var a=dr(n).hoistableScripts,i=ji(e),f=a.get(i);f||(f=n.querySelector(qs(i)),f||(e=S({src:e,async:!0},t),(t=ea.get(i))&&sd(e,t),f=n.createElement("script"),St(f),on(f,"link",e),n.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},a.set(i,f))}}function Qp(e,t){er.M(e,t);var n=Si;if(n&&e){var a=dr(n).hoistableScripts,i=ji(e),f=a.get(i);f||(f=n.querySelector(qs(i)),f||(e=S({src:e,async:!0,type:"module"},t),(t=ea.get(i))&&sd(e,t),f=n.createElement("script"),St(f),on(f,"link",e),n.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},a.set(i,f))}}function gm(e,t,n,a){var i=(i=Ue.current)?nu(i):null;if(!i)throw Error(u(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=ki(n.href),n=dr(i).hoistableStyles,a=n.get(t),a||(a={type:"style",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=ki(n.href);var f=dr(i).hoistableStyles,v=f.get(e);if(v||(i=i.ownerDocument||i,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,v),(f=i.querySelector(Us(e)))&&!f._p&&(v.instance=f,v.state.loading=5),ea.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},ea.set(e,n),f||Pp(i,e,n,v.state))),t&&a===null)throw Error(u(528,""));return v}if(t&&a!==null)throw Error(u(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=ji(n),n=dr(i).hoistableScripts,a=n.get(t),a||(a={type:"script",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(u(444,e))}}function ki(e){return'href="'+fn(e)+'"'}function Us(e){return'link[rel="stylesheet"]['+e+"]"}function pm(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function Pp(e,t,n,a){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?a.loading=1:(t=e.createElement("link"),a.preload=t,t.addEventListener("load",function(){return a.loading|=1}),t.addEventListener("error",function(){return a.loading|=2}),on(t,"link",n),St(t),e.head.appendChild(t))}function ji(e){return'[src="'+fn(e)+'"]'}function qs(e){return"script[async]"+e}function ym(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var a=e.querySelector('style[data-href~="'+fn(n.href)+'"]');if(a)return t.instance=a,St(a),a;var i=S({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return a=(e.ownerDocument||e).createElement("style"),St(a),on(a,"style",i),au(a,n.precedence,e),t.instance=a;case"stylesheet":i=ki(n.href);var f=e.querySelector(Us(i));if(f)return t.state.loading|=4,t.instance=f,St(f),f;a=pm(n),(i=ea.get(i))&&id(a,i),f=(e.ownerDocument||e).createElement("link"),St(f);var v=f;return v._p=new Promise(function(j,M){v.onload=j,v.onerror=M}),on(f,"link",a),t.state.loading|=4,au(f,n.precedence,e),t.instance=f;case"script":return f=ji(n.src),(i=e.querySelector(qs(f)))?(t.instance=i,St(i),i):(a=n,(i=ea.get(f))&&(a=S({},n),sd(a,i)),e=e.ownerDocument||e,i=e.createElement("script"),St(i),on(i,"link",a),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(u(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(a=t.instance,t.state.loading|=4,au(a,n.precedence,e));return t.instance}function au(e,t,n){for(var a=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=a.length?a[a.length-1]:null,f=i,v=0;v<a.length;v++){var j=a[v];if(j.dataset.precedence===t)f=j;else if(f!==i)break}f?f.parentNode.insertBefore(e,f.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function id(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function sd(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var ru=null;function vm(e,t,n){if(ru===null){var a=new Map,i=ru=new Map;i.set(n,a)}else i=ru,a=i.get(n),a||(a=new Map,i.set(n,a));if(a.has(e))return a;for(a.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var f=n[i];if(!(f[ll]||f[Ht]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var v=f.getAttribute(t)||"";v=e+v;var j=a.get(v);j?j.push(f):a.set(v,[f])}}return a}function xm(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function Vp(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function bm(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var Ls=null;function Fp(){}function Zp(e,t,n){if(Ls===null)throw Error(u(475));var a=Ls;if(t.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&(t.state.loading&4)===0){if(t.instance===null){var i=ki(n.href),f=e.querySelector(Us(i));if(f){e=f._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(a.count++,a=lu.bind(a),e.then(a,a)),t.state.loading|=4,t.instance=f,St(f);return}f=e.ownerDocument||e,n=pm(n),(i=ea.get(i))&&id(n,i),f=f.createElement("link"),St(f);var v=f;v._p=new Promise(function(j,M){v.onload=j,v.onerror=M}),on(f,"link",n),t.instance=f}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(t,e),(e=t.state.preload)&&(t.state.loading&3)===0&&(a.count++,t=lu.bind(a),e.addEventListener("load",t),e.addEventListener("error",t))}}function Jp(){if(Ls===null)throw Error(u(475));var e=Ls;return e.stylesheets&&e.count===0&&od(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&od(e,e.stylesheets),e.unsuspend){var a=e.unsuspend;e.unsuspend=null,a()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}function lu(){if(this.count--,this.count===0){if(this.stylesheets)od(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var iu=null;function od(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,iu=new Map,t.forEach(Wp,e),iu=null,lu.call(e))}function Wp(e,t){if(!(t.state.loading&4)){var n=iu.get(e);if(n)var a=n.get(null);else{n=new Map,iu.set(e,n);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<i.length;f++){var v=i[f];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(n.set(v.dataset.precedence,v),a=v)}a&&n.set(null,a)}i=t.instance,v=i.getAttribute("data-precedence"),f=n.get(v)||a,f===a&&n.set(null,i),n.set(v,i),this.count++,a=lu.bind(this),i.addEventListener("load",a),i.addEventListener("error",a),f?f.parentNode.insertBefore(i,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(i,e.firstChild)),t.state.loading|=4}}var Hs={$$typeof:U,Provider:null,Consumer:null,_currentValue:Me,_currentValue2:Me,_threadCount:0};function Ip(e,t,n,a,i,f,v,j){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=al(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=al(0),this.hiddenUpdates=al(null),this.identifierPrefix=a,this.onUncaughtError=i,this.onCaughtError=f,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=j,this.incompleteTransitions=new Map}function wm(e,t,n,a,i,f,v,j,M,V,ie,ce){return e=new Ip(e,t,n,v,j,M,V,ce),t=1,f===!0&&(t|=24),f=Un(3,null,null,t),e.current=f,f.stateNode=e,t=Gu(),t.refCount++,e.pooledCache=t,t.refCount++,f.memoizedState={element:a,isDehydrated:n,cache:t},Pu(f),e}function Sm(e){return e?(e=Tn,e):Tn}function km(e,t,n,a,i,f){i=Sm(i),a.context===null?a.context=i:a.pendingContext=i,a=Cr(t),a.payload={element:n},f=f===void 0?null:f,f!==null&&(a.callback=f),n=_r(e,a,t),n!==null&&(Kn(n,e,t),ps(n,e,t))}function jm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function ud(e,t){jm(e,t),(e=e.alternate)&&jm(e,t)}function Nm(e){if(e.tag===13){var t=Rt(e,67108864);t!==null&&Kn(t,e,67108864),ud(e,67108864)}}var su=!0;function e0(e,t,n,a){var i=F.T;F.T=null;var f=xe.p;try{xe.p=2,cd(e,t,n,a)}finally{xe.p=f,F.T=i}}function t0(e,t,n,a){var i=F.T;F.T=null;var f=xe.p;try{xe.p=8,cd(e,t,n,a)}finally{xe.p=f,F.T=i}}function cd(e,t,n,a){if(su){var i=dd(a);if(i===null)Jc(e,t,a,ou,n),Tm(e,a);else if(a0(i,e,t,n,a))a.stopPropagation();else if(Tm(e,a),t&4&&-1<n0.indexOf(e)){for(;i!==null;){var f=xn(i);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var v=dn(f.pendingLanes);if(v!==0){var j=f;for(j.pendingLanes|=2,j.entangledLanes|=2;v;){var M=1<<31-Mt(v);j.entanglements[1]|=M,v&=~M}Ta(f),(ht&6)===0&&(Xo=Fe()+500,Os(0))}}break;case 13:j=Rt(f,2),j!==null&&Kn(j,f,2),Po(),ud(f,2)}if(f=dd(a),f===null&&Jc(e,t,a,ou,n),f===i)break;i=f}i!==null&&a.stopPropagation()}else Jc(e,t,a,null,n)}}function dd(e){return e=Vn(e),fd(e)}var ou=null;function fd(e){if(ou=null,e=Mn(e),e!==null){var t=p(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=x(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return ou=e,null}function Em(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(pn()){case ha:return 2;case Nt:return 8;case Dt:case yn:return 32;case Nn:return 268435456;default:return 32}default:return 32}}var hd=!1,Gr=null,$r=null,Xr=null,Ys=new Map,Ks=new Map,Qr=[],n0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Tm(e,t){switch(e){case"focusin":case"focusout":Gr=null;break;case"dragenter":case"dragleave":$r=null;break;case"mouseover":case"mouseout":Xr=null;break;case"pointerover":case"pointerout":Ys.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ks.delete(t.pointerId)}}function Gs(e,t,n,a,i,f){return e===null||e.nativeEvent!==f?(e={blockedOn:t,domEventName:n,eventSystemFlags:a,nativeEvent:f,targetContainers:[i]},t!==null&&(t=xn(t),t!==null&&Nm(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function a0(e,t,n,a,i){switch(t){case"focusin":return Gr=Gs(Gr,e,t,n,a,i),!0;case"dragenter":return $r=Gs($r,e,t,n,a,i),!0;case"mouseover":return Xr=Gs(Xr,e,t,n,a,i),!0;case"pointerover":var f=i.pointerId;return Ys.set(f,Gs(Ys.get(f)||null,e,t,n,a,i)),!0;case"gotpointercapture":return f=i.pointerId,Ks.set(f,Gs(Ks.get(f)||null,e,t,n,a,i)),!0}return!1}function Am(e){var t=Mn(e.target);if(t!==null){var n=p(t);if(n!==null){if(t=n.tag,t===13){if(t=x(n),t!==null){e.blockedOn=t,cr(e.priority,function(){if(n.tag===13){var a=Yn();a=Ui(a);var i=Rt(n,a);i!==null&&Kn(i,n,a),ud(n,a)}});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function uu(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=dd(e.nativeEvent);if(n===null){n=e.nativeEvent;var a=new n.constructor(n.type,n);pr=a,n.target.dispatchEvent(a),pr=null}else return t=xn(n),t!==null&&Nm(t),e.blockedOn=n,!1;t.shift()}return!0}function Cm(e,t,n){uu(e)&&n.delete(t)}function r0(){hd=!1,Gr!==null&&uu(Gr)&&(Gr=null),$r!==null&&uu($r)&&($r=null),Xr!==null&&uu(Xr)&&(Xr=null),Ys.forEach(Cm),Ks.forEach(Cm)}function cu(e,t){e.blockedOn===t&&(e.blockedOn=null,hd||(hd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,r0)))}var du=null;function _m(e){du!==e&&(du=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){du===e&&(du=null);for(var t=0;t<e.length;t+=3){var n=e[t],a=e[t+1],i=e[t+2];if(typeof a!="function"){if(fd(a||n)===null)continue;break}var f=xn(n);f!==null&&(e.splice(t,3),t-=3,fc(f,{pending:!0,data:i,method:n.method,action:a},a,i))}}))}function $s(e){function t(M){return cu(M,e)}Gr!==null&&cu(Gr,e),$r!==null&&cu($r,e),Xr!==null&&cu(Xr,e),Ys.forEach(t),Ks.forEach(t);for(var n=0;n<Qr.length;n++){var a=Qr[n];a.blockedOn===e&&(a.blockedOn=null)}for(;0<Qr.length&&(n=Qr[0],n.blockedOn===null);)Am(n),n.blockedOn===null&&Qr.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(a=0;a<n.length;a+=3){var i=n[a],f=n[a+1],v=i[Ie]||null;if(typeof f=="function")v||_m(n);else if(v){var j=null;if(f&&f.hasAttribute("formAction")){if(i=f,v=f[Ie]||null)j=v.formAction;else if(fd(i)!==null)continue}else j=v.action;typeof j=="function"?n[a+1]=j:(n.splice(a,3),a-=3),_m(n)}}}function md(e){this._internalRoot=e}fu.prototype.render=md.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(u(409));var n=t.current,a=Yn();km(n,a,e,t,null,null)},fu.prototype.unmount=md.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;km(e.current,2,null,e,null,null),Po(),t[At]=null}};function fu(e){this._internalRoot=e}fu.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ma();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Qr.length&&t!==0&&t<Qr[n].priority;n++);Qr.splice(n,0,e),n===0&&Am(e)}};var Dm=o.version;if(Dm!=="19.1.1")throw Error(u(527,Dm,"19.1.1"));xe.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(u(188)):(e=Object.keys(e).join(","),Error(u(268,e)));return e=N(t),e=e!==null?b(e):null,e=e===null?null:e.stateNode,e};var l0={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var hu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hu.isDisabled&&hu.supportsFiber)try{cn=hu.inject(l0),Tt=hu}catch{}}return Qs.createRoot=function(e,t){if(!m(e))throw Error(u(299));var n=!1,a="",i=Pf,f=Vf,v=Ff,j=null;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onUncaughtError!==void 0&&(i=t.onUncaughtError),t.onCaughtError!==void 0&&(f=t.onCaughtError),t.onRecoverableError!==void 0&&(v=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(j=t.unstable_transitionCallbacks)),t=wm(e,1,!1,null,null,n,a,i,f,v,j,null),e[At]=t.current,Zc(e),new md(t)},Qs.hydrateRoot=function(e,t,n){if(!m(e))throw Error(u(299));var a=!1,i="",f=Pf,v=Vf,j=Ff,M=null,V=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onUncaughtError!==void 0&&(f=n.onUncaughtError),n.onCaughtError!==void 0&&(v=n.onCaughtError),n.onRecoverableError!==void 0&&(j=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(M=n.unstable_transitionCallbacks),n.formState!==void 0&&(V=n.formState)),t=wm(e,1,!0,t,n??null,a,i,f,v,j,M,V),t.context=Sm(null),n=t.current,a=Yn(),a=Ui(a),i=Cr(a),i.callback=null,_r(n,i,a),n=a,t.current.lanes=n,ur(t,n),Ta(t),e[At]=t.current,Zc(e),new fu(t)},Qs.version="19.1.1",Qs}var Ym;function g0(){if(Ym)return yd.exports;Ym=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(o){console.error(o)}}return r(),yd.exports=m0(),yd.exports}var p0=g0();/**
 * react-router v7.9.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Km="popstate";function y0(r={}){function o(u,m){let{pathname:p,search:x,hash:w}=u.location;return Td("",{pathname:p,search:x,hash:w},m.state&&m.state.usr||null,m.state&&m.state.key||"default")}function d(u,m){return typeof m=="string"?m:Js(m)}return x0(o,d,null,r)}function Bt(r,o){if(r===!1||r===null||typeof r>"u")throw new Error(o)}function Aa(r,o){if(!r){typeof console<"u"&&console.warn(o);try{throw new Error(o)}catch{}}}function v0(){return Math.random().toString(36).substring(2,10)}function Gm(r,o){return{usr:r.state,key:r.key,idx:o}}function Td(r,o,d=null,u){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof o=="string"?Di(o):o,state:d,key:o&&o.key||u||v0()}}function Js({pathname:r="/",search:o="",hash:d=""}){return o&&o!=="?"&&(r+=o.charAt(0)==="?"?o:"?"+o),d&&d!=="#"&&(r+=d.charAt(0)==="#"?d:"#"+d),r}function Di(r){let o={};if(r){let d=r.indexOf("#");d>=0&&(o.hash=r.substring(d),r=r.substring(0,d));let u=r.indexOf("?");u>=0&&(o.search=r.substring(u),r=r.substring(0,u)),r&&(o.pathname=r)}return o}function x0(r,o,d,u={}){let{window:m=document.defaultView,v5Compat:p=!1}=u,x=m.history,w="POP",N=null,b=S();b==null&&(b=0,x.replaceState({...x.state,idx:b},""));function S(){return(x.state||{idx:null}).idx}function T(){w="POP";let fe=S(),he=fe==null?null:fe-b;b=fe,N&&N({action:w,location:ee.location,delta:he})}function Q(fe,he){w="PUSH";let oe=Td(ee.location,fe,he);b=S()+1;let U=Gm(oe,b),Y=ee.createHref(oe);try{x.pushState(U,"",Y)}catch(le){if(le instanceof DOMException&&le.name==="DataCloneError")throw le;m.location.assign(Y)}p&&N&&N({action:w,location:ee.location,delta:1})}function I(fe,he){w="REPLACE";let oe=Td(ee.location,fe,he);b=S();let U=Gm(oe,b),Y=ee.createHref(oe);x.replaceState(U,"",Y),p&&N&&N({action:w,location:ee.location,delta:0})}function te(fe){return b0(fe)}let ee={get action(){return w},get location(){return r(m,x)},listen(fe){if(N)throw new Error("A history only accepts one active listener");return m.addEventListener(Km,T),N=fe,()=>{m.removeEventListener(Km,T),N=null}},createHref(fe){return o(m,fe)},createURL:te,encodeLocation(fe){let he=te(fe);return{pathname:he.pathname,search:he.search,hash:he.hash}},push:Q,replace:I,go(fe){return x.go(fe)}};return ee}function b0(r,o=!1){let d="http://localhost";typeof window<"u"&&(d=window.location.origin!=="null"?window.location.origin:window.location.href),Bt(d,"No window.location.(origin|href) available to create URL");let u=typeof r=="string"?r:Js(r);return u=u.replace(/ $/,"%20"),!o&&u.startsWith("//")&&(u=d+u),new URL(u,d)}function cg(r,o,d="/"){return w0(r,o,d,!1)}function w0(r,o,d,u){let m=typeof o=="string"?Di(o):o,p=nr(m.pathname||"/",d);if(p==null)return null;let x=dg(r);S0(x);let w=null;for(let N=0;w==null&&N<x.length;++N){let b=O0(p);w=D0(x[N],b,u)}return w}function dg(r,o=[],d=[],u="",m=!1){let p=(x,w,N=m,b)=>{let S={relativePath:b===void 0?x.path||"":b,caseSensitive:x.caseSensitive===!0,childrenIndex:w,route:x};if(S.relativePath.startsWith("/")){if(!S.relativePath.startsWith(u)&&N)return;Bt(S.relativePath.startsWith(u),`Absolute route path "${S.relativePath}" nested under path "${u}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),S.relativePath=S.relativePath.slice(u.length)}let T=tr([u,S.relativePath]),Q=d.concat(S);x.children&&x.children.length>0&&(Bt(x.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),dg(x.children,o,Q,T,N)),!(x.path==null&&!x.index)&&o.push({path:T,score:C0(T,x.index),routesMeta:Q})};return r.forEach((x,w)=>{if(x.path===""||!x.path?.includes("?"))p(x,w);else for(let N of fg(x.path))p(x,w,!0,N)}),o}function fg(r){let o=r.split("/");if(o.length===0)return[];let[d,...u]=o,m=d.endsWith("?"),p=d.replace(/\?$/,"");if(u.length===0)return m?[p,""]:[p];let x=fg(u.join("/")),w=[];return w.push(...x.map(N=>N===""?p:[p,N].join("/"))),m&&w.push(...x),w.map(N=>r.startsWith("/")&&N===""?"/":N)}function S0(r){r.sort((o,d)=>o.score!==d.score?d.score-o.score:_0(o.routesMeta.map(u=>u.childrenIndex),d.routesMeta.map(u=>u.childrenIndex)))}var k0=/^:[\w-]+$/,j0=3,N0=2,E0=1,T0=10,A0=-2,$m=r=>r==="*";function C0(r,o){let d=r.split("/"),u=d.length;return d.some($m)&&(u+=A0),o&&(u+=N0),d.filter(m=>!$m(m)).reduce((m,p)=>m+(k0.test(p)?j0:p===""?E0:T0),u)}function _0(r,o){return r.length===o.length&&r.slice(0,-1).every((u,m)=>u===o[m])?r[r.length-1]-o[o.length-1]:0}function D0(r,o,d=!1){let{routesMeta:u}=r,m={},p="/",x=[];for(let w=0;w<u.length;++w){let N=u[w],b=w===u.length-1,S=p==="/"?o:o.slice(p.length)||"/",T=Su({path:N.relativePath,caseSensitive:N.caseSensitive,end:b},S),Q=N.route;if(!T&&b&&d&&!u[u.length-1].route.index&&(T=Su({path:N.relativePath,caseSensitive:N.caseSensitive,end:!1},S)),!T)return null;Object.assign(m,T.params),x.push({params:m,pathname:tr([p,T.pathname]),pathnameBase:U0(tr([p,T.pathnameBase])),route:Q}),T.pathnameBase!=="/"&&(p=tr([p,T.pathnameBase]))}return x}function Su(r,o){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[d,u]=M0(r.path,r.caseSensitive,r.end),m=o.match(d);if(!m)return null;let p=m[0],x=p.replace(/(.)\/+$/,"$1"),w=m.slice(1);return{params:u.reduce((b,{paramName:S,isOptional:T},Q)=>{if(S==="*"){let te=w[Q]||"";x=p.slice(0,p.length-te.length).replace(/(.)\/+$/,"$1")}const I=w[Q];return T&&!I?b[S]=void 0:b[S]=(I||"").replace(/%2F/g,"/"),b},{}),pathname:p,pathnameBase:x,pattern:r}}function M0(r,o=!1,d=!0){Aa(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let u=[],m="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(x,w,N)=>(u.push({paramName:w,isOptional:N!=null}),N?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(u.push({paramName:"*"}),m+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):d?m+="\\/*$":r!==""&&r!=="/"&&(m+="(?:(?=\\/|$))"),[new RegExp(m,o?void 0:"i"),u]}function O0(r){try{return r.split("/").map(o=>decodeURIComponent(o).replace(/\//g,"%2F")).join("/")}catch(o){return Aa(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${o}).`),r}}function nr(r,o){if(o==="/")return r;if(!r.toLowerCase().startsWith(o.toLowerCase()))return null;let d=o.endsWith("/")?o.length-1:o.length,u=r.charAt(d);return u&&u!=="/"?null:r.slice(d)||"/"}function R0(r,o="/"){let{pathname:d,search:u="",hash:m=""}=typeof r=="string"?Di(r):r;return{pathname:d?d.startsWith("/")?d:z0(d,o):o,search:q0(u),hash:L0(m)}}function z0(r,o){let d=o.replace(/\/+$/,"").split("/");return r.split("/").forEach(m=>{m===".."?d.length>1&&d.pop():m!=="."&&d.push(m)}),d.length>1?d.join("/"):"/"}function wd(r,o,d,u){return`Cannot include a '${r}' character in a manually specified \`to.${o}\` field [${JSON.stringify(u)}].  Please separate it out to the \`to.${d}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function B0(r){return r.filter((o,d)=>d===0||o.route.path&&o.route.path.length>0)}function hg(r){let o=B0(r);return o.map((d,u)=>u===o.length-1?d.pathname:d.pathnameBase)}function mg(r,o,d,u=!1){let m;typeof r=="string"?m=Di(r):(m={...r},Bt(!m.pathname||!m.pathname.includes("?"),wd("?","pathname","search",m)),Bt(!m.pathname||!m.pathname.includes("#"),wd("#","pathname","hash",m)),Bt(!m.search||!m.search.includes("#"),wd("#","search","hash",m)));let p=r===""||m.pathname==="",x=p?"/":m.pathname,w;if(x==null)w=d;else{let T=o.length-1;if(!u&&x.startsWith("..")){let Q=x.split("/");for(;Q[0]==="..";)Q.shift(),T-=1;m.pathname=Q.join("/")}w=T>=0?o[T]:"/"}let N=R0(m,w),b=x&&x!=="/"&&x.endsWith("/"),S=(p||x===".")&&d.endsWith("/");return!N.pathname.endsWith("/")&&(b||S)&&(N.pathname+="/"),N}var tr=r=>r.join("/").replace(/\/\/+/g,"/"),U0=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),q0=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,L0=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function H0(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var gg=["POST","PUT","PATCH","DELETE"];new Set(gg);var Y0=["GET",...gg];new Set(Y0);var Mi=E.createContext(null);Mi.displayName="DataRouter";var Nu=E.createContext(null);Nu.displayName="DataRouterState";E.createContext(!1);var pg=E.createContext({isTransitioning:!1});pg.displayName="ViewTransition";var K0=E.createContext(new Map);K0.displayName="Fetchers";var G0=E.createContext(null);G0.displayName="Await";var Ca=E.createContext(null);Ca.displayName="Navigation";var Ws=E.createContext(null);Ws.displayName="Location";var ir=E.createContext({outlet:null,matches:[],isDataRoute:!1});ir.displayName="Route";var Md=E.createContext(null);Md.displayName="RouteError";function $0(r,{relative:o}={}){Bt(Is(),"useHref() may be used only in the context of a <Router> component.");let{basename:d,navigator:u}=E.useContext(Ca),{hash:m,pathname:p,search:x}=eo(r,{relative:o}),w=p;return d!=="/"&&(w=p==="/"?d:tr([d,p])),u.createHref({pathname:w,search:x,hash:m})}function Is(){return E.useContext(Ws)!=null}function el(){return Bt(Is(),"useLocation() may be used only in the context of a <Router> component."),E.useContext(Ws).location}var yg="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function vg(r){E.useContext(Ca).static||E.useLayoutEffect(r)}function X0(){let{isDataRoute:r}=E.useContext(ir);return r?ry():Q0()}function Q0(){Bt(Is(),"useNavigate() may be used only in the context of a <Router> component.");let r=E.useContext(Mi),{basename:o,navigator:d}=E.useContext(Ca),{matches:u}=E.useContext(ir),{pathname:m}=el(),p=JSON.stringify(hg(u)),x=E.useRef(!1);return vg(()=>{x.current=!0}),E.useCallback((N,b={})=>{if(Aa(x.current,yg),!x.current)return;if(typeof N=="number"){d.go(N);return}let S=mg(N,JSON.parse(p),m,b.relative==="path");r==null&&o!=="/"&&(S.pathname=S.pathname==="/"?o:tr([o,S.pathname])),(b.replace?d.replace:d.push)(S,b.state,b)},[o,d,p,m,r])}E.createContext(null);function eo(r,{relative:o}={}){let{matches:d}=E.useContext(ir),{pathname:u}=el(),m=JSON.stringify(hg(d));return E.useMemo(()=>mg(r,JSON.parse(m),u,o==="path"),[r,m,u,o])}function P0(r,o){return xg(r,o)}function xg(r,o,d,u,m){Bt(Is(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:p}=E.useContext(Ca),{matches:x}=E.useContext(ir),w=x[x.length-1],N=w?w.params:{},b=w?w.pathname:"/",S=w?w.pathnameBase:"/",T=w&&w.route;{let oe=T&&T.path||"";bg(b,!T||oe.endsWith("*")||oe.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${b}" (under <Route path="${oe}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${oe}"> to <Route path="${oe==="/"?"*":`${oe}/*`}">.`)}let Q=el(),I;if(o){let oe=typeof o=="string"?Di(o):o;Bt(S==="/"||oe.pathname?.startsWith(S),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${S}" but pathname "${oe.pathname}" was given in the \`location\` prop.`),I=oe}else I=Q;let te=I.pathname||"/",ee=te;if(S!=="/"){let oe=S.replace(/^\//,"").split("/");ee="/"+te.replace(/^\//,"").split("/").slice(oe.length).join("/")}let fe=cg(r,{pathname:ee});Aa(T||fe!=null,`No routes matched location "${I.pathname}${I.search}${I.hash}" `),Aa(fe==null||fe[fe.length-1].route.element!==void 0||fe[fe.length-1].route.Component!==void 0||fe[fe.length-1].route.lazy!==void 0,`Matched leaf route at location "${I.pathname}${I.search}${I.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let he=W0(fe&&fe.map(oe=>Object.assign({},oe,{params:Object.assign({},N,oe.params),pathname:tr([S,p.encodeLocation?p.encodeLocation(oe.pathname).pathname:oe.pathname]),pathnameBase:oe.pathnameBase==="/"?S:tr([S,p.encodeLocation?p.encodeLocation(oe.pathnameBase).pathname:oe.pathnameBase])})),x,d,u,m);return o&&he?E.createElement(Ws.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...I},navigationType:"POP"}},he):he}function V0(){let r=ay(),o=H0(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),d=r instanceof Error?r.stack:null,u="rgba(200,200,200, 0.5)",m={padding:"0.5rem",backgroundColor:u},p={padding:"2px 4px",backgroundColor:u},x=null;return console.error("Error handled by React Router default ErrorBoundary:",r),x=E.createElement(E.Fragment,null,E.createElement("p",null," Hey developer "),E.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",E.createElement("code",{style:p},"ErrorBoundary")," or"," ",E.createElement("code",{style:p},"errorElement")," prop on your route.")),E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},o),d?E.createElement("pre",{style:m},d):null,x)}var F0=E.createElement(V0,null),Z0=class extends E.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,o){return o.location!==r.location||o.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:o.error,location:o.location,revalidation:r.revalidation||o.revalidation}}componentDidCatch(r,o){this.props.unstable_onError?this.props.unstable_onError(r,o):console.error("React Router caught the following error during render",r)}render(){return this.state.error!==void 0?E.createElement(ir.Provider,{value:this.props.routeContext},E.createElement(Md.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function J0({routeContext:r,match:o,children:d}){let u=E.useContext(Mi);return u&&u.static&&u.staticContext&&(o.route.errorElement||o.route.ErrorBoundary)&&(u.staticContext._deepestRenderedBoundaryId=o.route.id),E.createElement(ir.Provider,{value:r},d)}function W0(r,o=[],d=null,u=null,m=null){if(r==null){if(!d)return null;if(d.errors)r=d.matches;else if(o.length===0&&!d.initialized&&d.matches.length>0)r=d.matches;else return null}let p=r,x=d?.errors;if(x!=null){let b=p.findIndex(S=>S.route.id&&x?.[S.route.id]!==void 0);Bt(b>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(x).join(",")}`),p=p.slice(0,Math.min(p.length,b+1))}let w=!1,N=-1;if(d)for(let b=0;b<p.length;b++){let S=p[b];if((S.route.HydrateFallback||S.route.hydrateFallbackElement)&&(N=b),S.route.id){let{loaderData:T,errors:Q}=d,I=S.route.loader&&!T.hasOwnProperty(S.route.id)&&(!Q||Q[S.route.id]===void 0);if(S.route.lazy||I){w=!0,N>=0?p=p.slice(0,N+1):p=[p[0]];break}}}return p.reduceRight((b,S,T)=>{let Q,I=!1,te=null,ee=null;d&&(Q=x&&S.route.id?x[S.route.id]:void 0,te=S.route.errorElement||F0,w&&(N<0&&T===0?(bg("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),I=!0,ee=null):N===T&&(I=!0,ee=S.route.hydrateFallbackElement||null)));let fe=o.concat(p.slice(0,T+1)),he=()=>{let oe;return Q?oe=te:I?oe=ee:S.route.Component?oe=E.createElement(S.route.Component,null):S.route.element?oe=S.route.element:oe=b,E.createElement(J0,{match:S,routeContext:{outlet:b,matches:fe,isDataRoute:d!=null},children:oe})};return d&&(S.route.ErrorBoundary||S.route.errorElement||T===0)?E.createElement(Z0,{location:d.location,revalidation:d.revalidation,component:te,error:Q,children:he(),routeContext:{outlet:null,matches:fe,isDataRoute:!0},unstable_onError:u}):he()},null)}function Od(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function I0(r){let o=E.useContext(Mi);return Bt(o,Od(r)),o}function ey(r){let o=E.useContext(Nu);return Bt(o,Od(r)),o}function ty(r){let o=E.useContext(ir);return Bt(o,Od(r)),o}function Rd(r){let o=ty(r),d=o.matches[o.matches.length-1];return Bt(d.route.id,`${r} can only be used on routes that contain a unique "id"`),d.route.id}function ny(){return Rd("useRouteId")}function ay(){let r=E.useContext(Md),o=ey("useRouteError"),d=Rd("useRouteError");return r!==void 0?r:o.errors?.[d]}function ry(){let{router:r}=I0("useNavigate"),o=Rd("useNavigate"),d=E.useRef(!1);return vg(()=>{d.current=!0}),E.useCallback(async(m,p={})=>{Aa(d.current,yg),d.current&&(typeof m=="number"?r.navigate(m):await r.navigate(m,{fromRouteId:o,...p}))},[r,o])}var Xm={};function bg(r,o,d){!o&&!Xm[r]&&(Xm[r]=!0,Aa(!1,d))}E.memo(ly);function ly({routes:r,future:o,state:d,unstable_onError:u}){return xg(r,void 0,d,u,o)}function Ei(r){Bt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function iy({basename:r="/",children:o=null,location:d,navigationType:u="POP",navigator:m,static:p=!1}){Bt(!Is(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let x=r.replace(/^\/*/,"/"),w=E.useMemo(()=>({basename:x,navigator:m,static:p,future:{}}),[x,m,p]);typeof d=="string"&&(d=Di(d));let{pathname:N="/",search:b="",hash:S="",state:T=null,key:Q="default"}=d,I=E.useMemo(()=>{let te=nr(N,x);return te==null?null:{location:{pathname:te,search:b,hash:S,state:T,key:Q},navigationType:u}},[x,N,b,S,T,Q,u]);return Aa(I!=null,`<Router basename="${x}"> is not able to match the URL "${N}${b}${S}" because it does not start with the basename, so the <Router> won't render anything.`),I==null?null:E.createElement(Ca.Provider,{value:w},E.createElement(Ws.Provider,{children:o,value:I}))}function sy({children:r,location:o}){return P0(Ad(r),o)}function Ad(r,o=[]){let d=[];return E.Children.forEach(r,(u,m)=>{if(!E.isValidElement(u))return;let p=[...o,m];if(u.type===E.Fragment){d.push.apply(d,Ad(u.props.children,p));return}Bt(u.type===Ei,`[${typeof u.type=="string"?u.type:u.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Bt(!u.props.index||!u.props.children,"An index route cannot have child routes.");let x={id:u.props.id||p.join("-"),caseSensitive:u.props.caseSensitive,element:u.props.element,Component:u.props.Component,index:u.props.index,path:u.props.path,loader:u.props.loader,action:u.props.action,hydrateFallbackElement:u.props.hydrateFallbackElement,HydrateFallback:u.props.HydrateFallback,errorElement:u.props.errorElement,ErrorBoundary:u.props.ErrorBoundary,hasErrorBoundary:u.props.hasErrorBoundary===!0||u.props.ErrorBoundary!=null||u.props.errorElement!=null,shouldRevalidate:u.props.shouldRevalidate,handle:u.props.handle,lazy:u.props.lazy};u.props.children&&(x.children=Ad(u.props.children,p)),d.push(x)}),d}var xu="get",bu="application/x-www-form-urlencoded";function Eu(r){return r!=null&&typeof r.tagName=="string"}function oy(r){return Eu(r)&&r.tagName.toLowerCase()==="button"}function uy(r){return Eu(r)&&r.tagName.toLowerCase()==="form"}function cy(r){return Eu(r)&&r.tagName.toLowerCase()==="input"}function dy(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function fy(r,o){return r.button===0&&(!o||o==="_self")&&!dy(r)}var mu=null;function hy(){if(mu===null)try{new FormData(document.createElement("form"),0),mu=!1}catch{mu=!0}return mu}var my=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Sd(r){return r!=null&&!my.has(r)?(Aa(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${bu}"`),null):r}function gy(r,o){let d,u,m,p,x;if(uy(r)){let w=r.getAttribute("action");u=w?nr(w,o):null,d=r.getAttribute("method")||xu,m=Sd(r.getAttribute("enctype"))||bu,p=new FormData(r)}else if(oy(r)||cy(r)&&(r.type==="submit"||r.type==="image")){let w=r.form;if(w==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let N=r.getAttribute("formaction")||w.getAttribute("action");if(u=N?nr(N,o):null,d=r.getAttribute("formmethod")||w.getAttribute("method")||xu,m=Sd(r.getAttribute("formenctype"))||Sd(w.getAttribute("enctype"))||bu,p=new FormData(w,r),!hy()){let{name:b,type:S,value:T}=r;if(S==="image"){let Q=b?`${b}.`:"";p.append(`${Q}x`,"0"),p.append(`${Q}y`,"0")}else b&&p.append(b,T)}}else{if(Eu(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');d=xu,u=null,m=bu,x=r}return p&&m==="text/plain"&&(x=p,p=void 0),{action:u,method:d.toLowerCase(),encType:m,formData:p,body:x}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function zd(r,o){if(r===!1||r===null||typeof r>"u")throw new Error(o)}function py(r,o,d){let u=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return u.pathname==="/"?u.pathname=`_root.${d}`:o&&nr(u.pathname,o)==="/"?u.pathname=`${o.replace(/\/$/,"")}/_root.${d}`:u.pathname=`${u.pathname.replace(/\/$/,"")}.${d}`,u}async function yy(r,o){if(r.id in o)return o[r.id];try{let d=await import(r.module);return o[r.id]=d,d}catch(d){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(d),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function vy(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function xy(r,o,d){let u=await Promise.all(r.map(async m=>{let p=o.routes[m.route.id];if(p){let x=await yy(p,d);return x.links?x.links():[]}return[]}));return ky(u.flat(1).filter(vy).filter(m=>m.rel==="stylesheet"||m.rel==="preload").map(m=>m.rel==="stylesheet"?{...m,rel:"prefetch",as:"style"}:{...m,rel:"prefetch"}))}function Qm(r,o,d,u,m,p){let x=(N,b)=>d[b]?N.route.id!==d[b].route.id:!0,w=(N,b)=>d[b].pathname!==N.pathname||d[b].route.path?.endsWith("*")&&d[b].params["*"]!==N.params["*"];return p==="assets"?o.filter((N,b)=>x(N,b)||w(N,b)):p==="data"?o.filter((N,b)=>{let S=u.routes[N.route.id];if(!S||!S.hasLoader)return!1;if(x(N,b)||w(N,b))return!0;if(N.route.shouldRevalidate){let T=N.route.shouldRevalidate({currentUrl:new URL(m.pathname+m.search+m.hash,window.origin),currentParams:d[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:N.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function by(r,o,{includeHydrateFallback:d}={}){return wy(r.map(u=>{let m=o.routes[u.route.id];if(!m)return[];let p=[m.module];return m.clientActionModule&&(p=p.concat(m.clientActionModule)),m.clientLoaderModule&&(p=p.concat(m.clientLoaderModule)),d&&m.hydrateFallbackModule&&(p=p.concat(m.hydrateFallbackModule)),m.imports&&(p=p.concat(m.imports)),p}).flat(1))}function wy(r){return[...new Set(r)]}function Sy(r){let o={},d=Object.keys(r).sort();for(let u of d)o[u]=r[u];return o}function ky(r,o){let d=new Set;return new Set(o),r.reduce((u,m)=>{let p=JSON.stringify(Sy(m));return d.has(p)||(d.add(p),u.push({key:p,link:m})),u},[])}function wg(){let r=E.useContext(Mi);return zd(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function jy(){let r=E.useContext(Nu);return zd(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Bd=E.createContext(void 0);Bd.displayName="FrameworkContext";function Sg(){let r=E.useContext(Bd);return zd(r,"You must render this element inside a <HydratedRouter> element"),r}function Ny(r,o){let d=E.useContext(Bd),[u,m]=E.useState(!1),[p,x]=E.useState(!1),{onFocus:w,onBlur:N,onMouseEnter:b,onMouseLeave:S,onTouchStart:T}=o,Q=E.useRef(null);E.useEffect(()=>{if(r==="render"&&x(!0),r==="viewport"){let ee=he=>{he.forEach(oe=>{x(oe.isIntersecting)})},fe=new IntersectionObserver(ee,{threshold:.5});return Q.current&&fe.observe(Q.current),()=>{fe.disconnect()}}},[r]),E.useEffect(()=>{if(u){let ee=setTimeout(()=>{x(!0)},100);return()=>{clearTimeout(ee)}}},[u]);let I=()=>{m(!0)},te=()=>{m(!1),x(!1)};return d?r!=="intent"?[p,Q,{}]:[p,Q,{onFocus:Ps(w,I),onBlur:Ps(N,te),onMouseEnter:Ps(b,I),onMouseLeave:Ps(S,te),onTouchStart:Ps(T,I)}]:[!1,Q,{}]}function Ps(r,o){return d=>{r&&r(d),d.defaultPrevented||o(d)}}function Ey({page:r,...o}){let{router:d}=wg(),u=E.useMemo(()=>cg(d.routes,r,d.basename),[d.routes,r,d.basename]);return u?E.createElement(Ay,{page:r,matches:u,...o}):null}function Ty(r){let{manifest:o,routeModules:d}=Sg(),[u,m]=E.useState([]);return E.useEffect(()=>{let p=!1;return xy(r,o,d).then(x=>{p||m(x)}),()=>{p=!0}},[r,o,d]),u}function Ay({page:r,matches:o,...d}){let u=el(),{manifest:m,routeModules:p}=Sg(),{basename:x}=wg(),{loaderData:w,matches:N}=jy(),b=E.useMemo(()=>Qm(r,o,N,m,u,"data"),[r,o,N,m,u]),S=E.useMemo(()=>Qm(r,o,N,m,u,"assets"),[r,o,N,m,u]),T=E.useMemo(()=>{if(r===u.pathname+u.search+u.hash)return[];let te=new Set,ee=!1;if(o.forEach(he=>{let oe=m.routes[he.route.id];!oe||!oe.hasLoader||(!b.some(U=>U.route.id===he.route.id)&&he.route.id in w&&p[he.route.id]?.shouldRevalidate||oe.hasClientLoader?ee=!0:te.add(he.route.id))}),te.size===0)return[];let fe=py(r,x,"data");return ee&&te.size>0&&fe.searchParams.set("_routes",o.filter(he=>te.has(he.route.id)).map(he=>he.route.id).join(",")),[fe.pathname+fe.search]},[x,w,u,m,b,o,r,p]),Q=E.useMemo(()=>by(S,m),[S,m]),I=Ty(S);return E.createElement(E.Fragment,null,T.map(te=>E.createElement("link",{key:te,rel:"prefetch",as:"fetch",href:te,...d})),Q.map(te=>E.createElement("link",{key:te,rel:"modulepreload",href:te,...d})),I.map(({key:te,link:ee})=>E.createElement("link",{key:te,nonce:d.nonce,...ee})))}function Cy(...r){return o=>{r.forEach(d=>{typeof d=="function"?d(o):d!=null&&(d.current=o)})}}var kg=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{kg&&(window.__reactRouterVersion="7.9.1")}catch{}function _y({basename:r,children:o,window:d}){let u=E.useRef();u.current==null&&(u.current=y0({window:d,v5Compat:!0}));let m=u.current,[p,x]=E.useState({action:m.action,location:m.location}),w=E.useCallback(N=>{E.startTransition(()=>x(N))},[x]);return E.useLayoutEffect(()=>m.listen(w),[m,w]),E.createElement(iy,{basename:r,children:o,location:p.location,navigationType:p.action,navigator:m})}var jg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ku=E.forwardRef(function({onClick:o,discover:d="render",prefetch:u="none",relative:m,reloadDocument:p,replace:x,state:w,target:N,to:b,preventScrollReset:S,viewTransition:T,...Q},I){let{basename:te}=E.useContext(Ca),ee=typeof b=="string"&&jg.test(b),fe,he=!1;if(typeof b=="string"&&ee&&(fe=b,kg))try{let Le=new URL(window.location.href),me=b.startsWith("//")?new URL(Le.protocol+b):new URL(b),Ae=nr(me.pathname,te);me.origin===Le.origin&&Ae!=null?b=Ae+me.search+me.hash:he=!0}catch{Aa(!1,`<Link to="${b}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let oe=$0(b,{relative:m}),[U,Y,le]=Ny(u,Q),ue=Ry(b,{replace:x,state:w,target:N,preventScrollReset:S,relative:m,viewTransition:T});function pe(Le){o&&o(Le),Le.defaultPrevented||ue(Le)}let _e=E.createElement("a",{...Q,...le,href:fe||oe,onClick:he||p?o:pe,ref:Cy(I,Y),target:N,"data-discover":!ee&&d==="render"?"true":void 0});return U&&!ee?E.createElement(E.Fragment,null,_e,E.createElement(Ey,{page:oe})):_e});ku.displayName="Link";var Dy=E.forwardRef(function({"aria-current":o="page",caseSensitive:d=!1,className:u="",end:m=!1,style:p,to:x,viewTransition:w,children:N,...b},S){let T=eo(x,{relative:b.relative}),Q=el(),I=E.useContext(Nu),{navigator:te,basename:ee}=E.useContext(Ca),fe=I!=null&&Ly(T)&&w===!0,he=te.encodeLocation?te.encodeLocation(T).pathname:T.pathname,oe=Q.pathname,U=I&&I.navigation&&I.navigation.location?I.navigation.location.pathname:null;d||(oe=oe.toLowerCase(),U=U?U.toLowerCase():null,he=he.toLowerCase()),U&&ee&&(U=nr(U,ee)||U);const Y=he!=="/"&&he.endsWith("/")?he.length-1:he.length;let le=oe===he||!m&&oe.startsWith(he)&&oe.charAt(Y)==="/",ue=U!=null&&(U===he||!m&&U.startsWith(he)&&U.charAt(he.length)==="/"),pe={isActive:le,isPending:ue,isTransitioning:fe},_e=le?o:void 0,Le;typeof u=="function"?Le=u(pe):Le=[u,le?"active":null,ue?"pending":null,fe?"transitioning":null].filter(Boolean).join(" ");let me=typeof p=="function"?p(pe):p;return E.createElement(ku,{...b,"aria-current":_e,className:Le,ref:S,style:me,to:x,viewTransition:w},typeof N=="function"?N(pe):N)});Dy.displayName="NavLink";var My=E.forwardRef(({discover:r="render",fetcherKey:o,navigate:d,reloadDocument:u,replace:m,state:p,method:x=xu,action:w,onSubmit:N,relative:b,preventScrollReset:S,viewTransition:T,...Q},I)=>{let te=Uy(),ee=qy(w,{relative:b}),fe=x.toLowerCase()==="get"?"get":"post",he=typeof w=="string"&&jg.test(w),oe=U=>{if(N&&N(U),U.defaultPrevented)return;U.preventDefault();let Y=U.nativeEvent.submitter,le=Y?.getAttribute("formmethod")||x;te(Y||U.currentTarget,{fetcherKey:o,method:le,navigate:d,replace:m,state:p,relative:b,preventScrollReset:S,viewTransition:T})};return E.createElement("form",{ref:I,method:fe,action:ee,onSubmit:u?N:oe,...Q,"data-discover":!he&&r==="render"?"true":void 0})});My.displayName="Form";function Oy(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Ng(r){let o=E.useContext(Mi);return Bt(o,Oy(r)),o}function Ry(r,{target:o,replace:d,state:u,preventScrollReset:m,relative:p,viewTransition:x}={}){let w=X0(),N=el(),b=eo(r,{relative:p});return E.useCallback(S=>{if(fy(S,o)){S.preventDefault();let T=d!==void 0?d:Js(N)===Js(b);w(r,{replace:T,state:u,preventScrollReset:m,relative:p,viewTransition:x})}},[N,w,b,d,u,o,r,m,p,x])}var zy=0,By=()=>`__${String(++zy)}__`;function Uy(){let{router:r}=Ng("useSubmit"),{basename:o}=E.useContext(Ca),d=ny();return E.useCallback(async(u,m={})=>{let{action:p,method:x,encType:w,formData:N,body:b}=gy(u,o);if(m.navigate===!1){let S=m.fetcherKey||By();await r.fetch(S,d,m.action||p,{preventScrollReset:m.preventScrollReset,formData:N,body:b,formMethod:m.method||x,formEncType:m.encType||w,flushSync:m.flushSync})}else await r.navigate(m.action||p,{preventScrollReset:m.preventScrollReset,formData:N,body:b,formMethod:m.method||x,formEncType:m.encType||w,replace:m.replace,state:m.state,fromRouteId:d,flushSync:m.flushSync,viewTransition:m.viewTransition})},[r,o,d])}function qy(r,{relative:o}={}){let{basename:d}=E.useContext(Ca),u=E.useContext(ir);Bt(u,"useFormAction must be used inside a RouteContext");let[m]=u.matches.slice(-1),p={...eo(r||".",{relative:o})},x=el();if(r==null){p.search=x.search;let w=new URLSearchParams(p.search),N=w.getAll("index");if(N.some(S=>S==="")){w.delete("index"),N.filter(T=>T).forEach(T=>w.append("index",T));let S=w.toString();p.search=S?`?${S}`:""}}return(!r||r===".")&&m.route.index&&(p.search=p.search?p.search.replace(/^\?/,"?index&"):"?index"),d!=="/"&&(p.pathname=p.pathname==="/"?d:tr([d,p.pathname])),Js(p)}function Ly(r,{relative:o}={}){let d=E.useContext(pg);Bt(d!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:u}=Ng("useViewTransitionState"),m=eo(r,{relative:o});if(!d.isTransitioning)return!1;let p=nr(d.currentLocation.pathname,u)||d.currentLocation.pathname,x=nr(d.nextLocation.pathname,u)||d.nextLocation.pathname;return Su(m.pathname,x)!=null||Su(m.pathname,p)!=null}var Eg=ug();const Hy=()=>{const[r,o]=E.useState(!1),[d,u]=E.useState(!1),m=el();E.useEffect(()=>{const w=localStorage.getItem("rtp-theme"),N=window.matchMedia("(prefers-color-scheme: dark)").matches;w==="dark"||!w&&N?(o(!0),document.documentElement.classList.add("dark")):(o(!1),document.documentElement.classList.remove("dark"))},[]);const p=()=>{const w=!r;console.log(" Toggling theme. Current:",r,"-> New:",w),o(w),w?(document.documentElement.classList.add("dark"),localStorage.setItem("rtp-theme","dark"),console.log(" Applied dark theme, classes:",document.documentElement.classList.toString())):(document.documentElement.classList.remove("dark"),localStorage.setItem("rtp-theme","light"),console.log(" Applied light theme, classes:",document.documentElement.classList.toString())),document.body.style.display="none",document.body.offsetHeight,document.body.style.display=""},x=[{path:"/",label:"Timer",icon:"timer"},{path:"/timeline",label:"Timeline",icon:"timeline"},{path:"/analytics",label:"Analytics",icon:"analytics"},{path:"/report",label:"Reports",icon:"assessment"},{path:"/settings",label:"Settings",icon:"settings"}];return s.jsxs(s.Fragment,{children:[s.jsxs("header",{className:"flex justify-between items-center mb-10 px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"flex items-center space-x-8",children:[s.jsx("h1",{className:"text-xl font-display font-semibold text-gray-800 dark:text-gray-200",children:"Research Timer Pro"}),s.jsx("nav",{className:"hidden md:flex space-x-6",children:x.map(w=>s.jsxs(ku,{to:w.path,className:`flex items-center space-x-2 px-3 py-2 rounded-lg text-sm font-medium transition-colors ${m.pathname===w.path?"bg-blue-600 text-white":"text-gray-600 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-700"}`,children:[s.jsx("span",{className:"material-icons text-sm",children:w.icon}),s.jsx("span",{children:w.label})]},w.path))})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{className:"p-2 rounded-full text-gray-600 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",onClick:p,"aria-label":"Toggle theme",children:s.jsx("span",{className:"material-icons",children:r?"light_mode":"dark_mode"})}),s.jsx("button",{className:"md:hidden p-2 rounded-full text-gray-600 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",onClick:()=>u(!d),"aria-label":"Toggle mobile menu",children:s.jsx("span",{className:"material-icons",children:d?"close":"menu"})})]})]}),d&&s.jsx("div",{className:"md:hidden fixed top-0 left-0 right-0 z-50 bg-white dark:bg-gray-900 shadow-lg",children:s.jsxs("div",{className:"px-4 py-6",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h2",{className:"text-lg font-display font-semibold text-gray-800 dark:text-gray-200",children:"Navigation"}),s.jsx("button",{className:"p-2 rounded-full text-gray-600 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-700",onClick:()=>u(!1),children:s.jsx("span",{className:"material-icons",children:"close"})})]}),s.jsx("nav",{className:"space-y-2",children:x.map(w=>s.jsxs(ku,{to:w.path,onClick:()=>u(!1),className:`flex items-center space-x-3 px-4 py-3 rounded-lg text-base font-medium transition-colors ${m.pathname===w.path?"bg-blue-600 text-white":"text-gray-600 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-700"}`,children:[s.jsx("span",{className:"material-icons",children:w.icon}),s.jsx("span",{children:w.label})]},w.path))})]})})]})},Yy=()=>null,Ky=({children:r})=>s.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsx(Hy,{}),s.jsx("main",{className:"max-w-4xl mx-auto",children:r}),s.jsx(Yy,{})]}),We=da.forwardRef(({className:r="",variant:o="primary",size:d="md",leftIcon:u,rightIcon:m,children:p,...x},w)=>{const N="inline-flex items-center justify-center rounded-xl font-semibold transition-all duration-200 transform focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none hover:scale-105 active:scale-95",b={sm:"px-4 py-2 text-sm h-9",md:"px-6 py-3 text-sm h-11",lg:"px-8 py-4 text-base h-14 text-lg font-bold"},S={primary:"bg-blue-600 text-white hover:bg-blue-700 focus:ring-2 focus:ring-blue-500/20 shadow-sm hover:shadow-md",secondary:"bg-gray-100 text-gray-800 border border-gray-300 hover:bg-gray-200 dark:bg-gray-800 dark:text-gray-200 dark:border-gray-600 dark:hover:bg-gray-700 focus:ring-2 focus:ring-blue-500/20 shadow-sm hover:shadow-md",ghost:"text-gray-800 hover:bg-gray-100 dark:text-gray-200 dark:hover:bg-gray-800 focus:ring-2 focus:ring-blue-500/20",danger:"bg-red-600 text-white hover:bg-red-700 focus:ring-2 focus:ring-red-500/20 shadow-sm hover:shadow-md",success:"bg-green-600 text-white hover:bg-green-700 focus:ring-2 focus:ring-green-500/20 shadow-sm hover:shadow-md"},T=[N,b[d],S[o],r].filter(Boolean).join(" ");return s.jsxs("button",{ref:w,className:T,...x,children:[u&&s.jsx("span",{className:"material-icons mr-2",children:u}),p,m&&s.jsx("span",{className:"material-icons ml-2",children:m})]})});We.displayName="Button";const lt=({label:r,htmlFor:o,hint:d,children:u,className:m=""})=>s.jsxs("div",{className:`space-y-2 ${m}`,children:[s.jsx("label",{htmlFor:o,className:"block text-sm font-semibold text-gray-800 dark:text-gray-200",children:r}),u,d&&s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 font-medium",children:d})]});var wu={exports:{}},Gy=wu.exports,Pm;function $y(){return Pm||(Pm=1,(function(r,o){(function(d,u){r.exports=u()})(Gy,function(){var d=function(l,c){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,g){h.__proto__=g}||function(h,g){for(var y in g)Object.prototype.hasOwnProperty.call(g,y)&&(h[y]=g[y])})(l,c)},u=function(){return(u=Object.assign||function(l){for(var c,h=1,g=arguments.length;h<g;h++)for(var y in c=arguments[h])Object.prototype.hasOwnProperty.call(c,y)&&(l[y]=c[y]);return l}).apply(this,arguments)};function m(l,c,h){for(var g,y=0,k=c.length;y<k;y++)!g&&y in c||((g=g||Array.prototype.slice.call(c,0,y))[y]=c[y]);return l.concat(g||Array.prototype.slice.call(c))}var p=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:s0,x=Object.keys,w=Array.isArray;function N(l,c){return typeof c!="object"||x(c).forEach(function(h){l[h]=c[h]}),l}typeof Promise>"u"||p.Promise||(p.Promise=Promise);var b=Object.getPrototypeOf,S={}.hasOwnProperty;function T(l,c){return S.call(l,c)}function Q(l,c){typeof c=="function"&&(c=c(b(l))),(typeof Reflect>"u"?x:Reflect.ownKeys)(c).forEach(function(h){te(l,h,c[h])})}var I=Object.defineProperty;function te(l,c,h,g){I(l,c,N(h&&T(h,"get")&&typeof h.get=="function"?{get:h.get,set:h.set,configurable:!0}:{value:h,configurable:!0,writable:!0},g))}function ee(l){return{from:function(c){return l.prototype=Object.create(c.prototype),te(l.prototype,"constructor",l),{extend:Q.bind(null,l.prototype)}}}}var fe=Object.getOwnPropertyDescriptor,he=[].slice;function oe(l,c,h){return he.call(l,c,h)}function U(l,c){return c(l)}function Y(l){if(!l)throw new Error("Assertion Failed")}function le(l){p.setImmediate?setImmediate(l):setTimeout(l,0)}function ue(l,c){if(typeof c=="string"&&T(l,c))return l[c];if(!c)return l;if(typeof c!="string"){for(var h=[],g=0,y=c.length;g<y;++g){var k=ue(l,c[g]);h.push(k)}return h}var A=c.indexOf(".");if(A!==-1){var _=l[c.substr(0,A)];return _==null?void 0:ue(_,c.substr(A+1))}}function pe(l,c,h){if(l&&c!==void 0&&!("isFrozen"in Object&&Object.isFrozen(l)))if(typeof c!="string"&&"length"in c){Y(typeof h!="string"&&"length"in h);for(var g=0,y=c.length;g<y;++g)pe(l,c[g],h[g])}else{var k,A,_=c.indexOf(".");_!==-1?(k=c.substr(0,_),(A=c.substr(_+1))===""?h===void 0?w(l)&&!isNaN(parseInt(k))?l.splice(k,1):delete l[k]:l[k]=h:pe(_=!(_=l[k])||!T(l,k)?l[k]={}:_,A,h)):h===void 0?w(l)&&!isNaN(parseInt(c))?l.splice(c,1):delete l[c]:l[c]=h}}function _e(l){var c,h={};for(c in l)T(l,c)&&(h[c]=l[c]);return h}var Le=[].concat;function me(l){return Le.apply([],l)}var cn="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(me([8,16,32,64].map(function(l){return["Int","Uint","Float"].map(function(c){return c+l+"Array"})}))).filter(function(l){return p[l]}),Ae=new Set(cn.map(function(l){return p[l]})),Ce=null;function de(l){return Ce=new WeakMap,l=(function c(h){if(!h||typeof h!="object")return h;var g=Ce.get(h);if(g)return g;if(w(h)){g=[],Ce.set(h,g);for(var y=0,k=h.length;y<k;++y)g.push(c(h[y]))}else if(Ae.has(h.constructor))g=h;else{var A,_=b(h);for(A in g=_===Object.prototype?{}:Object.create(_),Ce.set(h,g),h)T(h,A)&&(g[A]=c(h[A]))}return g})(l),Ce=null,l}var dt={}.toString;function Ve(l){return dt.call(l).slice(8,-1)}var F=typeof Symbol<"u"?Symbol.iterator:"@@iterator",xe=typeof F=="symbol"?function(l){var c;return l!=null&&(c=l[F])&&c.apply(l)}:function(){return null};function Me(l,c){return c=l.indexOf(c),0<=c&&l.splice(c,1),0<=c}var Pe={};function C(l){var c,h,g,y;if(arguments.length===1){if(w(l))return l.slice();if(this===Pe&&typeof l=="string")return[l];if(y=xe(l)){for(h=[];!(g=y.next()).done;)h.push(g.value);return h}if(l==null)return[l];if(typeof(c=l.length)!="number")return[l];for(h=new Array(c);c--;)h[c]=l[c];return h}for(c=arguments.length,h=new Array(c);c--;)h[c]=arguments[c];return h}var ne=typeof Symbol<"u"?function(l){return l[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},aa=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Sn=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(aa),ge={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function ye(l,c){this.name=l,this.message=c}function De(l,c){return l+". Errors: "+Object.keys(c).map(function(h){return c[h].toString()}).filter(function(h,g,y){return y.indexOf(h)===g}).join(`
`)}function Ye(l,c,h,g){this.failures=c,this.failedKeys=g,this.successCount=h,this.message=De(l,c)}function Ue(l,c){this.name="BulkError",this.failures=Object.keys(c).map(function(h){return c[h]}),this.failuresByPos=c,this.message=De(l,this.failures)}ee(ye).from(Error).extend({toString:function(){return this.name+": "+this.message}}),ee(Ye).from(ye),ee(Ue).from(ye);var Zt=Sn.reduce(function(l,c){return l[c]=c+"Error",l},{}),vt=ye,Oe=Sn.reduce(function(l,c){var h=c+"Error";function g(y,k){this.name=h,y?typeof y=="string"?(this.message="".concat(y).concat(k?`
 `+k:""),this.inner=k||null):typeof y=="object"&&(this.message="".concat(y.name," ").concat(y.message),this.inner=y):(this.message=ge[c]||h,this.inner=null)}return ee(g).from(vt),l[c]=g,l},{});Oe.Syntax=SyntaxError,Oe.Type=TypeError,Oe.Range=RangeError;var fa=aa.reduce(function(l,c){return l[c+"Error"]=Oe[c],l},{}),Gn=Sn.reduce(function(l,c){return["Syntax","Type","Range"].indexOf(c)===-1&&(l[c+"Error"]=Oe[c]),l},{});function st(){}function ta(l){return l}function _a(l,c){return l==null||l===ta?c:function(h){return c(l(h))}}function na(l,c){return function(){l.apply(this,arguments),c.apply(this,arguments)}}function be(l,c){return l===st?c:function(){var h=l.apply(this,arguments);h!==void 0&&(arguments[0]=h);var g=this.onsuccess,y=this.onerror;this.onsuccess=null,this.onerror=null;var k=c.apply(this,arguments);return g&&(this.onsuccess=this.onsuccess?na(g,this.onsuccess):g),y&&(this.onerror=this.onerror?na(y,this.onerror):y),k!==void 0?k:h}}function Fe(l,c){return l===st?c:function(){l.apply(this,arguments);var h=this.onsuccess,g=this.onerror;this.onsuccess=this.onerror=null,c.apply(this,arguments),h&&(this.onsuccess=this.onsuccess?na(h,this.onsuccess):h),g&&(this.onerror=this.onerror?na(g,this.onerror):g)}}function pn(l,c){return l===st?c:function(h){var g=l.apply(this,arguments);N(h,g);var y=this.onsuccess,k=this.onerror;return this.onsuccess=null,this.onerror=null,h=c.apply(this,arguments),y&&(this.onsuccess=this.onsuccess?na(y,this.onsuccess):y),k&&(this.onerror=this.onerror?na(k,this.onerror):k),g===void 0?h===void 0?void 0:h:N(g,h)}}function ha(l,c){return l===st?c:function(){return c.apply(this,arguments)!==!1&&l.apply(this,arguments)}}function Nt(l,c){return l===st?c:function(){var h=l.apply(this,arguments);if(h&&typeof h.then=="function"){for(var g=this,y=arguments.length,k=new Array(y);y--;)k[y]=arguments[y];return h.then(function(){return c.apply(g,k)})}return c.apply(this,arguments)}}Gn.ModifyError=Ye,Gn.DexieError=ye,Gn.BulkError=Ue;var Dt=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function yn(l){Dt=l}var Nn={},tl=100,cn=typeof Promise>"u"?[]:(function(){var l=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[l,b(l),l];var c=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[c,b(c),l]})(),aa=cn[0],Sn=cn[1],cn=cn[2],Sn=Sn&&Sn.then,Tt=aa&&aa.constructor,vn=!!cn,Mt=function(l,c){ra.push([l,c]),ma&&(queueMicrotask(qi),ma=!1)},sr=!0,ma=!0,$n=[],Dn=[],or=ta,dn={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:st,pgp:!1,env:{},finalize:st},ze=dn,ra=[],Da=0,nl=[];function Te(l){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var c=this._PSD=ze;if(typeof l!="function"){if(l!==Nn)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&zi(this,this._value))}this._state=null,this._value=null,++c.ref,(function h(g,y){try{y(function(k){if(g._state===null){if(k===g)throw new TypeError("A promise cannot be resolved with itself.");var A=g._lib&&Ma();k&&typeof k.then=="function"?h(g,function(_,O){k instanceof Te?k._then(_,O):k.then(_,O)}):(g._state=!0,g._value=k,Bi(g)),A&&cr()}},zi.bind(null,g))}catch(k){zi(g,k)}})(this,l)}var al={get:function(){var l=ze,c=rl;function h(g,y){var k=this,A=!l.global&&(l!==ze||c!==rl),_=A&&!xn(),O=new Te(function(B,H){Bl(k,new ur(ya(g,l,A,_),ya(y,l,A,_),B,H,l))});return this._consoleTask&&(O._consoleTask=this._consoleTask),O}return h.prototype=Nn,h},set:function(l){te(this,"then",l&&l.prototype===Nn?al:{get:function(){return l},set:al.set})}};function ur(l,c,h,g,y){this.onFulfilled=typeof l=="function"?l:null,this.onRejected=typeof c=="function"?c:null,this.resolve=h,this.reject=g,this.psd=y}function zi(l,c){var h,g;Dn.push(c),l._state===null&&(h=l._lib&&Ma(),c=or(c),l._state=!1,l._value=c,g=l,$n.some(function(y){return y._value===g._value})||$n.push(g),Bi(l),h&&cr())}function Bi(l){var c=l._listeners;l._listeners=[];for(var h=0,g=c.length;h<g;++h)Bl(l,c[h]);var y=l._PSD;--y.ref||y.finalize(),Da===0&&(++Da,Mt(function(){--Da==0&&Xn()},[]))}function Bl(l,c){if(l._state!==null){var h=l._state?c.onFulfilled:c.onRejected;if(h===null)return(l._state?c.resolve:c.reject)(l._value);++c.psd.ref,++Da,Mt(Ui,[h,l,c])}else l._listeners.push(c)}function Ui(l,c,h){try{var g,y=c._value;!c._state&&Dn.length&&(Dn=[]),g=Dt&&c._consoleTask?c._consoleTask.run(function(){return l(y)}):l(y),c._state||Dn.indexOf(y)!==-1||(function(k){for(var A=$n.length;A;)if($n[--A]._value===k._value)return $n.splice(A,1)})(c),h.resolve(g)}catch(k){h.reject(k)}finally{--Da==0&&Xn(),--h.psd.ref||h.psd.finalize()}}function qi(){pa(dn,function(){Ma()&&cr()})}function Ma(){var l=sr;return ma=sr=!1,l}function cr(){var l,c,h;do for(;0<ra.length;)for(l=ra,ra=[],h=l.length,c=0;c<h;++c){var g=l[c];g[0].apply(null,g[1])}while(0<ra.length);ma=sr=!0}function Xn(){var l=$n;$n=[],l.forEach(function(g){g._PSD.onunhandled.call(null,g._value,g)});for(var c=nl.slice(0),h=c.length;h;)c[--h]()}function Ht(l){return new Te(Nn,!1,l)}function Ie(l,c){var h=ze;return function(){var g=Ma(),y=ze;try{return St(h,!0),l.apply(this,arguments)}catch(k){c&&c(k)}finally{St(y,!1),g&&cr()}}}Q(Te.prototype,{then:al,_then:function(l,c){Bl(this,new ur(null,null,l,c,ze))},catch:function(l){if(arguments.length===1)return this.then(null,l);var c=l,h=arguments[1];return typeof c=="function"?this.then(null,function(g){return(g instanceof c?h:Ht)(g)}):this.then(null,function(g){return(g&&g.name===c?h:Ht)(g)})},finally:function(l){return this.then(function(c){return Te.resolve(l()).then(function(){return c})},function(c){return Te.resolve(l()).then(function(){return Ht(c)})})},timeout:function(l,c){var h=this;return l<1/0?new Te(function(g,y){var k=setTimeout(function(){return y(new Oe.Timeout(c))},l);h.then(g,y).finally(clearTimeout.bind(null,k))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&te(Te.prototype,Symbol.toStringTag,"Dexie.Promise"),dn.env=Hi(),Q(Te,{all:function(){var l=C.apply(null,arguments).map(ga);return new Te(function(c,h){l.length===0&&c([]);var g=l.length;l.forEach(function(y,k){return Te.resolve(y).then(function(A){l[k]=A,--g||c(l)},h)})})},resolve:function(l){return l instanceof Te?l:l&&typeof l.then=="function"?new Te(function(c,h){l.then(c,h)}):new Te(Nn,!0,l)},reject:Ht,race:function(){var l=C.apply(null,arguments).map(ga);return new Te(function(c,h){l.map(function(g){return Te.resolve(g).then(c,h)})})},PSD:{get:function(){return ze},set:function(l){return ze=l}},totalEchoes:{get:function(){return rl}},newPSD:Qn,usePSD:pa,scheduler:{get:function(){return Mt},set:function(l){Mt=l}},rejectionMapper:{get:function(){return or},set:function(l){or=l}},follow:function(l,c){return new Te(function(h,g){return Qn(function(y,k){var A=ze;A.unhandleds=[],A.onunhandled=k,A.finalize=na(function(){var _,O=this;_=function(){O.unhandleds.length===0?y():k(O.unhandleds[0])},nl.push(function B(){_(),nl.splice(nl.indexOf(B),1)}),++Da,Mt(function(){--Da==0&&Xn()},[])},A.finalize),l()},c,h,g)})}}),Tt&&(Tt.allSettled&&te(Te,"allSettled",function(){var l=C.apply(null,arguments).map(ga);return new Te(function(c){l.length===0&&c([]);var h=l.length,g=new Array(h);l.forEach(function(y,k){return Te.resolve(y).then(function(A){return g[k]={status:"fulfilled",value:A}},function(A){return g[k]={status:"rejected",reason:A}}).then(function(){return--h||c(g)})})})}),Tt.any&&typeof AggregateError<"u"&&te(Te,"any",function(){var l=C.apply(null,arguments).map(ga);return new Te(function(c,h){l.length===0&&h(new AggregateError([]));var g=l.length,y=new Array(g);l.forEach(function(k,A){return Te.resolve(k).then(function(_){return c(_)},function(_){y[A]=_,--g||h(new AggregateError(y))})})})}),Tt.withResolvers&&(Te.withResolvers=Tt.withResolvers));var At={awaits:0,echoes:0,id:0},Li=0,Ul=[],ql=0,rl=0,ll=0;function Qn(l,c,h,g){var y=ze,k=Object.create(y);return k.parent=y,k.ref=0,k.global=!1,k.id=++ll,dn.env,k.env=vn?{Promise:Te,PromiseProp:{value:Te,configurable:!0,writable:!0},all:Te.all,race:Te.race,allSettled:Te.allSettled,any:Te.any,resolve:Te.resolve,reject:Te.reject}:{},c&&N(k,c),++y.ref,k.finalize=function(){--this.parent.ref||this.parent.finalize()},g=pa(k,l,h,g),k.ref===0&&k.finalize(),g}function Mn(){return At.id||(At.id=++Li),++At.awaits,At.echoes+=tl,At.id}function xn(){return!!At.awaits&&(--At.awaits==0&&(At.id=0),At.echoes=At.awaits*tl,!0)}function ga(l){return At.echoes&&l&&l.constructor===Tt?(Mn(),l.then(function(c){return xn(),c},function(c){return xn(),Ot(c)})):l}function dr(){var l=Ul[Ul.length-1];Ul.pop(),St(l,!1)}function St(l,c){var h,g=ze;(c?!At.echoes||ql++&&l===ze:!ql||--ql&&l===ze)||queueMicrotask(c?(function(y){++rl,At.echoes&&--At.echoes!=0||(At.echoes=At.awaits=At.id=0),Ul.push(ze),St(y,!0)}).bind(null,l):dr),l!==ze&&(ze=l,g===dn&&(dn.env=Hi()),vn&&(h=dn.env.Promise,c=l.env,(g.global||l.global)&&(Object.defineProperty(p,"Promise",c.PromiseProp),h.all=c.all,h.race=c.race,h.resolve=c.resolve,h.reject=c.reject,c.allSettled&&(h.allSettled=c.allSettled),c.any&&(h.any=c.any))))}function Hi(){var l=p.Promise;return vn?{Promise:l,PromiseProp:Object.getOwnPropertyDescriptor(p,"Promise"),all:l.all,race:l.race,allSettled:l.allSettled,any:l.any,resolve:l.resolve,reject:l.reject}:{}}function pa(l,c,h,g,y){var k=ze;try{return St(l,!0),c(h,g,y)}finally{St(k,!1)}}function ya(l,c,h,g){return typeof l!="function"?l:function(){var y=ze;h&&Mn(),St(c,!0);try{return l.apply(this,arguments)}finally{St(y,!1),g&&queueMicrotask(xn)}}}function va(l){Promise===Tt&&At.echoes===0?ql===0?l():enqueueNativeMicroTask(l):setTimeout(l,0)}(""+Sn).indexOf("[native code]")===-1&&(Mn=xn=st);var Ot=Te.reject,xa="",Pn="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",no="String expected.",la=[],Oa="__dbnames",On="readonly",il="readwrite";function ba(l,c){return l?c?function(){return l.apply(this,arguments)&&c.apply(this,arguments)}:l:c}var Ra={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function fr(l){return typeof l!="string"||/\./.test(l)?function(c){return c}:function(c){return c[l]===void 0&&l in c&&delete(c=de(c))[l],c}}function Ll(){throw Oe.Type("Entity instances must never be new:ed. Instances are generated by the framework bypassing the constructor.")}function nt(l,c){try{var h=Yi(l),g=Yi(c);if(h!==g)return h==="Array"?1:g==="Array"?-1:h==="binary"?1:g==="binary"?-1:h==="string"?1:g==="string"?-1:h==="Date"?1:g!=="Date"?NaN:-1;switch(h){case"number":case"Date":case"string":return c<l?1:l<c?-1:0;case"binary":return(function(y,k){for(var A=y.length,_=k.length,O=A<_?A:_,B=0;B<O;++B)if(y[B]!==k[B])return y[B]<k[B]?-1:1;return A===_?0:A<_?-1:1})(bn(l),bn(c));case"Array":return(function(y,k){for(var A=y.length,_=k.length,O=A<_?A:_,B=0;B<O;++B){var H=nt(y[B],k[B]);if(H!==0)return H}return A===_?0:A<_?-1:1})(l,c)}}catch{}return NaN}function Yi(l){var c=typeof l;return c!="object"?c:ArrayBuffer.isView(l)?"binary":(l=Ve(l),l==="ArrayBuffer"?"binary":l)}function bn(l){return l instanceof Uint8Array?l:ArrayBuffer.isView(l)?new Uint8Array(l.buffer,l.byteOffset,l.byteLength):new Uint8Array(l)}function sl(l,c,h){var g=l.schema.yProps;return g?(c&&0<h.numFailures&&(c=c.filter(function(y,k){return!h.failures[k]})),Promise.all(g.map(function(y){return y=y.updatesTable,c?l.db.table(y).where("k").anyOf(c).delete():l.db.table(y).clear()})).then(function(){return h})):h}var ao=(ft.prototype._trans=function(l,c,h){var g=this._tx||ze.trans,y=this.name,k=Dt&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(l==="readonly"?"read":"write"," ").concat(this.name));function A(B,H,D){if(!D.schema[y])throw new Oe.NotFound("Table "+y+" not part of transaction");return c(D.idbtrans,D)}var _=Ma();try{var O=g&&g.db._novip===this.db._novip?g===ze.trans?g._promise(l,A,h):Qn(function(){return g._promise(l,A,h)},{trans:g,transless:ze.transless||ze}):(function B(H,D,K,R){if(H.idbdb&&(H._state.openComplete||ze.letThrough||H._vip)){var q=H._createTransaction(D,K,H._dbSchema);try{q.create(),H._state.PR1398_maxLoop=3}catch(L){return L.name===Zt.InvalidState&&H.isOpen()&&0<--H._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),H.close({disableAutoOpen:!1}),H.open().then(function(){return B(H,D,K,R)})):Ot(L)}return q._promise(D,function(L,G){return Qn(function(){return ze.trans=q,R(L,G,q)})}).then(function(L){if(D==="readwrite")try{q.idbtrans.commit()}catch{}return D==="readonly"?L:q._completion.then(function(){return L})})}if(H._state.openComplete)return Ot(new Oe.DatabaseClosed(H._state.dbOpenError));if(!H._state.isBeingOpened){if(!H._state.autoOpen)return Ot(new Oe.DatabaseClosed);H.open().catch(st)}return H._state.dbReadyPromise.then(function(){return B(H,D,K,R)})})(this.db,l,[this.name],A);return k&&(O._consoleTask=k,O=O.catch(function(B){return console.trace(B),Ot(B)})),O}finally{_&&cr()}},ft.prototype.get=function(l,c){var h=this;return l&&l.constructor===Object?this.where(l).first(c):l==null?Ot(new Oe.Type("Invalid argument to Table.get()")):this._trans("readonly",function(g){return h.core.get({trans:g,key:l}).then(function(y){return h.hook.reading.fire(y)})}).then(c)},ft.prototype.where=function(l){if(typeof l=="string")return new this.db.WhereClause(this,l);if(w(l))return new this.db.WhereClause(this,"[".concat(l.join("+"),"]"));var c=x(l);if(c.length===1)return this.where(c[0]).equals(l[c[0]]);var h=this.schema.indexes.concat(this.schema.primKey).filter(function(_){if(_.compound&&c.every(function(B){return 0<=_.keyPath.indexOf(B)})){for(var O=0;O<c.length;++O)if(c.indexOf(_.keyPath[O])===-1)return!1;return!0}return!1}).sort(function(_,O){return _.keyPath.length-O.keyPath.length})[0];if(h&&this.db._maxKey!==xa){var k=h.keyPath.slice(0,c.length);return this.where(k).equals(k.map(function(O){return l[O]}))}!h&&Dt&&console.warn("The query ".concat(JSON.stringify(l)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(c.join("+"),"]"));var g=this.schema.idxByName;function y(_,O){return nt(_,O)===0}var A=c.reduce(function(D,O){var B=D[0],H=D[1],D=g[O],K=l[O];return[B||D,B||!D?ba(H,D&&D.multi?function(R){return R=ue(R,O),w(R)&&R.some(function(q){return y(K,q)})}:function(R){return y(K,ue(R,O))}):H]},[null,null]),k=A[0],A=A[1];return k?this.where(k.name).equals(l[k.keyPath]).filter(A):h?this.filter(A):this.where(c).equals("")},ft.prototype.filter=function(l){return this.toCollection().and(l)},ft.prototype.count=function(l){return this.toCollection().count(l)},ft.prototype.offset=function(l){return this.toCollection().offset(l)},ft.prototype.limit=function(l){return this.toCollection().limit(l)},ft.prototype.each=function(l){return this.toCollection().each(l)},ft.prototype.toArray=function(l){return this.toCollection().toArray(l)},ft.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},ft.prototype.orderBy=function(l){return new this.db.Collection(new this.db.WhereClause(this,w(l)?"[".concat(l.join("+"),"]"):l))},ft.prototype.reverse=function(){return this.toCollection().reverse()},ft.prototype.mapToClass=function(l){var c,h=this.db,g=this.name;function y(){return c!==null&&c.apply(this,arguments)||this}(this.schema.mappedClass=l).prototype instanceof Ll&&((function(O,B){if(typeof B!="function"&&B!==null)throw new TypeError("Class extends value "+String(B)+" is not a constructor or null");function H(){this.constructor=O}d(O,B),O.prototype=B===null?Object.create(B):(H.prototype=B.prototype,new H)})(y,c=l),Object.defineProperty(y.prototype,"db",{get:function(){return h},enumerable:!1,configurable:!0}),y.prototype.table=function(){return g},l=y);for(var k=new Set,A=l.prototype;A;A=b(A))Object.getOwnPropertyNames(A).forEach(function(O){return k.add(O)});function _(O){if(!O)return O;var B,H=Object.create(l.prototype);for(B in O)if(!k.has(B))try{H[B]=O[B]}catch{}return H}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=_,this.hook("reading",_),l},ft.prototype.defineClass=function(){return this.mapToClass(function(l){N(this,l)})},ft.prototype.add=function(l,c){var h=this,g=this.schema.primKey,y=g.auto,k=g.keyPath,A=l;return k&&y&&(A=fr(k)(l)),this._trans("readwrite",function(_){return h.core.mutate({trans:_,type:"add",keys:c!=null?[c]:null,values:[A]})}).then(function(_){return _.numFailures?Te.reject(_.failures[0]):_.lastResult}).then(function(_){if(k)try{pe(l,k,_)}catch{}return _})},ft.prototype.update=function(l,c){return typeof l!="object"||w(l)?this.where(":id").equals(l).modify(c):(l=ue(l,this.schema.primKey.keyPath),l===void 0?Ot(new Oe.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(l).modify(c))},ft.prototype.put=function(l,c){var h=this,g=this.schema.primKey,y=g.auto,k=g.keyPath,A=l;return k&&y&&(A=fr(k)(l)),this._trans("readwrite",function(_){return h.core.mutate({trans:_,type:"put",values:[A],keys:c!=null?[c]:null})}).then(function(_){return _.numFailures?Te.reject(_.failures[0]):_.lastResult}).then(function(_){if(k)try{pe(l,k,_)}catch{}return _})},ft.prototype.delete=function(l){var c=this;return this._trans("readwrite",function(h){return c.core.mutate({trans:h,type:"delete",keys:[l]}).then(function(g){return sl(c,[l],g)}).then(function(g){return g.numFailures?Te.reject(g.failures[0]):void 0})})},ft.prototype.clear=function(){var l=this;return this._trans("readwrite",function(c){return l.core.mutate({trans:c,type:"deleteRange",range:Ra}).then(function(h){return sl(l,null,h)})}).then(function(c){return c.numFailures?Te.reject(c.failures[0]):void 0})},ft.prototype.bulkGet=function(l){var c=this;return this._trans("readonly",function(h){return c.core.getMany({keys:l,trans:h}).then(function(g){return g.map(function(y){return c.hook.reading.fire(y)})})})},ft.prototype.bulkAdd=function(l,c,h){var g=this,y=Array.isArray(c)?c:void 0,k=(h=h||(y?void 0:c))?h.allKeys:void 0;return this._trans("readwrite",function(A){var B=g.schema.primKey,_=B.auto,B=B.keyPath;if(B&&y)throw new Oe.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(y&&y.length!==l.length)throw new Oe.InvalidArgument("Arguments objects and keys must have the same length");var O=l.length,B=B&&_?l.map(fr(B)):l;return g.core.mutate({trans:A,type:"add",keys:y,values:B,wantResults:k}).then(function(q){var D=q.numFailures,K=q.results,R=q.lastResult,q=q.failures;if(D===0)return k?K:R;throw new Ue("".concat(g.name,".bulkAdd(): ").concat(D," of ").concat(O," operations failed"),q)})})},ft.prototype.bulkPut=function(l,c,h){var g=this,y=Array.isArray(c)?c:void 0,k=(h=h||(y?void 0:c))?h.allKeys:void 0;return this._trans("readwrite",function(A){var B=g.schema.primKey,_=B.auto,B=B.keyPath;if(B&&y)throw new Oe.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(y&&y.length!==l.length)throw new Oe.InvalidArgument("Arguments objects and keys must have the same length");var O=l.length,B=B&&_?l.map(fr(B)):l;return g.core.mutate({trans:A,type:"put",keys:y,values:B,wantResults:k}).then(function(q){var D=q.numFailures,K=q.results,R=q.lastResult,q=q.failures;if(D===0)return k?K:R;throw new Ue("".concat(g.name,".bulkPut(): ").concat(D," of ").concat(O," operations failed"),q)})})},ft.prototype.bulkUpdate=function(l){var c=this,h=this.core,g=l.map(function(A){return A.key}),y=l.map(function(A){return A.changes}),k=[];return this._trans("readwrite",function(A){return h.getMany({trans:A,keys:g,cache:"clone"}).then(function(_){var O=[],B=[];l.forEach(function(D,K){var R=D.key,q=D.changes,L=_[K];if(L){for(var G=0,X=Object.keys(q);G<X.length;G++){var W=X[G],ae=q[W];if(W===c.schema.primKey.keyPath){if(nt(ae,R)!==0)throw new Oe.Constraint("Cannot update primary key in bulkUpdate()")}else pe(L,W,ae)}k.push(K),O.push(R),B.push(L)}});var H=O.length;return h.mutate({trans:A,type:"put",keys:O,values:B,updates:{keys:g,changeSpecs:y}}).then(function(D){var K=D.numFailures,R=D.failures;if(K===0)return H;for(var q=0,L=Object.keys(R);q<L.length;q++){var G,X=L[q],W=k[Number(X)];W!=null&&(G=R[X],delete R[X],R[W]=G)}throw new Ue("".concat(c.name,".bulkUpdate(): ").concat(K," of ").concat(H," operations failed"),R)})})})},ft.prototype.bulkDelete=function(l){var c=this,h=l.length;return this._trans("readwrite",function(g){return c.core.mutate({trans:g,type:"delete",keys:l}).then(function(y){return sl(c,l,y)})}).then(function(A){var y=A.numFailures,k=A.lastResult,A=A.failures;if(y===0)return k;throw new Ue("".concat(c.name,".bulkDelete(): ").concat(y," of ").concat(h," operations failed"),A)})},ft);function ft(){}function hr(l){function c(A,_){if(_){for(var O=arguments.length,B=new Array(O-1);--O;)B[O-1]=arguments[O];return h[A].subscribe.apply(null,B),l}if(typeof A=="string")return h[A]}var h={};c.addEventType=k;for(var g=1,y=arguments.length;g<y;++g)k(arguments[g]);return c;function k(A,_,O){if(typeof A!="object"){var B;_=_||ha;var H={subscribers:[],fire:O=O||st,subscribe:function(D){H.subscribers.indexOf(D)===-1&&(H.subscribers.push(D),H.fire=_(H.fire,D))},unsubscribe:function(D){H.subscribers=H.subscribers.filter(function(K){return K!==D}),H.fire=H.subscribers.reduce(_,O)}};return h[A]=c[A]=H}x(B=A).forEach(function(D){var K=B[D];if(w(K))k(D,B[D][0],B[D][1]);else{if(K!=="asap")throw new Oe.InvalidArgument("Invalid event config");var R=k(D,ta,function(){for(var q=arguments.length,L=new Array(q);q--;)L[q]=arguments[q];R.subscribers.forEach(function(G){le(function(){G.apply(null,L)})})})}})}}function wa(l,c){return ee(c).from({prototype:l}),c}function mr(l,c){return!(l.filter||l.algorithm||l.or)&&(c?l.justLimit:!l.replayFilter)}function fn(l,c){l.filter=ba(l.filter,c)}function ol(l,c,h){var g=l.replayFilter;l.replayFilter=g?function(){return ba(g(),c())}:c,l.justLimit=h&&!g}function ul(l,c){if(l.isPrimKey)return c.primaryKey;var h=c.getIndexByKeyPath(l.index);if(!h)throw new Oe.Schema("KeyPath "+l.index+" on object store "+c.name+" is not indexed");return h}function Hl(l,c,h){var g=ul(l,c.schema);return c.openCursor({trans:h,values:!l.keysOnly,reverse:l.dir==="prev",unique:!!l.unique,query:{index:g,range:l.range}})}function ia(l,c,h,g){var y=l.replayFilter?ba(l.filter,l.replayFilter()):l.filter;if(l.or){var k={},A=function(_,O,B){var H,D;y&&!y(O,B,function(K){return O.stop(K)},function(K){return O.fail(K)})||((D=""+(H=O.primaryKey))=="[object ArrayBuffer]"&&(D=""+new Uint8Array(H)),T(k,D)||(k[D]=!0,c(_,O,B)))};return Promise.all([l.or._iterate(A,h),Ki(Hl(l,g,h),l.algorithm,A,!l.keysOnly&&l.valueMapper)])}return Ki(Hl(l,g,h),ba(l.algorithm,y),c,!l.keysOnly&&l.valueMapper)}function Ki(l,c,h,g){var y=Ie(g?function(k,A,_){return h(g(k),A,_)}:h);return l.then(function(k){if(k)return k.start(function(){var A=function(){return k.continue()};c&&!c(k,function(_){return A=_},function(_){k.stop(_),A=st},function(_){k.fail(_),A=st})||y(k.value,k,function(_){return A=_}),A()})})}var gr=(za.prototype.execute=function(l){var c=this["@@propmod"];if(c.add!==void 0){var h=c.add;if(w(h))return m(m([],w(l)?l:[],!0),h).sort();if(typeof h=="number")return(Number(l)||0)+h;if(typeof h=="bigint")try{return BigInt(l)+h}catch{return BigInt(0)+h}throw new TypeError("Invalid term ".concat(h))}if(c.remove!==void 0){var g=c.remove;if(w(g))return w(l)?l.filter(function(y){return!g.includes(y)}).sort():[];if(typeof g=="number")return Number(l)-g;if(typeof g=="bigint")try{return BigInt(l)-g}catch{return BigInt(0)-g}throw new TypeError("Invalid subtrahend ".concat(g))}return h=(h=c.replacePrefix)===null||h===void 0?void 0:h[0],h&&typeof l=="string"&&l.startsWith(h)?c.replacePrefix[1]+l.substring(h.length):l},za);function za(l){this["@@propmod"]=l}var Cu=(it.prototype._read=function(l,c){var h=this._ctx;return h.error?h.table._trans(null,Ot.bind(null,h.error)):h.table._trans("readonly",l).then(c)},it.prototype._write=function(l){var c=this._ctx;return c.error?c.table._trans(null,Ot.bind(null,c.error)):c.table._trans("readwrite",l,"locked")},it.prototype._addAlgorithm=function(l){var c=this._ctx;c.algorithm=ba(c.algorithm,l)},it.prototype._iterate=function(l,c){return ia(this._ctx,l,c,this._ctx.table.core)},it.prototype.clone=function(l){var c=Object.create(this.constructor.prototype),h=Object.create(this._ctx);return l&&N(h,l),c._ctx=h,c},it.prototype.raw=function(){return this._ctx.valueMapper=null,this},it.prototype.each=function(l){var c=this._ctx;return this._read(function(h){return ia(c,l,h,c.table.core)})},it.prototype.count=function(l){var c=this;return this._read(function(h){var g=c._ctx,y=g.table.core;if(mr(g,!0))return y.count({trans:h,query:{index:ul(g,y.schema),range:g.range}}).then(function(A){return Math.min(A,g.limit)});var k=0;return ia(g,function(){return++k,!1},h,y).then(function(){return k})}).then(l)},it.prototype.sortBy=function(l,c){var h=l.split(".").reverse(),g=h[0],y=h.length-1;function k(O,B){return B?k(O[h[B]],B-1):O[g]}var A=this._ctx.dir==="next"?1:-1;function _(O,B){return nt(k(O,y),k(B,y))*A}return this.toArray(function(O){return O.sort(_)}).then(c)},it.prototype.toArray=function(l){var c=this;return this._read(function(h){var g=c._ctx;if(g.dir==="next"&&mr(g,!0)&&0<g.limit){var y=g.valueMapper,k=ul(g,g.table.core.schema);return g.table.core.query({trans:h,limit:g.limit,values:!0,query:{index:k,range:g.range}}).then(function(_){return _=_.result,y?_.map(y):_})}var A=[];return ia(g,function(_){return A.push(_)},h,g.table.core).then(function(){return A})},l)},it.prototype.offset=function(l){var c=this._ctx;return l<=0||(c.offset+=l,mr(c)?ol(c,function(){var h=l;return function(g,y){return h===0||(h===1?--h:y(function(){g.advance(h),h=0}),!1)}}):ol(c,function(){var h=l;return function(){return--h<0}})),this},it.prototype.limit=function(l){return this._ctx.limit=Math.min(this._ctx.limit,l),ol(this._ctx,function(){var c=l;return function(h,g,y){return--c<=0&&g(y),0<=c}},!0),this},it.prototype.until=function(l,c){return fn(this._ctx,function(h,g,y){return!l(h.value)||(g(y),c)}),this},it.prototype.first=function(l){return this.limit(1).toArray(function(c){return c[0]}).then(l)},it.prototype.last=function(l){return this.reverse().first(l)},it.prototype.filter=function(l){var c;return fn(this._ctx,function(h){return l(h.value)}),(c=this._ctx).isMatch=ba(c.isMatch,l),this},it.prototype.and=function(l){return this.filter(l)},it.prototype.or=function(l){return new this.db.WhereClause(this._ctx.table,l,this)},it.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},it.prototype.desc=function(){return this.reverse()},it.prototype.eachKey=function(l){var c=this._ctx;return c.keysOnly=!c.isMatch,this.each(function(h,g){l(g.key,g)})},it.prototype.eachUniqueKey=function(l){return this._ctx.unique="unique",this.eachKey(l)},it.prototype.eachPrimaryKey=function(l){var c=this._ctx;return c.keysOnly=!c.isMatch,this.each(function(h,g){l(g.primaryKey,g)})},it.prototype.keys=function(l){var c=this._ctx;c.keysOnly=!c.isMatch;var h=[];return this.each(function(g,y){h.push(y.key)}).then(function(){return h}).then(l)},it.prototype.primaryKeys=function(l){var c=this._ctx;if(c.dir==="next"&&mr(c,!0)&&0<c.limit)return this._read(function(g){var y=ul(c,c.table.core.schema);return c.table.core.query({trans:g,values:!1,limit:c.limit,query:{index:y,range:c.range}})}).then(function(g){return g.result}).then(l);c.keysOnly=!c.isMatch;var h=[];return this.each(function(g,y){h.push(y.primaryKey)}).then(function(){return h}).then(l)},it.prototype.uniqueKeys=function(l){return this._ctx.unique="unique",this.keys(l)},it.prototype.firstKey=function(l){return this.limit(1).keys(function(c){return c[0]}).then(l)},it.prototype.lastKey=function(l){return this.reverse().firstKey(l)},it.prototype.distinct=function(){var l=this._ctx,l=l.index&&l.table.schema.idxByName[l.index];if(!l||!l.multi)return this;var c={};return fn(this._ctx,function(y){var g=y.primaryKey.toString(),y=T(c,g);return c[g]=!0,!y}),this},it.prototype.modify=function(l){var c=this,h=this._ctx;return this._write(function(g){var y,k,A;A=typeof l=="function"?l:(y=x(l),k=y.length,function(X){for(var W=!1,ae=0;ae<k;++ae){var re=y[ae],ve=l[re],je=ue(X,re);ve instanceof gr?(pe(X,re,ve.execute(je)),W=!0):je!==ve&&(pe(X,re,ve),W=!0)}return W});var _=h.table.core,D=_.schema.primaryKey,O=D.outbound,B=D.extractKey,H=200,D=c.db._options.modifyChunkSize;D&&(H=typeof D=="object"?D[_.name]||D["*"]||200:D);function K(X,re){var ae=re.failures,re=re.numFailures;q+=X-re;for(var ve=0,je=x(ae);ve<je.length;ve++){var we=je[ve];R.push(ae[we])}}var R=[],q=0,L=[],G=l===Gi;return c.clone().primaryKeys().then(function(X){function W(re){var ve=Math.min(H,X.length-re),je=X.slice(re,re+ve);return(G?Promise.resolve([]):_.getMany({trans:g,keys:je,cache:"immutable"})).then(function(we){var Se=[],ke=[],Ee=O?[]:null,Ne=G?je:[];if(!G)for(var qe=0;qe<ve;++qe){var Ze=we[qe],Xe={value:de(Ze),primKey:X[re+qe]};A.call(Xe,Xe.value,Xe)!==!1&&(Xe.value==null?Ne.push(X[re+qe]):O||nt(B(Ze),B(Xe.value))===0?(ke.push(Xe.value),O&&Ee.push(X[re+qe])):(Ne.push(X[re+qe]),Se.push(Xe.value)))}return Promise.resolve(0<Se.length&&_.mutate({trans:g,type:"add",values:Se}).then(function(kt){for(var Ke in kt.failures)Ne.splice(parseInt(Ke),1);K(Se.length,kt)})).then(function(){return(0<ke.length||ae&&typeof l=="object")&&_.mutate({trans:g,type:"put",keys:Ee,values:ke,criteria:ae,changeSpec:typeof l!="function"&&l,isAdditionalChunk:0<re}).then(function(kt){return K(ke.length,kt)})}).then(function(){return(0<Ne.length||ae&&G)&&_.mutate({trans:g,type:"delete",keys:Ne,criteria:ae,isAdditionalChunk:0<re}).then(function(kt){return sl(h.table,Ne,kt)}).then(function(kt){return K(Ne.length,kt)})}).then(function(){return X.length>re+ve&&W(re+H)})})}var ae=mr(h)&&h.limit===1/0&&(typeof l!="function"||G)&&{index:h.index,range:h.range};return W(0).then(function(){if(0<R.length)throw new Ye("Error modifying one or more objects",R,q,L);return X.length})})})},it.prototype.delete=function(){var l=this._ctx,c=l.range;return!mr(l)||l.table.schema.yProps||!l.isPrimKey&&c.type!==3?this.modify(Gi):this._write(function(h){var g=l.table.core.schema.primaryKey,y=c;return l.table.core.count({trans:h,query:{index:g,range:y}}).then(function(k){return l.table.core.mutate({trans:h,type:"deleteRange",range:y}).then(function(O){var _=O.failures,O=O.numFailures;if(O)throw new Ye("Could not delete some values",Object.keys(_).map(function(B){return _[B]}),k-O);return k-O})})})},it);function it(){}var Gi=function(l,c){return c.value=null};function $i(l,c){return l<c?-1:l===c?0:1}function _u(l,c){return c<l?-1:l===c?0:1}function wn(l,c,h){return l=l instanceof Ua?new l.Collection(l):l,l._ctx.error=new(h||TypeError)(c),l}function sa(l){return new l.Collection(l,function(){return Ba("")}).limit(0)}function pr(l,c,h,g){var y,k,A,_,O,B,H,D=h.length;if(!h.every(function(q){return typeof q=="string"}))return wn(l,no);function K(q){y=q==="next"?function(G){return G.toUpperCase()}:function(G){return G.toLowerCase()},k=q==="next"?function(G){return G.toLowerCase()}:function(G){return G.toUpperCase()},A=q==="next"?$i:_u;var L=h.map(function(G){return{lower:k(G),upper:y(G)}}).sort(function(G,X){return A(G.lower,X.lower)});_=L.map(function(G){return G.upper}),O=L.map(function(G){return G.lower}),H=(B=q)==="next"?"":g}K("next"),l=new l.Collection(l,function(){return Vn(_[0],O[D-1]+g)}),l._ondirectionchange=function(q){K(q)};var R=0;return l._addAlgorithm(function(q,L,G){var X=q.key;if(typeof X!="string")return!1;var W=k(X);if(c(W,O,R))return!0;for(var ae=null,re=R;re<D;++re){var ve=(function(je,we,Se,ke,Ee,Ne){for(var qe=Math.min(je.length,ke.length),Ze=-1,Xe=0;Xe<qe;++Xe){var kt=we[Xe];if(kt!==ke[Xe])return Ee(je[Xe],Se[Xe])<0?je.substr(0,Xe)+Se[Xe]+Se.substr(Xe+1):Ee(je[Xe],ke[Xe])<0?je.substr(0,Xe)+ke[Xe]+Se.substr(Xe+1):0<=Ze?je.substr(0,Ze)+we[Ze]+Se.substr(Ze+1):null;Ee(je[Xe],kt)<0&&(Ze=Xe)}return qe<ke.length&&Ne==="next"?je+Se.substr(je.length):qe<je.length&&Ne==="prev"?je.substr(0,Se.length):Ze<0?null:je.substr(0,Ze)+ke[Ze]+Se.substr(Ze+1)})(X,W,_[re],O[re],A,B);ve===null&&ae===null?R=re+1:(ae===null||0<A(ae,ve))&&(ae=ve)}return L(ae!==null?function(){q.continue(ae+H)}:G),!1}),l}function Vn(l,c,h,g){return{type:2,lower:l,upper:c,lowerOpen:h,upperOpen:g}}function Ba(l){return{type:1,lower:l,upper:l}}var Ua=(Object.defineProperty(Yt.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),Yt.prototype.between=function(l,c,h,g){h=h!==!1,g=g===!0;try{return 0<this._cmp(l,c)||this._cmp(l,c)===0&&(h||g)&&(!h||!g)?sa(this):new this.Collection(this,function(){return Vn(l,c,!h,!g)})}catch{return wn(this,Pn)}},Yt.prototype.equals=function(l){return l==null?wn(this,Pn):new this.Collection(this,function(){return Ba(l)})},Yt.prototype.above=function(l){return l==null?wn(this,Pn):new this.Collection(this,function(){return Vn(l,void 0,!0)})},Yt.prototype.aboveOrEqual=function(l){return l==null?wn(this,Pn):new this.Collection(this,function(){return Vn(l,void 0,!1)})},Yt.prototype.below=function(l){return l==null?wn(this,Pn):new this.Collection(this,function(){return Vn(void 0,l,!1,!0)})},Yt.prototype.belowOrEqual=function(l){return l==null?wn(this,Pn):new this.Collection(this,function(){return Vn(void 0,l)})},Yt.prototype.startsWith=function(l){return typeof l!="string"?wn(this,no):this.between(l,l+xa,!0,!0)},Yt.prototype.startsWithIgnoreCase=function(l){return l===""?this.startsWith(l):pr(this,function(c,h){return c.indexOf(h[0])===0},[l],xa)},Yt.prototype.equalsIgnoreCase=function(l){return pr(this,function(c,h){return c===h[0]},[l],"")},Yt.prototype.anyOfIgnoreCase=function(){var l=C.apply(Pe,arguments);return l.length===0?sa(this):pr(this,function(c,h){return h.indexOf(c)!==-1},l,"")},Yt.prototype.startsWithAnyOfIgnoreCase=function(){var l=C.apply(Pe,arguments);return l.length===0?sa(this):pr(this,function(c,h){return h.some(function(g){return c.indexOf(g)===0})},l,xa)},Yt.prototype.anyOf=function(){var l=this,c=C.apply(Pe,arguments),h=this._cmp;try{c.sort(h)}catch{return wn(this,Pn)}if(c.length===0)return sa(this);var g=new this.Collection(this,function(){return Vn(c[0],c[c.length-1])});g._ondirectionchange=function(k){h=k==="next"?l._ascending:l._descending,c.sort(h)};var y=0;return g._addAlgorithm(function(k,A,_){for(var O=k.key;0<h(O,c[y]);)if(++y===c.length)return A(_),!1;return h(O,c[y])===0||(A(function(){k.continue(c[y])}),!1)}),g},Yt.prototype.notEqual=function(l){return this.inAnyRange([[-1/0,l],[l,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},Yt.prototype.noneOf=function(){var l=C.apply(Pe,arguments);if(l.length===0)return new this.Collection(this);try{l.sort(this._ascending)}catch{return wn(this,Pn)}var c=l.reduce(function(h,g){return h?h.concat([[h[h.length-1][1],g]]):[[-1/0,g]]},null);return c.push([l[l.length-1],this.db._maxKey]),this.inAnyRange(c,{includeLowers:!1,includeUppers:!1})},Yt.prototype.inAnyRange=function(X,c){var h=this,g=this._cmp,y=this._ascending,k=this._descending,A=this._min,_=this._max;if(X.length===0)return sa(this);if(!X.every(function(W){return W[0]!==void 0&&W[1]!==void 0&&y(W[0],W[1])<=0}))return wn(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",Oe.InvalidArgument);var O=!c||c.includeLowers!==!1,B=c&&c.includeUppers===!0,H,D=y;function K(W,ae){return D(W[0],ae[0])}try{(H=X.reduce(function(W,ae){for(var re=0,ve=W.length;re<ve;++re){var je=W[re];if(g(ae[0],je[1])<0&&0<g(ae[1],je[0])){je[0]=A(je[0],ae[0]),je[1]=_(je[1],ae[1]);break}}return re===ve&&W.push(ae),W},[])).sort(K)}catch{return wn(this,Pn)}var R=0,q=B?function(W){return 0<y(W,H[R][1])}:function(W){return 0<=y(W,H[R][1])},L=O?function(W){return 0<k(W,H[R][0])}:function(W){return 0<=k(W,H[R][0])},G=q,X=new this.Collection(this,function(){return Vn(H[0][0],H[H.length-1][1],!O,!B)});return X._ondirectionchange=function(W){D=W==="next"?(G=q,y):(G=L,k),H.sort(K)},X._addAlgorithm(function(W,ae,re){for(var ve,je=W.key;G(je);)if(++R===H.length)return ae(re),!1;return!q(ve=je)&&!L(ve)||(h._cmp(je,H[R][1])===0||h._cmp(je,H[R][0])===0||ae(function(){D===y?W.continue(H[R][0]):W.continue(H[R][1])}),!1)}),X},Yt.prototype.startsWithAnyOf=function(){var l=C.apply(Pe,arguments);return l.every(function(c){return typeof c=="string"})?l.length===0?sa(this):this.inAnyRange(l.map(function(c){return[c,c+xa]})):wn(this,"startsWithAnyOf() only works with strings")},Yt);function Yt(){}function En(l){return Ie(function(c){return yr(c),l(c.target.error),!1})}function yr(l){l.stopPropagation&&l.stopPropagation(),l.preventDefault&&l.preventDefault()}var oa="storagemutated",Rn="x-storagemutated-1",Fn=hr(null,oa),cl=(Jt.prototype._lock=function(){return Y(!ze.global),++this._reculock,this._reculock!==1||ze.global||(ze.lockOwnerFor=this),this},Jt.prototype._unlock=function(){if(Y(!ze.global),--this._reculock==0)for(ze.global||(ze.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var l=this._blockedFuncs.shift();try{pa(l[1],l[0])}catch{}}return this},Jt.prototype._locked=function(){return this._reculock&&ze.lockOwnerFor!==this},Jt.prototype.create=function(l){var c=this;if(!this.mode)return this;var h=this.db.idbdb,g=this.db._state.dbOpenError;if(Y(!this.idbtrans),!l&&!h)switch(g&&g.name){case"DatabaseClosedError":throw new Oe.DatabaseClosed(g);case"MissingAPIError":throw new Oe.MissingAPI(g.message,g);default:throw new Oe.OpenFailed(g)}if(!this.active)throw new Oe.TransactionInactive;return Y(this._completion._state===null),(l=this.idbtrans=l||(this.db.core||h).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=Ie(function(y){yr(y),c._reject(l.error)}),l.onabort=Ie(function(y){yr(y),c.active&&c._reject(new Oe.Abort(l.error)),c.active=!1,c.on("abort").fire(y)}),l.oncomplete=Ie(function(){c.active=!1,c._resolve(),"mutatedParts"in l&&Fn.storagemutated.fire(l.mutatedParts)}),this},Jt.prototype._promise=function(l,c,h){var g=this;if(l==="readwrite"&&this.mode!=="readwrite")return Ot(new Oe.ReadOnly("Transaction is readonly"));if(!this.active)return Ot(new Oe.TransactionInactive);if(this._locked())return new Te(function(k,A){g._blockedFuncs.push([function(){g._promise(l,c,h).then(k,A)},ze])});if(h)return Qn(function(){var k=new Te(function(A,_){g._lock();var O=c(A,_,g);O&&O.then&&O.then(A,_)});return k.finally(function(){return g._unlock()}),k._lib=!0,k});var y=new Te(function(k,A){var _=c(k,A,g);_&&_.then&&_.then(k,A)});return y._lib=!0,y},Jt.prototype._root=function(){return this.parent?this.parent._root():this},Jt.prototype.waitFor=function(l){var c,h=this._root(),g=Te.resolve(l);h._waitingFor?h._waitingFor=h._waitingFor.then(function(){return g}):(h._waitingFor=g,h._waitingQueue=[],c=h.idbtrans.objectStore(h.storeNames[0]),(function k(){for(++h._spinCount;h._waitingQueue.length;)h._waitingQueue.shift()();h._waitingFor&&(c.get(-1/0).onsuccess=k)})());var y=h._waitingFor;return new Te(function(k,A){g.then(function(_){return h._waitingQueue.push(Ie(k.bind(null,_)))},function(_){return h._waitingQueue.push(Ie(A.bind(null,_)))}).finally(function(){h._waitingFor===y&&(h._waitingFor=null)})})},Jt.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new Oe.Abort))},Jt.prototype.table=function(l){var c=this._memoizedTables||(this._memoizedTables={});if(T(c,l))return c[l];var h=this.schema[l];if(!h)throw new Oe.NotFound("Table "+l+" not part of transaction");return h=new this.db.Table(l,h,this),h.core=this.db.core.table(l),c[l]=h},Jt);function Jt(){}function dl(l,c,h,g,y,k,A,_){return{name:l,keyPath:c,unique:h,multi:g,auto:y,compound:k,src:(h&&!A?"&":"")+(g?"*":"")+(y?"++":"")+fl(c),type:_}}function fl(l){return typeof l=="string"?l:l?"["+[].join.call(l,"+")+"]":""}function Yl(l,c,h){return{name:l,primKey:c,indexes:h,mappedClass:null,idxByName:(g=function(y){return[y.name,y]},h.reduce(function(y,k,A){return A=g(k,A),A&&(y[A[0]]=A[1]),y},{}))};var g}var Sa=function(l){try{return l.only([[]]),Sa=function(){return[[]]},[[]]}catch{return Sa=function(){return xa},xa}};function vr(l){return l==null?function(){}:typeof l=="string"?(c=l).split(".").length===1?function(h){return h[c]}:function(h){return ue(h,c)}:function(h){return ue(h,l)};var c}function Xi(l){return[].slice.call(l)}var hn=0;function zn(l){return l==null?":id":typeof l=="string"?l:"[".concat(l.join("+"),"]")}function Kl(l,c,O){function g(G){if(G.type===3)return null;if(G.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var R=G.lower,q=G.upper,L=G.lowerOpen,G=G.upperOpen;return R===void 0?q===void 0?null:c.upperBound(q,!!G):q===void 0?c.lowerBound(R,!!L):c.bound(R,q,!!L,!!G)}function y(K){var R,q=K.name;return{name:q,schema:K,mutate:function(L){var G=L.trans,X=L.type,W=L.keys,ae=L.values,re=L.range;return new Promise(function(ve,je){ve=Ie(ve);var we=G.objectStore(q),Se=we.keyPath==null,ke=X==="put"||X==="add";if(!ke&&X!=="delete"&&X!=="deleteRange")throw new Error("Invalid operation type: "+X);var Ee,Ne=(W||ae||{length:1}).length;if(W&&ae&&W.length!==ae.length)throw new Error("Given keys array must have same length as given values array.");if(Ne===0)return ve({numFailures:0,failures:{},results:[],lastResult:void 0});function qe(Qt){++kt,yr(Qt)}var Ze=[],Xe=[],kt=0;if(X==="deleteRange"){if(re.type===4)return ve({numFailures:kt,failures:Xe,results:[],lastResult:void 0});re.type===3?Ze.push(Ee=we.clear()):Ze.push(Ee=we.delete(g(re)))}else{var Se=ke?Se?[ae,W]:[ae,null]:[W,null],Ke=Se[0],Xt=Se[1];if(ke)for(var Rt=0;Rt<Ne;++Rt)Ze.push(Ee=Xt&&Xt[Rt]!==void 0?we[X](Ke[Rt],Xt[Rt]):we[X](Ke[Rt])),Ee.onerror=qe;else for(Rt=0;Rt<Ne;++Rt)Ze.push(Ee=we[X](Ke[Rt])),Ee.onerror=qe}function xl(Qt){Qt=Qt.target.result,Ze.forEach(function(Tn,ss){return Tn.error!=null&&(Xe[ss]=Tn.error)}),ve({numFailures:kt,failures:Xe,results:X==="delete"?W:Ze.map(function(Tn){return Tn.result}),lastResult:Qt})}Ee.onerror=function(Qt){qe(Qt),xl(Qt)},Ee.onsuccess=xl})},getMany:function(L){var G=L.trans,X=L.keys;return new Promise(function(W,ae){W=Ie(W);for(var re,ve=G.objectStore(q),je=X.length,we=new Array(je),Se=0,ke=0,Ee=function(Ze){Ze=Ze.target,we[Ze._pos]=Ze.result,++ke===Se&&W(we)},Ne=En(ae),qe=0;qe<je;++qe)X[qe]!=null&&((re=ve.get(X[qe]))._pos=qe,re.onsuccess=Ee,re.onerror=Ne,++Se);Se===0&&W(we)})},get:function(L){var G=L.trans,X=L.key;return new Promise(function(W,ae){W=Ie(W);var re=G.objectStore(q).get(X);re.onsuccess=function(ve){return W(ve.target.result)},re.onerror=En(ae)})},query:(R=B,function(L){return new Promise(function(G,X){G=Ie(G);var W,ae,re,Se=L.trans,ve=L.values,je=L.limit,Ee=L.query,we=je===1/0?void 0:je,ke=Ee.index,Ee=Ee.range,Se=Se.objectStore(q),ke=ke.isPrimaryKey?Se:Se.index(ke.name),Ee=g(Ee);if(je===0)return G({result:[]});R?((we=ve?ke.getAll(Ee,we):ke.getAllKeys(Ee,we)).onsuccess=function(Ne){return G({result:Ne.target.result})},we.onerror=En(X)):(W=0,ae=!ve&&"openKeyCursor"in ke?ke.openKeyCursor(Ee):ke.openCursor(Ee),re=[],ae.onsuccess=function(Ne){var qe=ae.result;return qe?(re.push(ve?qe.value:qe.primaryKey),++W===je?G({result:re}):void qe.continue()):G({result:re})},ae.onerror=En(X))})}),openCursor:function(L){var G=L.trans,X=L.values,W=L.query,ae=L.reverse,re=L.unique;return new Promise(function(ve,je){ve=Ie(ve);var ke=W.index,we=W.range,Se=G.objectStore(q),Se=ke.isPrimaryKey?Se:Se.index(ke.name),ke=ae?re?"prevunique":"prev":re?"nextunique":"next",Ee=!X&&"openKeyCursor"in Se?Se.openKeyCursor(g(we),ke):Se.openCursor(g(we),ke);Ee.onerror=En(je),Ee.onsuccess=Ie(function(Ne){var qe,Ze,Xe,kt,Ke=Ee.result;Ke?(Ke.___id=++hn,Ke.done=!1,qe=Ke.continue.bind(Ke),Ze=(Ze=Ke.continuePrimaryKey)&&Ze.bind(Ke),Xe=Ke.advance.bind(Ke),kt=function(){throw new Error("Cursor not stopped")},Ke.trans=G,Ke.stop=Ke.continue=Ke.continuePrimaryKey=Ke.advance=function(){throw new Error("Cursor not started")},Ke.fail=Ie(je),Ke.next=function(){var Xt=this,Rt=1;return this.start(function(){return Rt--?Xt.continue():Xt.stop()}).then(function(){return Xt})},Ke.start=function(Xt){function Rt(){if(Ee.result)try{Xt()}catch(Qt){Ke.fail(Qt)}else Ke.done=!0,Ke.start=function(){throw new Error("Cursor behind last entry")},Ke.stop()}var xl=new Promise(function(Qt,Tn){Qt=Ie(Qt),Ee.onerror=En(Tn),Ke.fail=Tn,Ke.stop=function(ss){Ke.stop=Ke.continue=Ke.continuePrimaryKey=Ke.advance=kt,Qt(ss)}});return Ee.onsuccess=Ie(function(Qt){Ee.onsuccess=Rt,Rt()}),Ke.continue=qe,Ke.continuePrimaryKey=Ze,Ke.advance=Xe,Rt(),xl},ve(Ke)):ve(null)},je)})},count:function(L){var G=L.query,X=L.trans,W=G.index,ae=G.range;return new Promise(function(re,ve){var je=X.objectStore(q),we=W.isPrimaryKey?je:je.index(W.name),je=g(ae),we=je?we.count(je):we.count();we.onsuccess=Ie(function(Se){return re(Se.target.result)}),we.onerror=En(ve)})}}}var k,A,_,H=(A=O,_=Xi((k=l).objectStoreNames),{schema:{name:k.name,tables:_.map(function(K){return A.objectStore(K)}).map(function(K){var R=K.keyPath,G=K.autoIncrement,q=w(R),L={},G={name:K.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:R==null,compound:q,keyPath:R,autoIncrement:G,unique:!0,extractKey:vr(R)},indexes:Xi(K.indexNames).map(function(X){return K.index(X)}).map(function(re){var W=re.name,ae=re.unique,ve=re.multiEntry,re=re.keyPath,ve={name:W,compound:w(re),keyPath:re,unique:ae,multiEntry:ve,extractKey:vr(re)};return L[zn(re)]=ve}),getIndexByKeyPath:function(X){return L[zn(X)]}};return L[":id"]=G.primaryKey,R!=null&&(L[zn(R)]=G.primaryKey),G})},hasGetAll:0<_.length&&"getAll"in A.objectStore(_[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),O=H.schema,B=H.hasGetAll,H=O.tables.map(y),D={};return H.forEach(function(K){return D[K.name]=K}),{stack:"dbcore",transaction:l.transaction.bind(l),table:function(K){if(!D[K])throw new Error("Table '".concat(K,"' not found"));return D[K]},MIN_KEY:-1/0,MAX_KEY:Sa(c),schema:O}}function hl(l,c,h,g){var y=h.IDBKeyRange;return h.indexedDB,{dbcore:(g=Kl(c,y,g),l.dbcore.reduce(function(k,A){return A=A.create,u(u({},k),A(k))},g))}}function Gl(l,g){var h=g.db,g=hl(l._middlewares,h,l._deps,g);l.core=g.dbcore,l.tables.forEach(function(y){var k=y.name;l.core.schema.tables.some(function(A){return A.name===k})&&(y.core=l.core.table(k),l[k]instanceof l.Table&&(l[k].core=y.core))})}function xr(l,c,h,g){h.forEach(function(y){var k=g[y];c.forEach(function(A){var _=(function O(B,H){return fe(B,H)||(B=b(B))&&O(B,H)})(A,y);(!_||"value"in _&&_.value===void 0)&&(A===l.Transaction.prototype||A instanceof l.Transaction?te(A,y,{get:function(){return this.table(y)},set:function(O){I(this,y,{value:O,writable:!0,configurable:!0,enumerable:!0})}}):A[y]=new l.Table(y,k))})})}function ml(l,c){c.forEach(function(h){for(var g in h)h[g]instanceof l.Table&&delete h[g]})}function gl(l,c){return l._cfg.version-c._cfg.version}function $l(l,c,h,g){var y=l._dbSchema;h.objectStoreNames.contains("$meta")&&!y.$meta&&(y.$meta=Yl("$meta",io("")[0],[]),l._storeNames.push("$meta"));var k=l._createTransaction("readwrite",l._storeNames,y);k.create(h),k._completion.catch(g);var A=k._reject.bind(k),_=ze.transless||ze;Qn(function(){return ze.trans=k,ze.transless=_,c!==0?(Gl(l,h),B=c,((O=k).storeNames.includes("$meta")?O.table("$meta").get("version").then(function(H){return H??B}):Te.resolve(B)).then(function(H){return K=H,R=k,q=h,L=[],H=(D=l)._versions,G=D._dbSchema=Xl(0,D.idbdb,q),(H=H.filter(function(X){return X._cfg.version>=K})).length!==0?(H.forEach(function(X){L.push(function(){var W=G,ae=X._cfg.dbschema;Ql(D,W,q),Ql(D,ae,q),G=D._dbSchema=ae;var re=Qi(W,ae);re.add.forEach(function(ke){Pi(q,ke[0],ke[1].primKey,ke[1].indexes)}),re.change.forEach(function(ke){if(ke.recreate)throw new Oe.Upgrade("Not yet support for changing primary key");var Ee=q.objectStore(ke.name);ke.add.forEach(function(Ne){return br(Ee,Ne)}),ke.change.forEach(function(Ne){Ee.deleteIndex(Ne.name),br(Ee,Ne)}),ke.del.forEach(function(Ne){return Ee.deleteIndex(Ne)})});var ve=X._cfg.contentUpgrade;if(ve&&X._cfg.version>K){Gl(D,q),R._memoizedTables={};var je=_e(ae);re.del.forEach(function(ke){je[ke]=W[ke]}),ml(D,[D.Transaction.prototype]),xr(D,[D.Transaction.prototype],x(je),je),R.schema=je;var we,Se=ne(ve);return Se&&Mn(),re=Te.follow(function(){var ke;(we=ve(R))&&Se&&(ke=xn.bind(null,null),we.then(ke,ke))}),we&&typeof we.then=="function"?Te.resolve(we):re.then(function(){return we})}}),L.push(function(W){var ae,re,ve=X._cfg.dbschema;ae=ve,re=W,[].slice.call(re.db.objectStoreNames).forEach(function(je){return ae[je]==null&&re.db.deleteObjectStore(je)}),ml(D,[D.Transaction.prototype]),xr(D,[D.Transaction.prototype],D._storeNames,D._dbSchema),R.schema=D._dbSchema}),L.push(function(W){D.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(D.idbdb.version/10)===X._cfg.version?(D.idbdb.deleteObjectStore("$meta"),delete D._dbSchema.$meta,D._storeNames=D._storeNames.filter(function(ae){return ae!=="$meta"})):W.objectStore("$meta").put(X._cfg.version,"version"))})}),(function X(){return L.length?Te.resolve(L.shift()(R.idbtrans)).then(X):Te.resolve()})().then(function(){lo(G,q)})):Te.resolve();var D,K,R,q,L,G}).catch(A)):(x(y).forEach(function(H){Pi(h,H,y[H].primKey,y[H].indexes)}),Gl(l,h),void Te.follow(function(){return l.on.populate.fire(k)}).catch(A));var O,B})}function ro(l,c){lo(l._dbSchema,c),c.db.version%10!=0||c.objectStoreNames.contains("$meta")||c.db.createObjectStore("$meta").add(Math.ceil(c.db.version/10-1),"version");var h=Xl(0,l.idbdb,c);Ql(l,l._dbSchema,c);for(var g=0,y=Qi(h,l._dbSchema).change;g<y.length;g++){var k=(function(A){if(A.change.length||A.recreate)return console.warn("Unable to patch indexes of table ".concat(A.name," because it has changes on the type of index or primary key.")),{value:void 0};var _=c.objectStore(A.name);A.add.forEach(function(O){Dt&&console.debug("Dexie upgrade patch: Creating missing index ".concat(A.name,".").concat(O.src)),br(_,O)})})(y[g]);if(typeof k=="object")return k.value}}function Qi(l,c){var h,g={del:[],add:[],change:[]};for(h in l)c[h]||g.del.push(h);for(h in c){var y=l[h],k=c[h];if(y){var A={name:h,def:k,recreate:!1,del:[],add:[],change:[]};if(""+(y.primKey.keyPath||"")!=""+(k.primKey.keyPath||"")||y.primKey.auto!==k.primKey.auto)A.recreate=!0,g.change.push(A);else{var _=y.idxByName,O=k.idxByName,B=void 0;for(B in _)O[B]||A.del.push(B);for(B in O){var H=_[B],D=O[B];H?H.src!==D.src&&A.change.push(D):A.add.push(D)}(0<A.del.length||0<A.add.length||0<A.change.length)&&g.change.push(A)}}else g.add.push([h,k])}return g}function Pi(l,c,h,g){var y=l.db.createObjectStore(c,h.keyPath?{keyPath:h.keyPath,autoIncrement:h.auto}:{autoIncrement:h.auto});return g.forEach(function(k){return br(y,k)}),y}function lo(l,c){x(l).forEach(function(h){c.db.objectStoreNames.contains(h)||(Dt&&console.debug("Dexie: Creating missing table",h),Pi(c,h,l[h].primKey,l[h].indexes))})}function br(l,c){l.createIndex(c.name,c.keyPath,{unique:c.unique,multiEntry:c.multi})}function Xl(l,c,h){var g={};return oe(c.objectStoreNames,0).forEach(function(y){for(var k=h.objectStore(y),A=dl(fl(B=k.keyPath),B||"",!0,!1,!!k.autoIncrement,B&&typeof B!="string",!0),_=[],O=0;O<k.indexNames.length;++O){var H=k.index(k.indexNames[O]),B=H.keyPath,H=dl(H.name,B,!!H.unique,!!H.multiEntry,!1,B&&typeof B!="string",!1);_.push(H)}g[y]=Yl(y,A,_)}),g}function Ql(l,c,h){for(var g=h.db.objectStoreNames,y=0;y<g.length;++y){var k=g[y],A=h.objectStore(k);l._hasGetAll="getAll"in A;for(var _=0;_<A.indexNames.length;++_){var O=A.indexNames[_],B=A.index(O).keyPath,H=typeof B=="string"?B:"["+oe(B).join("+")+"]";!c[k]||(B=c[k].idxByName[H])&&(B.name=O,delete c[k].idxByName[H],c[k].idxByName[O]=B)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&p.WorkerGlobalScope&&p instanceof p.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(l._hasGetAll=!1)}function io(l){return l.split(",").map(function(c,h){var k=c.split(":"),g=(y=k[1])===null||y===void 0?void 0:y.trim(),y=(c=k[0].trim()).replace(/([&*]|\+\+)/g,""),k=/^\[/.test(y)?y.match(/^\[(.*)\]$/)[1].split("+"):y;return dl(y,k||null,/\&/.test(c),/\*/.test(c),/\+\+/.test(c),w(k),h===0,g)})}var Du=(wr.prototype._createTableSchema=Yl,wr.prototype._parseIndexSyntax=io,wr.prototype._parseStoresSpec=function(l,c){var h=this;x(l).forEach(function(g){if(l[g]!==null){var y=h._parseIndexSyntax(l[g]),k=y.shift();if(!k)throw new Oe.Schema("Invalid schema for table "+g+": "+l[g]);if(k.unique=!0,k.multi)throw new Oe.Schema("Primary key cannot be multiEntry*");y.forEach(function(A){if(A.auto)throw new Oe.Schema("Only primary key can be marked as autoIncrement (++)");if(!A.keyPath)throw new Oe.Schema("Index must have a name and cannot be an empty string")}),y=h._createTableSchema(g,k,y),c[g]=y}})},wr.prototype.stores=function(h){var c=this.db;this._cfg.storesSource=this._cfg.storesSource?N(this._cfg.storesSource,h):h;var h=c._versions,g={},y={};return h.forEach(function(k){N(g,k._cfg.storesSource),y=k._cfg.dbschema={},k._parseStoresSpec(g,y)}),c._dbSchema=y,ml(c,[c._allTables,c,c.Transaction.prototype]),xr(c,[c._allTables,c,c.Transaction.prototype,this._cfg.tables],x(y),y),c._storeNames=x(y),this},wr.prototype.upgrade=function(l){return this._cfg.contentUpgrade=Nt(this._cfg.contentUpgrade||st,l),this},wr);function wr(){}function Pl(l,c){var h=l._dbNamesDB;return h||(h=l._dbNamesDB=new Bn(Oa,{addons:[],indexedDB:l,IDBKeyRange:c})).version(1).stores({dbnames:"name"}),h.table("dbnames")}function Vi(l){return l&&typeof l.databases=="function"}function Fi(l){return Qn(function(){return ze.letThrough=!0,l()})}function Zi(l){return!("from"in l)}var en=function(l,c){if(!this){var h=new en;return l&&"d"in l&&N(h,l),h}N(this,arguments.length?{d:1,from:l,to:1<arguments.length?c:l}:{d:0})};function qa(l,c,h){var g=nt(c,h);if(!isNaN(g)){if(0<g)throw RangeError();if(Zi(l))return N(l,{from:c,to:h,d:1});var y=l.l,g=l.r;if(nt(h,l.from)<0)return y?qa(y,c,h):l.l={from:c,to:h,d:1,l:null,r:null},Ji(l);if(0<nt(c,l.to))return g?qa(g,c,h):l.r={from:c,to:h,d:1,l:null,r:null},Ji(l);nt(c,l.from)<0&&(l.from=c,l.l=null,l.d=g?g.d+1:1),0<nt(h,l.to)&&(l.to=h,l.r=null,l.d=l.l?l.l.d+1:1),h=!l.r,y&&!l.l&&pl(l,y),g&&h&&pl(l,g)}}function pl(l,c){Zi(c)||(function h(g,O){var k=O.from,A=O.to,_=O.l,O=O.r;qa(g,k,A),_&&h(g,_),O&&h(g,O)})(l,c)}function so(l,c){var h=Vl(c),g=h.next();if(g.done)return!1;for(var y=g.value,k=Vl(l),A=k.next(y.from),_=A.value;!g.done&&!A.done;){if(nt(_.from,y.to)<=0&&0<=nt(_.to,y.from))return!0;nt(y.from,_.from)<0?y=(g=h.next(_.from)).value:_=(A=k.next(y.from)).value}return!1}function Vl(l){var c=Zi(l)?null:{s:0,n:l};return{next:function(h){for(var g=0<arguments.length;c;)switch(c.s){case 0:if(c.s=1,g)for(;c.n.l&&nt(h,c.n.from)<0;)c={up:c,n:c.n.l,s:1};else for(;c.n.l;)c={up:c,n:c.n.l,s:1};case 1:if(c.s=2,!g||nt(h,c.n.to)<=0)return{value:c.n,done:!1};case 2:if(c.n.r){c.s=3,c={up:c,n:c.n.r,s:0};continue}case 3:c=c.up}return{done:!0}}}}function Ji(l){var c,h,g=(((c=l.r)===null||c===void 0?void 0:c.d)||0)-(((h=l.l)===null||h===void 0?void 0:h.d)||0),y=1<g?"r":g<-1?"l":"";y&&(c=y=="r"?"l":"r",h=u({},l),g=l[y],l.from=g.from,l.to=g.to,l[y]=g[y],h[y]=g[c],(l[c]=h).d=oo(h)),l.d=oo(l)}function oo(h){var c=h.r,h=h.l;return(c?h?Math.max(c.d,h.d):c.d:h?h.d:0)+1}function Fl(l,c){return x(c).forEach(function(h){l[h]?pl(l[h],c[h]):l[h]=(function g(y){var k,A,_={};for(k in y)T(y,k)&&(A=y[k],_[k]=!A||typeof A!="object"||Ae.has(A.constructor)?A:g(A));return _})(c[h])}),l}function Wi(l,c){return l.all||c.all||Object.keys(l).some(function(h){return c[h]&&so(c[h],l[h])})}Q(en.prototype,((Sn={add:function(l){return pl(this,l),this},addKey:function(l){return qa(this,l,l),this},addKeys:function(l){var c=this;return l.forEach(function(h){return qa(c,h,h)}),this},hasKey:function(l){var c=Vl(this).next(l).value;return c&&nt(c.from,l)<=0&&0<=nt(c.to,l)}})[F]=function(){return Vl(this)},Sn));var La={},Ii={},es=!1;function Zl(l){Fl(Ii,l),es||(es=!0,setTimeout(function(){es=!1,ts(Ii,!(Ii={}))},0))}function ts(l,c){c===void 0&&(c=!1);var h=new Set;if(l.all)for(var g=0,y=Object.values(La);g<y.length;g++)uo(A=y[g],l,h,c);else for(var k in l){var A,_=/^idb\:\/\/(.*)\/(.*)\//.exec(k);_&&(k=_[1],_=_[2],(A=La["idb://".concat(k,"/").concat(_)])&&uo(A,l,h,c))}h.forEach(function(O){return O()})}function uo(l,c,h,g){for(var y=[],k=0,A=Object.entries(l.queries.query);k<A.length;k++){for(var _=A[k],O=_[0],B=[],H=0,D=_[1];H<D.length;H++){var K=D[H];Wi(c,K.obsSet)?K.subscribers.forEach(function(G){return h.add(G)}):g&&B.push(K)}g&&y.push([O,B])}if(g)for(var R=0,q=y;R<q.length;R++){var L=q[R],O=L[0],B=L[1];l.queries.query[O]=B}}function ns(l){var c=l._state,h=l._deps.indexedDB;if(c.isBeingOpened||l.idbdb)return c.dbReadyPromise.then(function(){return c.dbOpenError?Ot(c.dbOpenError):l});c.isBeingOpened=!0,c.dbOpenError=null,c.openComplete=!1;var g=c.openCanceller,y=Math.round(10*l.verno),k=!1;function A(){if(c.openCanceller!==g)throw new Oe.DatabaseClosed("db.open() was cancelled")}function _(){return new Te(function(K,R){if(A(),!h)throw new Oe.MissingAPI;var q=l.name,L=c.autoSchema||!y?h.open(q):h.open(q,y);if(!L)throw new Oe.MissingAPI;L.onerror=En(R),L.onblocked=Ie(l._fireOnBlocked),L.onupgradeneeded=Ie(function(G){var X;H=L.transaction,c.autoSchema&&!l._options.allowEmptyDB?(L.onerror=yr,H.abort(),L.result.close(),(X=h.deleteDatabase(q)).onsuccess=X.onerror=Ie(function(){R(new Oe.NoSuchDatabase("Database ".concat(q," doesnt exist")))})):(H.onerror=En(R),G=G.oldVersion>Math.pow(2,62)?0:G.oldVersion,D=G<1,l.idbdb=L.result,k&&ro(l,H),$l(l,G/10,H,R))},R),L.onsuccess=Ie(function(){H=null;var G,X,W,ae,re,ve=l.idbdb=L.result,je=oe(ve.objectStoreNames);if(0<je.length)try{var we=ve.transaction((ae=je).length===1?ae[0]:ae,"readonly");if(c.autoSchema)X=ve,W=we,(G=l).verno=X.version/10,W=G._dbSchema=Xl(0,X,W),G._storeNames=oe(X.objectStoreNames,0),xr(G,[G._allTables],x(W),W);else if(Ql(l,l._dbSchema,we),((re=Qi(Xl(0,(re=l).idbdb,we),re._dbSchema)).add.length||re.change.some(function(Se){return Se.add.length||Se.change.length}))&&!k)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),ve.close(),y=ve.version+1,k=!0,K(_());Gl(l,we)}catch{}la.push(l),ve.onversionchange=Ie(function(Se){c.vcFired=!0,l.on("versionchange").fire(Se)}),ve.onclose=Ie(function(Se){l.on("close").fire(Se)}),D&&(re=l._deps,we=q,ve=re.indexedDB,re=re.IDBKeyRange,Vi(ve)||we===Oa||Pl(ve,re).put({name:we}).catch(st)),K()},R)}).catch(function(K){switch(K?.name){case"UnknownError":if(0<c.PR1398_maxLoop)return c.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),_();break;case"VersionError":if(0<y)return y=0,_()}return Te.reject(K)})}var O,B=c.dbReadyResolve,H=null,D=!1;return Te.race([g,(typeof navigator>"u"?Te.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(K){function R(){return indexedDB.databases().finally(K)}O=setInterval(R,100),R()}).finally(function(){return clearInterval(O)}):Promise.resolve()).then(_)]).then(function(){return A(),c.onReadyBeingFired=[],Te.resolve(Fi(function(){return l.on.ready.fire(l.vip)})).then(function K(){if(0<c.onReadyBeingFired.length){var R=c.onReadyBeingFired.reduce(Nt,st);return c.onReadyBeingFired=[],Te.resolve(Fi(function(){return R(l.vip)})).then(K)}})}).finally(function(){c.openCanceller===g&&(c.onReadyBeingFired=null,c.isBeingOpened=!1)}).catch(function(K){c.dbOpenError=K;try{H&&H.abort()}catch{}return g===c.openCanceller&&l._close(),Ot(K)}).finally(function(){c.openComplete=!0,B()}).then(function(){var K;return D&&(K={},l.tables.forEach(function(R){R.schema.indexes.forEach(function(q){q.name&&(K["idb://".concat(l.name,"/").concat(R.name,"/").concat(q.name)]=new en(-1/0,[[[]]]))}),K["idb://".concat(l.name,"/").concat(R.name,"/")]=K["idb://".concat(l.name,"/").concat(R.name,"/:dels")]=new en(-1/0,[[[]]])}),Fn(oa).fire(K),ts(K,!0)),l})}function Ha(l){function c(k){return l.next(k)}var h=y(c),g=y(function(k){return l.throw(k)});function y(k){return function(O){var _=k(O),O=_.value;return _.done?O:O&&typeof O.then=="function"?O.then(h,g):w(O)?Promise.all(O).then(h,g):h(O)}}return y(c)()}function Jl(l,c,h){for(var g=w(l)?l.slice():[l],y=0;y<h;++y)g.push(c);return g}var co={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(l){return u(u({},l),{table:function(c){var h=l.table(c),g=h.schema,y={},k=[];function A(D,K,R){var q=zn(D),L=y[q]=y[q]||[],G=D==null?0:typeof D=="string"?1:D.length,X=0<K,X=u(u({},R),{name:X?"".concat(q,"(virtual-from:").concat(R.name,")"):R.name,lowLevelIndex:R,isVirtual:X,keyTail:K,keyLength:G,extractKey:vr(D),unique:!X&&R.unique});return L.push(X),X.isPrimaryKey||k.push(X),1<G&&A(G===2?D[0]:D.slice(0,G-1),K+1,R),L.sort(function(W,ae){return W.keyTail-ae.keyTail}),X}c=A(g.primaryKey.keyPath,0,g.primaryKey),y[":id"]=[c];for(var _=0,O=g.indexes;_<O.length;_++){var B=O[_];A(B.keyPath,0,B)}function H(D){var K,R=D.query.index;return R.isVirtual?u(u({},D),{query:{index:R.lowLevelIndex,range:(K=D.query.range,R=R.keyTail,{type:K.type===1?2:K.type,lower:Jl(K.lower,K.lowerOpen?l.MAX_KEY:l.MIN_KEY,R),lowerOpen:!0,upper:Jl(K.upper,K.upperOpen?l.MIN_KEY:l.MAX_KEY,R),upperOpen:!0})}}):D}return u(u({},h),{schema:u(u({},g),{primaryKey:c,indexes:k,getIndexByKeyPath:function(D){return(D=y[zn(D)])&&D[0]}}),count:function(D){return h.count(H(D))},query:function(D){return h.query(H(D))},openCursor:function(D){var K=D.query.index,R=K.keyTail,q=K.isVirtual,L=K.keyLength;return q?h.openCursor(H(D)).then(function(X){return X&&G(X)}):h.openCursor(D);function G(X){return Object.create(X,{continue:{value:function(W){W!=null?X.continue(Jl(W,D.reverse?l.MAX_KEY:l.MIN_KEY,R)):D.unique?X.continue(X.key.slice(0,L).concat(D.reverse?l.MIN_KEY:l.MAX_KEY,R)):X.continue()}},continuePrimaryKey:{value:function(W,ae){X.continuePrimaryKey(Jl(W,l.MAX_KEY,R),ae)}},primaryKey:{get:function(){return X.primaryKey}},key:{get:function(){var W=X.key;return L===1?W[0]:W.slice(0,L)}},value:{get:function(){return X.value}}})}}})}})}};function Wl(l,c,h,g){return h=h||{},g=g||"",x(l).forEach(function(y){var k,A,_;T(c,y)?(k=l[y],A=c[y],typeof k=="object"&&typeof A=="object"&&k&&A?(_=Ve(k))!==Ve(A)?h[g+y]=c[y]:_==="Object"?Wl(k,A,h,g+y+"."):k!==A&&(h[g+y]=c[y]):k!==A&&(h[g+y]=c[y])):h[g+y]=void 0}),x(c).forEach(function(y){T(l,y)||(h[g+y]=c[y])}),h}function Il(l,c){return c.type==="delete"?c.keys:c.keys||c.values.map(l.extractKey)}var fo={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(l){return u(u({},l),{table:function(c){var h=l.table(c),g=h.schema.primaryKey;return u(u({},h),{mutate:function(y){var k=ze.trans,A=k.table(c).hook,_=A.deleting,O=A.creating,B=A.updating;switch(y.type){case"add":if(O.fire===st)break;return k._promise("readwrite",function(){return H(y)},!0);case"put":if(O.fire===st&&B.fire===st)break;return k._promise("readwrite",function(){return H(y)},!0);case"delete":if(_.fire===st)break;return k._promise("readwrite",function(){return H(y)},!0);case"deleteRange":if(_.fire===st)break;return k._promise("readwrite",function(){return(function D(K,R,q){return h.query({trans:K,values:!1,query:{index:g,range:R},limit:q}).then(function(L){var G=L.result;return H({type:"delete",keys:G,trans:K}).then(function(X){return 0<X.numFailures?Promise.reject(X.failures[0]):G.length<q?{failures:[],numFailures:0,lastResult:void 0}:D(K,u(u({},R),{lower:G[G.length-1],lowerOpen:!0}),q)})})})(y.trans,y.range,1e4)},!0)}return h.mutate(y);function H(D){var K,R,q,L=ze.trans,G=D.keys||Il(g,D);if(!G)throw new Error("Keys missing");return(D=D.type==="add"||D.type==="put"?u(u({},D),{keys:G}):u({},D)).type!=="delete"&&(D.values=m([],D.values)),D.keys&&(D.keys=m([],D.keys)),K=h,q=G,((R=D).type==="add"?Promise.resolve([]):K.getMany({trans:R.trans,keys:q,cache:"immutable"})).then(function(X){var W=G.map(function(ae,re){var ve,je,we,Se=X[re],ke={onerror:null,onsuccess:null};return D.type==="delete"?_.fire.call(ke,ae,Se,L):D.type==="add"||Se===void 0?(ve=O.fire.call(ke,ae,D.values[re],L),ae==null&&ve!=null&&(D.keys[re]=ae=ve,g.outbound||pe(D.values[re],g.keyPath,ae))):(ve=Wl(Se,D.values[re]),(je=B.fire.call(ke,ve,ae,Se,L))&&(we=D.values[re],Object.keys(je).forEach(function(Ee){T(we,Ee)?we[Ee]=je[Ee]:pe(we,Ee,je[Ee])}))),ke});return h.mutate(D).then(function(ae){for(var re=ae.failures,ve=ae.results,je=ae.numFailures,ae=ae.lastResult,we=0;we<G.length;++we){var Se=(ve||G)[we],ke=W[we];Se==null?ke.onerror&&ke.onerror(re[we]):ke.onsuccess&&ke.onsuccess(D.type==="put"&&X[we]?D.values[we]:Se)}return{failures:re,results:ve,numFailures:je,lastResult:ae}}).catch(function(ae){return W.forEach(function(re){return re.onerror&&re.onerror(ae)}),Promise.reject(ae)})})}}})}})}};function as(l,c,h){try{if(!c||c.keys.length<l.length)return null;for(var g=[],y=0,k=0;y<c.keys.length&&k<l.length;++y)nt(c.keys[y],l[k])===0&&(g.push(h?de(c.values[y]):c.values[y]),++k);return g.length===l.length?g:null}catch{return null}}var Sr={stack:"dbcore",level:-1,create:function(l){return{table:function(c){var h=l.table(c);return u(u({},h),{getMany:function(g){if(!g.cache)return h.getMany(g);var y=as(g.keys,g.trans._cache,g.cache==="clone");return y?Te.resolve(y):h.getMany(g).then(function(k){return g.trans._cache={keys:g.keys,values:g.cache==="clone"?de(k):k},k})},mutate:function(g){return g.type!=="add"&&(g.trans._cache=null),h.mutate(g)}})}}}};function ho(l,c){return l.trans.mode==="readonly"&&!!l.subscr&&!l.trans.explicit&&l.trans.db._options.cache!=="disabled"&&!c.schema.primaryKey.outbound}function mo(l,c){switch(l){case"query":return c.values&&!c.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var Mu={stack:"dbcore",level:0,name:"Observability",create:function(l){var c=l.schema.name,h=new en(l.MIN_KEY,l.MAX_KEY);return u(u({},l),{transaction:function(g,y,k){if(ze.subscr&&y!=="readonly")throw new Oe.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(ze.querier));return l.transaction(g,y,k)},table:function(g){var y=l.table(g),k=y.schema,A=k.primaryKey,D=k.indexes,_=A.extractKey,O=A.outbound,B=A.autoIncrement&&D.filter(function(R){return R.compound&&R.keyPath.includes(A.keyPath)}),H=u(u({},y),{mutate:function(R){function q(Ee){return Ee="idb://".concat(c,"/").concat(g,"/").concat(Ee),ae[Ee]||(ae[Ee]=new en)}var L,G,X,W=R.trans,ae=R.mutatedParts||(R.mutatedParts={}),re=q(""),ve=q(":dels"),je=R.type,ke=R.type==="deleteRange"?[R.range]:R.type==="delete"?[R.keys]:R.values.length<50?[Il(A,R).filter(function(Ee){return Ee}),R.values]:[],we=ke[0],Se=ke[1],ke=R.trans._cache;return w(we)?(re.addKeys(we),(ke=je==="delete"||we.length===Se.length?as(we,ke):null)||ve.addKeys(we),(ke||Se)&&(L=q,G=ke,X=Se,k.indexes.forEach(function(Ee){var Ne=L(Ee.name||"");function qe(Xe){return Xe!=null?Ee.extractKey(Xe):null}function Ze(Xe){return Ee.multiEntry&&w(Xe)?Xe.forEach(function(kt){return Ne.addKey(kt)}):Ne.addKey(Xe)}(G||X).forEach(function(Xe,Xt){var Ke=G&&qe(G[Xt]),Xt=X&&qe(X[Xt]);nt(Ke,Xt)!==0&&(Ke!=null&&Ze(Ke),Xt!=null&&Ze(Xt))})}))):we?(Se={from:(Se=we.lower)!==null&&Se!==void 0?Se:l.MIN_KEY,to:(Se=we.upper)!==null&&Se!==void 0?Se:l.MAX_KEY},ve.add(Se),re.add(Se)):(re.add(h),ve.add(h),k.indexes.forEach(function(Ee){return q(Ee.name).add(h)})),y.mutate(R).then(function(Ee){return!we||R.type!=="add"&&R.type!=="put"||(re.addKeys(Ee.results),B&&B.forEach(function(Ne){for(var qe=R.values.map(function(Ke){return Ne.extractKey(Ke)}),Ze=Ne.keyPath.findIndex(function(Ke){return Ke===A.keyPath}),Xe=0,kt=Ee.results.length;Xe<kt;++Xe)qe[Xe][Ze]=Ee.results[Xe];q(Ne.name).addKeys(qe)})),W.mutatedParts=Fl(W.mutatedParts||{},ae),Ee})}}),D=function(q){var L=q.query,q=L.index,L=L.range;return[q,new en((q=L.lower)!==null&&q!==void 0?q:l.MIN_KEY,(L=L.upper)!==null&&L!==void 0?L:l.MAX_KEY)]},K={get:function(R){return[A,new en(R.key)]},getMany:function(R){return[A,new en().addKeys(R.keys)]},count:D,query:D,openCursor:D};return x(K).forEach(function(R){H[R]=function(q){var L=ze.subscr,G=!!L,X=ho(ze,y)&&mo(R,q)?q.obsSet={}:L;if(G){var W=function(Se){return Se="idb://".concat(c,"/").concat(g,"/").concat(Se),X[Se]||(X[Se]=new en)},ae=W(""),re=W(":dels"),L=K[R](q),G=L[0],L=L[1];if((R==="query"&&G.isPrimaryKey&&!q.values?re:W(G.name||"")).add(L),!G.isPrimaryKey){if(R!=="count"){var ve=R==="query"&&O&&q.values&&y.query(u(u({},q),{values:!1}));return y[R].apply(this,arguments).then(function(Se){if(R==="query"){if(O&&q.values)return ve.then(function(qe){return qe=qe.result,ae.addKeys(qe),Se});var ke=q.values?Se.result.map(_):Se.result;(q.values?ae:re).addKeys(ke)}else if(R==="openCursor"){var Ee=Se,Ne=q.values;return Ee&&Object.create(Ee,{key:{get:function(){return re.addKey(Ee.primaryKey),Ee.key}},primaryKey:{get:function(){var qe=Ee.primaryKey;return re.addKey(qe),qe}},value:{get:function(){return Ne&&ae.addKey(Ee.primaryKey),Ee.value}}})}return Se})}re.add(h)}}return y[R].apply(this,arguments)}}),H}})}};function rs(l,c,h){if(h.numFailures===0)return c;if(c.type==="deleteRange")return null;var g=c.keys?c.keys.length:"values"in c&&c.values?c.values.length:1;return h.numFailures===g?null:(c=u({},c),w(c.keys)&&(c.keys=c.keys.filter(function(y,k){return!(k in h.failures)})),"values"in c&&w(c.values)&&(c.values=c.values.filter(function(y,k){return!(k in h.failures)})),c)}function ei(l,c){return h=l,((g=c).lower===void 0||(g.lowerOpen?0<nt(h,g.lower):0<=nt(h,g.lower)))&&(l=l,(c=c).upper===void 0||(c.upperOpen?nt(l,c.upper)<0:nt(l,c.upper)<=0));var h,g}function kr(l,c,K,g,y,k){if(!K||K.length===0)return l;var A=c.query.index,_=A.multiEntry,O=c.query.range,B=g.schema.primaryKey.extractKey,H=A.extractKey,D=(A.lowLevelIndex||A).extractKey,K=K.reduce(function(R,q){var L=R,G=[];if(q.type==="add"||q.type==="put")for(var X=new en,W=q.values.length-1;0<=W;--W){var ae,re=q.values[W],ve=B(re);X.hasKey(ve)||(ae=H(re),(_&&w(ae)?ae.some(function(Ee){return ei(Ee,O)}):ei(ae,O))&&(X.addKey(ve),G.push(re)))}switch(q.type){case"add":var je=new en().addKeys(c.values?R.map(function(Ne){return B(Ne)}):R),L=R.concat(c.values?G.filter(function(Ne){return Ne=B(Ne),!je.hasKey(Ne)&&(je.addKey(Ne),!0)}):G.map(function(Ne){return B(Ne)}).filter(function(Ne){return!je.hasKey(Ne)&&(je.addKey(Ne),!0)}));break;case"put":var we=new en().addKeys(q.values.map(function(Ne){return B(Ne)}));L=R.filter(function(Ne){return!we.hasKey(c.values?B(Ne):Ne)}).concat(c.values?G:G.map(function(Ne){return B(Ne)}));break;case"delete":var Se=new en().addKeys(q.keys);L=R.filter(function(Ne){return!Se.hasKey(c.values?B(Ne):Ne)});break;case"deleteRange":var ke=q.range;L=R.filter(function(Ne){return!ei(B(Ne),ke)})}return L},l);return K===l?l:(K.sort(function(R,q){return nt(D(R),D(q))||nt(B(R),B(q))}),c.limit&&c.limit<1/0&&(K.length>c.limit?K.length=c.limit:l.length===c.limit&&K.length<c.limit&&(y.dirty=!0)),k?Object.freeze(K):K)}function jr(l,c){return nt(l.lower,c.lower)===0&&nt(l.upper,c.upper)===0&&!!l.lowerOpen==!!c.lowerOpen&&!!l.upperOpen==!!c.upperOpen}function Ou(l,c){return(function(h,g,y,k){if(h===void 0)return g!==void 0?-1:0;if(g===void 0)return 1;if((g=nt(h,g))===0){if(y&&k)return 0;if(y)return 1;if(k)return-1}return g})(l.lower,c.lower,l.lowerOpen,c.lowerOpen)<=0&&0<=(function(h,g,y,k){if(h===void 0)return g!==void 0?1:0;if(g===void 0)return-1;if((g=nt(h,g))===0){if(y&&k)return 0;if(y)return-1;if(k)return 1}return g})(l.upper,c.upper,l.upperOpen,c.upperOpen)}function ti(l,c,h,g){l.subscribers.add(h),g.addEventListener("abort",function(){var y,k;l.subscribers.delete(h),l.subscribers.size===0&&(y=l,k=c,setTimeout(function(){y.subscribers.size===0&&Me(k,y)},3e3))})}var go={stack:"dbcore",level:0,name:"Cache",create:function(l){var c=l.schema.name;return u(u({},l),{transaction:function(h,g,y){var k,A,_=l.transaction(h,g,y);return g==="readwrite"&&(A=(k=new AbortController).signal,y=function(O){return function(){if(k.abort(),g==="readwrite"){for(var B=new Set,H=0,D=h;H<D.length;H++){var K=D[H],R=La["idb://".concat(c,"/").concat(K)];if(R){var q=l.table(K),L=R.optimisticOps.filter(function(Ne){return Ne.trans===_});if(_._explicit&&O&&_.mutatedParts)for(var G=0,X=Object.values(R.queries.query);G<X.length;G++)for(var W=0,ae=(je=X[G]).slice();W<ae.length;W++)Wi((we=ae[W]).obsSet,_.mutatedParts)&&(Me(je,we),we.subscribers.forEach(function(Ne){return B.add(Ne)}));else if(0<L.length){R.optimisticOps=R.optimisticOps.filter(function(Ne){return Ne.trans!==_});for(var re=0,ve=Object.values(R.queries.query);re<ve.length;re++)for(var je,we,Se,ke=0,Ee=(je=ve[re]).slice();ke<Ee.length;ke++)(we=Ee[ke]).res!=null&&_.mutatedParts&&(O&&!we.dirty?(Se=Object.isFrozen(we.res),Se=kr(we.res,we.req,L,q,we,Se),we.dirty?(Me(je,we),we.subscribers.forEach(function(Ne){return B.add(Ne)})):Se!==we.res&&(we.res=Se,we.promise=Te.resolve({result:Se}))):(we.dirty&&Me(je,we),we.subscribers.forEach(function(Ne){return B.add(Ne)})))}}}B.forEach(function(Ne){return Ne()})}}},_.addEventListener("abort",y(!1),{signal:A}),_.addEventListener("error",y(!1),{signal:A}),_.addEventListener("complete",y(!0),{signal:A})),_},table:function(h){var g=l.table(h),y=g.schema.primaryKey;return u(u({},g),{mutate:function(k){var A=ze.trans;if(y.outbound||A.db._options.cache==="disabled"||A.explicit||A.idbtrans.mode!=="readwrite")return g.mutate(k);var _=La["idb://".concat(c,"/").concat(h)];return _?(A=g.mutate(k),k.type!=="add"&&k.type!=="put"||!(50<=k.values.length||Il(y,k).some(function(O){return O==null}))?(_.optimisticOps.push(k),k.mutatedParts&&Zl(k.mutatedParts),A.then(function(O){0<O.numFailures&&(Me(_.optimisticOps,k),(O=rs(0,k,O))&&_.optimisticOps.push(O),k.mutatedParts&&Zl(k.mutatedParts))}),A.catch(function(){Me(_.optimisticOps,k),k.mutatedParts&&Zl(k.mutatedParts)})):A.then(function(O){var B=rs(0,u(u({},k),{values:k.values.map(function(H,D){var K;return O.failures[D]?H:(H=(K=y.keyPath)!==null&&K!==void 0&&K.includes(".")?de(H):u({},H),pe(H,y.keyPath,O.results[D]),H)})}),O);_.optimisticOps.push(B),queueMicrotask(function(){return k.mutatedParts&&Zl(k.mutatedParts)})}),A):g.mutate(k)},query:function(k){if(!ho(ze,g)||!mo("query",k))return g.query(k);var A=((B=ze.trans)===null||B===void 0?void 0:B.db._options.cache)==="immutable",D=ze,_=D.requery,O=D.signal,B=(function(q,L,G,X){var W=La["idb://".concat(q,"/").concat(L)];if(!W)return[];if(!(L=W.queries[G]))return[null,!1,W,null];var ae=L[(X.query?X.query.index.name:null)||""];if(!ae)return[null,!1,W,null];switch(G){case"query":var re=ae.find(function(ve){return ve.req.limit===X.limit&&ve.req.values===X.values&&jr(ve.req.query.range,X.query.range)});return re?[re,!0,W,ae]:[ae.find(function(ve){return("limit"in ve.req?ve.req.limit:1/0)>=X.limit&&(!X.values||ve.req.values)&&Ou(ve.req.query.range,X.query.range)}),!1,W,ae];case"count":return re=ae.find(function(ve){return jr(ve.req.query.range,X.query.range)}),[re,!!re,W,ae]}})(c,h,"query",k),H=B[0],D=B[1],K=B[2],R=B[3];return H&&D?H.obsSet=k.obsSet:(D=g.query(k).then(function(q){var L=q.result;if(H&&(H.res=L),A){for(var G=0,X=L.length;G<X;++G)Object.freeze(L[G]);Object.freeze(L)}else q.result=de(L);return q}).catch(function(q){return R&&H&&Me(R,H),Promise.reject(q)}),H={obsSet:k.obsSet,promise:D,subscribers:new Set,type:"query",req:k,dirty:!1},R?R.push(H):(R=[H],(K=K||(La["idb://".concat(c,"/").concat(h)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[k.query.index.name||""]=R)),ti(H,R,_,O),H.promise.then(function(q){return{result:kr(q.result,k,K?.optimisticOps,g,H,A)}})}})}})}};function yl(l,c){return new Proxy(l,{get:function(h,g,y){return g==="db"?c:Reflect.get(h,g,y)}})}var Bn=(Ct.prototype.version=function(l){if(isNaN(l)||l<.1)throw new Oe.Type("Given version is not a positive number");if(l=Math.round(10*l)/10,this.idbdb||this._state.isBeingOpened)throw new Oe.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,l);var c=this._versions,h=c.filter(function(g){return g._cfg.version===l})[0];return h||(h=new this.Version(l),c.push(h),c.sort(gl),h.stores({}),this._state.autoSchema=!1,h)},Ct.prototype._whenReady=function(l){var c=this;return this.idbdb&&(this._state.openComplete||ze.letThrough||this._vip)?l():new Te(function(h,g){if(c._state.openComplete)return g(new Oe.DatabaseClosed(c._state.dbOpenError));if(!c._state.isBeingOpened){if(!c._state.autoOpen)return void g(new Oe.DatabaseClosed);c.open().catch(st)}c._state.dbReadyPromise.then(h,g)}).then(l)},Ct.prototype.use=function(l){var c=l.stack,h=l.create,g=l.level,y=l.name;return y&&this.unuse({stack:c,name:y}),l=this._middlewares[c]||(this._middlewares[c]=[]),l.push({stack:c,create:h,level:g??10,name:y}),l.sort(function(k,A){return k.level-A.level}),this},Ct.prototype.unuse=function(l){var c=l.stack,h=l.name,g=l.create;return c&&this._middlewares[c]&&(this._middlewares[c]=this._middlewares[c].filter(function(y){return g?y.create!==g:!!h&&y.name!==h})),this},Ct.prototype.open=function(){var l=this;return pa(dn,function(){return ns(l)})},Ct.prototype._close=function(){this.on.close.fire(new CustomEvent("close"));var l=this._state,c=la.indexOf(this);if(0<=c&&la.splice(c,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}l.isBeingOpened||(l.dbReadyPromise=new Te(function(h){l.dbReadyResolve=h}),l.openCanceller=new Te(function(h,g){l.cancelOpen=g}))},Ct.prototype.close=function(h){var c=(h===void 0?{disableAutoOpen:!0}:h).disableAutoOpen,h=this._state;c?(h.isBeingOpened&&h.cancelOpen(new Oe.DatabaseClosed),this._close(),h.autoOpen=!1,h.dbOpenError=new Oe.DatabaseClosed):(this._close(),h.autoOpen=this._options.autoOpen||h.isBeingOpened,h.openComplete=!1,h.dbOpenError=null)},Ct.prototype.delete=function(l){var c=this;l===void 0&&(l={disableAutoOpen:!0});var h=0<arguments.length&&typeof arguments[0]!="object",g=this._state;return new Te(function(y,k){function A(){c.close(l);var _=c._deps.indexedDB.deleteDatabase(c.name);_.onsuccess=Ie(function(){var O,B,H;O=c._deps,B=c.name,H=O.indexedDB,O=O.IDBKeyRange,Vi(H)||B===Oa||Pl(H,O).delete(B).catch(st),y()}),_.onerror=En(k),_.onblocked=c._fireOnBlocked}if(h)throw new Oe.InvalidArgument("Invalid closeOptions argument to db.delete()");g.isBeingOpened?g.dbReadyPromise.then(A):A()})},Ct.prototype.backendDB=function(){return this.idbdb},Ct.prototype.isOpen=function(){return this.idbdb!==null},Ct.prototype.hasBeenClosed=function(){var l=this._state.dbOpenError;return l&&l.name==="DatabaseClosed"},Ct.prototype.hasFailed=function(){return this._state.dbOpenError!==null},Ct.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(Ct.prototype,"tables",{get:function(){var l=this;return x(this._allTables).map(function(c){return l._allTables[c]})},enumerable:!1,configurable:!0}),Ct.prototype.transaction=function(){var l=(function(c,h,g){var y=arguments.length;if(y<2)throw new Oe.InvalidArgument("Too few arguments");for(var k=new Array(y-1);--y;)k[y-1]=arguments[y];return g=k.pop(),[c,me(k),g]}).apply(this,arguments);return this._transaction.apply(this,l)},Ct.prototype._transaction=function(l,c,h){var g=this,y=ze.trans;y&&y.db===this&&l.indexOf("!")===-1||(y=null);var k,A,_=l.indexOf("?")!==-1;l=l.replace("!","").replace("?","");try{if(A=c.map(function(B){if(B=B instanceof g.Table?B.name:B,typeof B!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return B}),l=="r"||l===On)k=On;else{if(l!="rw"&&l!=il)throw new Oe.InvalidArgument("Invalid transaction mode: "+l);k=il}if(y){if(y.mode===On&&k===il){if(!_)throw new Oe.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");y=null}y&&A.forEach(function(B){if(y&&y.storeNames.indexOf(B)===-1){if(!_)throw new Oe.SubTransaction("Table "+B+" not included in parent transaction.");y=null}}),_&&y&&!y.active&&(y=null)}}catch(B){return y?y._promise(null,function(H,D){D(B)}):Ot(B)}var O=(function B(H,D,K,R,q){return Te.resolve().then(function(){var L=ze.transless||ze,G=H._createTransaction(D,K,H._dbSchema,R);if(G.explicit=!0,L={trans:G,transless:L},R)G.idbtrans=R.idbtrans;else try{G.create(),G.idbtrans._explicit=!0,H._state.PR1398_maxLoop=3}catch(ae){return ae.name===Zt.InvalidState&&H.isOpen()&&0<--H._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),H.close({disableAutoOpen:!1}),H.open().then(function(){return B(H,D,K,null,q)})):Ot(ae)}var X,W=ne(q);return W&&Mn(),L=Te.follow(function(){var ae;(X=q.call(G,G))&&(W?(ae=xn.bind(null,null),X.then(ae,ae)):typeof X.next=="function"&&typeof X.throw=="function"&&(X=Ha(X)))},L),(X&&typeof X.then=="function"?Te.resolve(X).then(function(ae){return G.active?ae:Ot(new Oe.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):L.then(function(){return X})).then(function(ae){return R&&G._resolve(),G._completion.then(function(){return ae})}).catch(function(ae){return G._reject(ae),Ot(ae)})})}).bind(null,this,k,A,y,h);return y?y._promise(k,O,"lock"):ze.trans?pa(ze.transless,function(){return g._whenReady(O)}):this._whenReady(O)},Ct.prototype.table=function(l){if(!T(this._allTables,l))throw new Oe.InvalidTable("Table ".concat(l," does not exist"));return this._allTables[l]},Ct);function Ct(l,c){var h=this;this._middlewares={},this.verno=0;var g=Ct.dependencies;this._options=c=u({addons:Ct.addons,autoOpen:!0,indexedDB:g.indexedDB,IDBKeyRange:g.IDBKeyRange,cache:"cloned"},c),this._deps={indexedDB:c.indexedDB,IDBKeyRange:c.IDBKeyRange},g=c.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var y,k,A,_,O,B={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:st,dbReadyPromise:null,cancelOpen:st,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:c.autoOpen};B.dbReadyPromise=new Te(function(D){B.dbReadyResolve=D}),B.openCanceller=new Te(function(D,K){B.cancelOpen=K}),this._state=B,this.name=l,this.on=hr(this,"populate","blocked","versionchange","close",{ready:[Nt,st]}),this.once=function(D,K){var R=function(){for(var q=[],L=0;L<arguments.length;L++)q[L]=arguments[L];h.on(D).unsubscribe(R),K.apply(h,q)};return h.on(D,R)},this.on.ready.subscribe=U(this.on.ready.subscribe,function(D){return function(K,R){Ct.vip(function(){var q,L=h._state;L.openComplete?(L.dbOpenError||Te.resolve().then(K),R&&D(K)):L.onReadyBeingFired?(L.onReadyBeingFired.push(K),R&&D(K)):(D(K),q=h,R||D(function G(){q.on.ready.unsubscribe(K),q.on.ready.unsubscribe(G)}))})}}),this.Collection=(y=this,wa(Cu.prototype,function(X,G){this.db=y;var R=Ra,q=null;if(G)try{R=G()}catch(W){q=W}var L=X._ctx,G=L.table,X=G.hook.reading.fire;this._ctx={table:G,index:L.index,isPrimKey:!L.index||G.schema.primKey.keyPath&&L.index===G.schema.primKey.name,range:R,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:q,or:L.or,valueMapper:X!==ta?X:null}})),this.Table=(k=this,wa(ao.prototype,function(D,K,R){this.db=k,this._tx=R,this.name=D,this.schema=K,this.hook=k._allTables[D]?k._allTables[D].hook:hr(null,{creating:[be,st],reading:[_a,ta],updating:[pn,st],deleting:[Fe,st]})})),this.Transaction=(A=this,wa(cl.prototype,function(D,K,R,q,L){var G=this;D!=="readonly"&&K.forEach(function(X){X=(X=R[X])===null||X===void 0?void 0:X.yProps,X&&(K=K.concat(X.map(function(W){return W.updatesTable})))}),this.db=A,this.mode=D,this.storeNames=K,this.schema=R,this.chromeTransactionDurability=q,this.idbtrans=null,this.on=hr(this,"complete","error","abort"),this.parent=L||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new Te(function(X,W){G._resolve=X,G._reject=W}),this._completion.then(function(){G.active=!1,G.on.complete.fire()},function(X){var W=G.active;return G.active=!1,G.on.error.fire(X),G.parent?G.parent._reject(X):W&&G.idbtrans&&G.idbtrans.abort(),Ot(X)})})),this.Version=(_=this,wa(Du.prototype,function(D){this.db=_,this._cfg={version:D,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(O=this,wa(Ua.prototype,function(D,K,R){if(this.db=O,this._ctx={table:D,index:K===":id"?null:K,or:R},this._cmp=this._ascending=nt,this._descending=function(q,L){return nt(L,q)},this._max=function(q,L){return 0<nt(q,L)?q:L},this._min=function(q,L){return nt(q,L)<0?q:L},this._IDBKeyRange=O._deps.IDBKeyRange,!this._IDBKeyRange)throw new Oe.MissingAPI})),this.on("versionchange",function(D){0<D.newVersion?console.warn("Another connection wants to upgrade database '".concat(h.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(h.name,"'. Closing db now to resume the delete request.")),h.close({disableAutoOpen:!1})}),this.on("blocked",function(D){!D.newVersion||D.newVersion<D.oldVersion?console.warn("Dexie.delete('".concat(h.name,"') was blocked")):console.warn("Upgrade '".concat(h.name,"' blocked by other connection holding version ").concat(D.oldVersion/10))}),this._maxKey=Sa(c.IDBKeyRange),this._createTransaction=function(D,K,R,q){return new h.Transaction(D,K,R,h._options.chromeTransactionDurability,q)},this._fireOnBlocked=function(D){h.on("blocked").fire(D),la.filter(function(K){return K.name===h.name&&K!==h&&!K._state.vcFired}).map(function(K){return K.on("versionchange").fire(D)})},this.use(Sr),this.use(go),this.use(Mu),this.use(co),this.use(fo);var H=new Proxy(this,{get:function(D,K,R){if(K==="_vip")return!0;if(K==="table")return function(L){return yl(h.table(L),H)};var q=Reflect.get(D,K,R);return q instanceof ao?yl(q,H):K==="tables"?q.map(function(L){return yl(L,H)}):K==="_createTransaction"?function(){return yl(q.apply(this,arguments),H)}:q}});this.vip=H,g.forEach(function(D){return D(h)})}var vl,Sn=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",po=(ls.prototype.subscribe=function(l,c,h){return this._subscribe(l&&typeof l!="function"?l:{next:l,error:c,complete:h})},ls.prototype[Sn]=function(){return this},ls);function ls(l){this._subscribe=l}try{vl={indexedDB:p.indexedDB||p.mozIndexedDB||p.webkitIndexedDB||p.msIndexedDB,IDBKeyRange:p.IDBKeyRange||p.webkitIDBKeyRange}}catch{vl={indexedDB:null,IDBKeyRange:null}}function yo(l){var c,h=!1,g=new po(function(y){var k=ne(l),A,_=!1,O={},B={},H={get closed(){return _},unsubscribe:function(){_||(_=!0,A&&A.abort(),D&&Fn.storagemutated.unsubscribe(R))}};y.start&&y.start(H);var D=!1,K=function(){return va(q)},R=function(L){Fl(O,L),Wi(B,O)&&K()},q=function(){var L,G,X;!_&&vl.indexedDB&&(O={},L={},A&&A.abort(),A=new AbortController,X=(function(W){var ae=Ma();try{k&&Mn();var re=Qn(l,W);return re=k?re.finally(xn):re}finally{ae&&cr()}})(G={subscr:L,signal:A.signal,requery:K,querier:l,trans:null}),Promise.resolve(X).then(function(W){h=!0,c=W,_||G.signal.aborted||(O={},(function(ae){for(var re in ae)if(T(ae,re))return;return 1})(B=L)||D||(Fn(oa,R),D=!0),va(function(){return!_&&y.next&&y.next(W)}))},function(W){h=!1,["DatabaseClosedError","AbortError"].includes(W?.name)||_||va(function(){_||y.error&&y.error(W)})}))};return setTimeout(K,0),H});return g.hasValue=function(){return h},g.getValue=function(){return c},g}var Ya=Bn;function is(l){var c=Ut;try{Ut=!0,Fn.storagemutated.fire(l),ts(l,!0)}finally{Ut=c}}Q(Ya,u(u({},Gn),{delete:function(l){return new Ya(l,{addons:[]}).delete()},exists:function(l){return new Ya(l,{addons:[]}).open().then(function(c){return c.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(l){try{return c=Ya.dependencies,h=c.indexedDB,c=c.IDBKeyRange,(Vi(h)?Promise.resolve(h.databases()).then(function(g){return g.map(function(y){return y.name}).filter(function(y){return y!==Oa})}):Pl(h,c).toCollection().primaryKeys()).then(l)}catch{return Ot(new Oe.MissingAPI)}var c,h},defineClass:function(){return function(l){N(this,l)}},ignoreTransaction:function(l){return ze.trans?pa(ze.transless,l):l()},vip:Fi,async:function(l){return function(){try{var c=Ha(l.apply(this,arguments));return c&&typeof c.then=="function"?c:Te.resolve(c)}catch(h){return Ot(h)}}},spawn:function(l,c,h){try{var g=Ha(l.apply(h,c||[]));return g&&typeof g.then=="function"?g:Te.resolve(g)}catch(y){return Ot(y)}},currentTransaction:{get:function(){return ze.trans||null}},waitFor:function(l,c){return c=Te.resolve(typeof l=="function"?Ya.ignoreTransaction(l):l).timeout(c||6e4),ze.trans?ze.trans.waitFor(c):c},Promise:Te,debug:{get:function(){return Dt},set:function(l){yn(l)}},derive:ee,extend:N,props:Q,override:U,Events:hr,on:Fn,liveQuery:yo,extendObservabilitySet:Fl,getByKeyPath:ue,setByKeyPath:pe,delByKeyPath:function(l,c){typeof c=="string"?pe(l,c,void 0):"length"in c&&[].map.call(c,function(h){pe(l,h,void 0)})},shallowClone:_e,deepClone:de,getObjectDiff:Wl,cmp:nt,asap:le,minKey:-1/0,addons:[],connections:la,errnames:Zt,dependencies:vl,cache:La,semVer:"4.2.0",version:"4.2.0".split(".").map(function(l){return parseInt(l)}).reduce(function(l,c,h){return l+c/Math.pow(10,2*h)})})),Ya.maxKey=Sa(Ya.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(Fn(oa,function(l){Ut||(l=new CustomEvent(Rn,{detail:l}),Ut=!0,dispatchEvent(l),Ut=!1)}),addEventListener(Rn,function(l){l=l.detail,Ut||is(l)}));var Nr,Ut=!1,Er=function(){};return typeof BroadcastChannel<"u"&&((Er=function(){(Nr=new BroadcastChannel(Rn)).onmessage=function(l){return l.data&&is(l.data)}})(),typeof Nr.unref=="function"&&Nr.unref(),Fn(oa,function(l){Ut||Nr.postMessage(l)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(l){if(!Bn.disableBfCache&&l.persisted){Dt&&console.debug("Dexie: handling persisted pagehide"),Nr?.close();for(var c=0,h=la;c<h.length;c++)h[c].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(l){!Bn.disableBfCache&&l.persisted&&(Dt&&console.debug("Dexie: handling persisted pageshow"),Er(),is({all:new en(-1/0,[[]])}))})),Te.rejectionMapper=function(l,c){return!l||l instanceof ye||l instanceof TypeError||l instanceof SyntaxError||!l.name||!fa[l.name]?l:(c=new fa[l.name](c||l.message,l),"stack"in l&&te(c,"stack",{get:function(){return this.inner.stack}}),c)},yn(Dt),u(Bn,Object.freeze({__proto__:null,Dexie:Bn,liveQuery:yo,Entity:Ll,cmp:nt,PropModification:gr,replacePrefix:function(l,c){return new gr({replacePrefix:[l,c]})},add:function(l){return new gr({add:l})},remove:function(l){return new gr({remove:l})},default:Bn,RangeSet:en,mergeRanges:pl,rangesOverlap:so}),{default:Bn}),Bn})})(wu)),wu.exports}var Xy=$y();const Cd=og(Xy),Vm=Symbol.for("Dexie"),Ai=globalThis[Vm]||(globalThis[Vm]=Cd);if(Cd.semVer!==Ai.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${Cd.semVer} and ${Ai.semVer}`);const{liveQuery:Rb,mergeRanges:zb,rangesOverlap:Bb,RangeSet:Ub,cmp:qb,Entity:Lb,PropModification:Hb,replacePrefix:Yb,add:Kb,remove:Gb,DexieYProvider:$b}=Ai;function Ci(r){if(!r)return"";if(r.startsWith("doi:")||r.includes("doi.org")){const o=r.match(/(?:doi:|doi\.org\/)(.+)/);if(o)return`doi:${o[1]}`}if(r.includes("arxiv.org")){const o=r.match(/arxiv\.org\/(?:abs|pdf)\/([^/?\s]+)/);if(o)return`arXiv:${o[1]}`}if(r.includes("overleaf.com"))return r.match(/overleaf\.com\/project\/([^/?\s]+)/)?"Overleaf Project":"Overleaf";if(r.includes("github.com")){const o=r.match(/github\.com\/([^/\s?]+)\/([^/\s?]+)(?:\/([^?\s]+))?/);if(o){const[,d,u,m]=o;return m&&!m.startsWith("?")?`${d}/${u}/${m.split("/")[0]}`:`${d}/${u}`}}try{const o=new URL(r.startsWith("http")?r:`https://${r}`),d=o.hostname.replace(/^www\./,""),u=o.pathname.replace(/\/$/,"");if(u&&u!=="/"){const m=u.split("/")[1];return`${d}/${m}`}return d}catch{return r.length>50?`${r.substring(0,47)}...`:r}}function Qy(r){return r.startsWith("doi:")?`https://doi.org/${r.replace("doi:","")}`:!r.startsWith("http://")&&!r.startsWith("https://")?`https://${r}`:r}function Py(r){return r?r.startsWith("doi:")||r.includes("doi.org")?"doi":r.includes("arxiv.org")?"arxiv":r.includes("github.com")?"github":r.includes("overleaf.com")?"overleaf":r.includes("zotero.org")||r.startsWith("zotero://")?"zotero":r.startsWith("file://")||r.startsWith("/")||r.match(/^[A-Za-z]:\\/)?"local":"url":"url"}function Vy(r,o){if(!r)throw new Error("URL is required");const d=Py(r),u=Ci(r);return{id:crypto.randomUUID(),type:d,url:r.trim(),title:u||void 0,description:void 0,addedAt:Date.now()}}function _d(r){return r.title||Ci(r.url)}function Tg(r){return Qy(r.url)}function Fy(r){if(r.type==="local")return r.url.startsWith("file://")||r.url.startsWith("/");try{return new URL(Tg(r)),!0}catch{return!1}}function Zy(r){switch(r){case"doi":return"article";case"arxiv":return"science";case"github":return"code";case"overleaf":return"edit";case"zotero":return"bookmark";case"local":return"folder";case"url":default:return"link"}}function Jy(r){switch(r){case"doi":return"DOI";case"arxiv":return"arXiv";case"github":return"GitHub";case"overleaf":return"Overleaf";case"zotero":return"Zotero";case"local":return"Local File";case"url":default:return"Website"}}function Fm(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(r){const o=Math.random()*16|0;return(r==="x"?o:o&3|8).toString(16)})}class Wy extends Ai{sessions;settings;musicPreferences;userPreferences;constructor(){super("ResearchTimerDB"),this.version(1).stores({sessions:"id, mode, startedAt, status, createdAt",settings:"id"}),this.version(2).stores({sessions:"id, mode, startedAt, status, createdAt",settings:"id"}),this.version(3).stores({sessions:"id, mode, startedAt, status, createdAt",settings:"id"}),this.version(4).stores({sessions:"id, mode, startedAt, status, createdAt",settings:"id"}).upgrade(async o=>{const d=await o.table("sessions").toArray();for(const u of d)if(u.link&&!u.links)try{const m=Vy(u.link);u.links=[m],await o.table("sessions").put(u),console.log(`Migrated session ${u.id} link to links array`)}catch(m){console.warn(`Failed to migrate link for session ${u.id}:`,m)}console.log(`Completed migration of ${d.length} sessions to v4`)}),this.version(5).stores({sessions:"id, mode, startedAt, status, createdAt",settings:"id"}).upgrade(async o=>{const d=await o.table("settings").get("global");d&&(d.ai={enabled:!1,provider:"ollama",model:"llama3:8b",baseUrl:"http://localhost:11434",bullets:5,maxChars:300,temperature:.2,includeJournal:!0},d.updatedAt=Date.now(),await o.table("settings").put(d),console.log("Initialized AI settings with privacy-first defaults"))}),this.version(6).stores({sessions:"id, mode, startedAt, status, createdAt",settings:"id"}).upgrade(async o=>{const d=await o.table("settings").get("global"),u=Date.now(),m={id:"app",version:1,createdAt:d?.createdAt||u,updatedAt:u,privacy:{telemetryEnabled:!1,userAnonId:Fm()},ai:d?.ai};await o.table("settings").put(m),d&&await o.table("settings").delete("global"),console.log("Migrated to AppSettings schema with privacy-first defaults")}),this.version(7).stores({sessions:"id, mode, startedAt, status, createdAt",settings:"id",musicPreferences:"id",userPreferences:"id"}).upgrade(async o=>{const d=Date.now(),u={id:"music",enabled:!1,source:null,volume:50,createdAt:d,updatedAt:d};await o.table("musicPreferences").put(u);const m={id:"user",focusMode:null,musicEnabled:!1,musicSource:null,backgroundsEnabled:!1,background:{autoChange:!0,interval:10},onboardingCompleted:!1,createdAt:d,updatedAt:d};await o.table("userPreferences").put(m),console.log("Initialized music and user preferences")}),this.on("ready",async()=>{if(!await this.settings.get("app")){const d=Date.now(),u={id:"app",version:1,createdAt:d,updatedAt:d,privacy:{telemetryEnabled:!1,userAnonId:Fm()}};await this.settings.put(u),console.log("Initialized default app settings")}})}}const $e=new Wy;function Ud(r){const[o,d]=E.useState(null),[u,m]=E.useState(!0),[p,x]=E.useState(null),w=E.useCallback(async()=>{try{m(!0),x(null);const T=await $e.sessions.get(r);if(!T)throw new Error("Session not found");d({mode:T.mode,journal:T.journal,journalDraft:T.journalDraft})}catch(T){console.error("Failed to load journal:",T),x(T instanceof Error?T.message:"Failed to load journal")}finally{m(!1)}},[r]),N=E.useCallback(async(T,Q,I)=>{try{const te=Date.now(),ee={journal:T,journalDraft:void 0,updatedAt:te};Q!==void 0&&(ee.aiSummary=Q||void 0),I!==void 0&&(ee.aiSummaryMeta=I||void 0),await $e.sessions.update(r,ee),d(fe=>fe?{...fe,journal:T,journalDraft:void 0}:null)}catch(te){throw console.error("Failed to save journal:",te),new Error("Failed to save journal")}},[r]),b=E.useCallback(async T=>{try{const Q=Date.now();await $e.sessions.update(r,{journalDraft:T,updatedAt:Q}),d(I=>I?{...I,journalDraft:T}:null)}catch(Q){console.error("Failed to save journal draft:",Q)}},[r]),S=E.useCallback(async()=>{try{const T=Date.now();await $e.sessions.update(r,{journalDraft:void 0,updatedAt:T}),d(Q=>Q?{...Q,journalDraft:void 0}:null)}catch(T){console.error("Failed to clear journal draft:",T)}},[r]);return E.useEffect(()=>{r&&w()},[r,w]),{data:o,loading:u,error:p,save:N,saveDraft:b,clearDraft:S,reload:w}}function Iy(r,o,d){var u,m;typeof r=="function"?(u=o||[],m=d):(u=[],m=o);var p=da.useRef({hasResult:!1,result:m,error:null}),x=da.useReducer(function(b){return b+1},0);x[0];var w=x[1],N=da.useMemo(function(){var b=typeof r=="function"?r():r;if(!b||typeof b.subscribe!="function")throw r===b?new TypeError("Given argument to useObservable() was neither a valid observable nor a function."):new TypeError("Observable factory given to useObservable() did not return a valid observable.");if(!p.current.hasResult&&typeof window<"u"&&(typeof b.hasValue!="function"||b.hasValue()))if(typeof b.getValue=="function")p.current.result=b.getValue(),p.current.hasResult=!0;else{var S=b.subscribe(function(T){p.current.result=T,p.current.hasResult=!0});typeof S=="function"?S():S.unsubscribe()}return b},u);if(da.useDebugValue(p.current.result),da.useEffect(function(){var b=N.subscribe(function(S){var T=p.current;(T.error!==null||T.result!==S)&&(T.error=null,T.result=S,T.hasResult=!0,w())},function(S){var T=p.current;T.error!==S&&(T.error=S,w())});return typeof b=="function"?b:b.unsubscribe.bind(b)},u),p.current.error)throw p.current.error;return p.current.result}function Ag(r,o,d){return Iy(function(){return Ai.liveQuery(r)},o||[],d)}typeof FinalizationRegistry<"u"&&new FinalizationRegistry(function(r){var o=Ai.DexieYProvider;o&&o.release(r)});async function to(r,o=3,d){const u=[0,500,1500];let m;for(let p=0;p<o;p++)try{if(d?.aborted)throw new Error("Request was cancelled");if(p>0&&(await new Promise(x=>setTimeout(x,u[p-1])),d?.aborted))throw new Error("Request was cancelled");return await r()}catch(x){if(m=x instanceof Error?x:new Error(String(x)),d?.aborted||m.message.includes("cancelled")||!(m.message.includes("429")||m.message.includes("5")||m.message.includes("timeout")||m.message.includes("network"))||p===o-1)throw m}throw m}function Rl(r){if(typeof r=="object"&&r!==null&&"name"in r&&r.name==="AbortError"||String(r).includes("cancelled"))return"Request was cancelled";if(String(r).includes("NetworkError")||String(r).includes("fetch"))return"Network connection failed";if(String(r).includes("401")||String(r).includes("Unauthorized"))return"Invalid API key or unauthorized";if(String(r).includes("429"))return"Rate limit exceeded - please try again later";if(String(r).includes("500")||String(r).includes("502")||String(r).includes("503"))return"Server temporarily unavailable";if(String(r).includes("timeout"))return"Request timed out";const o=typeof r=="object"&&r!==null&&"message"in r&&typeof r.message=="string"?r.message:String(r);return o.length>100?o.substring(0,97)+"...":o}class ev{name="ollama";async testConnection(o){try{const d=o.baseUrl||"http://localhost:11434",u=await fetch(`${d}/api/tags`,{method:"GET",signal:o.signal});if(!u.ok)return{ok:!1,message:`Ollama server responded with ${u.status}`};const p=(await u.json()).models||[];return o.model&&!p.some(w=>w.name===o.model||w.name.startsWith(o.model.split(":")[0]))?{ok:!1,message:`Model "${o.model}" not found. Available models: ${p.map(w=>w.name).join(", ")}`}:{ok:!0,message:`Connected to Ollama. ${p.length} model(s) available.`}}catch(d){return{ok:!1,message:Rl(d)}}}async summarize(o,d){return to(async()=>{const u=d.baseUrl||"http://localhost:11434",m=await fetch(`${u}/api/generate`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({model:d.model,prompt:o,stream:!1,options:{temperature:d.temperature||.2,num_predict:d.maxTokens||200}}),signal:d.signal});if(!m.ok)throw m.status===429||m.status>=500?new Error(`Ollama server error: ${m.status}`):new Error(`Ollama request failed: ${m.status} ${m.statusText}`);const p=await m.json();if(!p.response)throw new Error("Invalid response from Ollama: missing response text");return{text:p.response.trim(),tokensIn:p.prompt_eval_count,tokensOut:p.eval_count}},3,d.signal)}}class tv{name="openai";async testConnection(o){if(!o.apiKey)return{ok:!1,message:"OpenAI API key is required"};try{const d=await fetch("https://api.openai.com/v1/models",{method:"GET",headers:{Authorization:`Bearer ${o.apiKey}`,"Content-Type":"application/json"},signal:o.signal});if(!d.ok)return d.status===401?{ok:!1,message:"Invalid OpenAI API key"}:{ok:!1,message:`OpenAI API responded with ${d.status}`};const m=(await d.json()).data||[];return o.model&&!m.some(x=>x.id===o.model)?{ok:!1,message:`Model "${o.model}" not found or not accessible with your API key`}:{ok:!0,message:`Connected to OpenAI. ${m.length} model(s) available.`}}catch(d){return{ok:!1,message:Rl(d)}}}async summarize(o,d){if(!d.apiKey)throw new Error("OpenAI API key is required");return to(async()=>{const u=await fetch("https://api.openai.com/v1/chat/completions",{method:"POST",headers:{Authorization:`Bearer ${d.apiKey}`,"Content-Type":"application/json"},body:JSON.stringify({model:d.model,messages:[{role:"system",content:"You are a helpful assistant that creates concise, factual summaries of research sessions. Follow the format and length requirements exactly."},{role:"user",content:o}],temperature:d.temperature||.2,max_tokens:d.maxTokens||200}),signal:d.signal});if(!u.ok)throw u.status===429||u.status>=500?new Error(`OpenAI server error: ${u.status}`):new Error(`OpenAI request failed: ${u.status} ${u.statusText}`);const m=await u.json();if(!m.choices||m.choices.length===0||!m.choices[0].message?.content)throw new Error("Invalid response from OpenAI: missing content");return{text:m.choices[0].message.content.trim(),tokensIn:m.usage?.prompt_tokens,tokensOut:m.usage?.completion_tokens}},3,d.signal)}}class nv{name="anthropic";async testConnection(o){if(!o.apiKey)return{ok:!1,message:"Anthropic API key is required"};try{const d=await fetch("https://api.anthropic.com/v1/messages",{method:"POST",headers:{"x-api-key":o.apiKey||"","anthropic-version":"2023-06-01","Content-Type":"application/json"},body:JSON.stringify({model:o.model||"claude-3-haiku-20240307",max_tokens:10,messages:[{role:"user",content:"Hi"}]}),signal:o.signal});return d.ok?{ok:!0,message:"Connected to Anthropic Claude successfully"}:d.status===401?{ok:!1,message:"Invalid Anthropic API key"}:d.status===400&&(await d.json().catch(()=>null))?.error?.message?.includes("model")?{ok:!1,message:`Model "${o.model}" not found or not accessible`}:{ok:!1,message:`Anthropic API responded with ${d.status}`}}catch(d){return{ok:!1,message:Rl(d)}}}async summarize(o,d){if(!d.apiKey)throw new Error("Anthropic API key is required");return to(async()=>{const u=await fetch("https://api.anthropic.com/v1/messages",{method:"POST",headers:{"x-api-key":d.apiKey||"","anthropic-version":"2023-06-01","Content-Type":"application/json"},body:JSON.stringify({model:d.model,max_tokens:d.maxTokens||200,temperature:d.temperature||.2,messages:[{role:"user",content:o}]}),signal:d.signal});if(!u.ok)throw u.status===429||u.status>=500?new Error(`Anthropic server error: ${u.status}`):new Error(`Anthropic request failed: ${u.status} ${u.statusText}`);const m=await u.json();if(!m.content||m.content.length===0||!m.content[0].text)throw new Error("Invalid response from Anthropic: missing content");return{text:m.content[0].text.trim(),tokensIn:m.usage?.input_tokens,tokensOut:m.usage?.output_tokens}},3,d.signal)}}class av{name="gemini";async testConnection(o){if(!o.apiKey)return{ok:!1,message:"Google AI API key is required"};try{const d=o.model||"gemini-1.5-pro",u=await fetch(`https://generativelanguage.googleapis.com/v1beta/models/${d}:generateContent?key=${o.apiKey}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:"Hi"}]}],generationConfig:{maxOutputTokens:10}}),signal:o.signal});return u.ok?{ok:!0,message:"Connected to Google Gemini successfully"}:u.status===401||u.status===403?{ok:!1,message:"Invalid Google AI API key or permission denied"}:u.status===404?{ok:!1,message:`Model "${d}" not found`}:{ok:!1,message:`Google AI API responded with ${u.status}`}}catch(d){return{ok:!1,message:Rl(d)}}}async summarize(o,d){if(!d.apiKey)throw new Error("Google AI API key is required");return to(async()=>{const u=d.model||"gemini-1.5-pro",m=await fetch(`https://generativelanguage.googleapis.com/v1beta/models/${u}:generateContent?key=${d.apiKey}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:o}]}],generationConfig:{temperature:d.temperature||.2,maxOutputTokens:d.maxTokens||200}}),signal:d.signal});if(!m.ok)throw m.status===429||m.status>=500?new Error(`Google AI server error: ${m.status}`):new Error(`Google AI request failed: ${m.status} ${m.statusText}`);const p=await m.json();if(!p.candidates||p.candidates.length===0||!p.candidates[0].content||!p.candidates[0].content.parts||p.candidates[0].content.parts.length===0||!p.candidates[0].content.parts[0].text)throw new Error("Invalid response from Google AI: missing content");return{text:p.candidates[0].content.parts[0].text.trim(),tokensIn:p.usageMetadata?.promptTokenCount,tokensOut:p.usageMetadata?.candidatesTokenCount}},3,d.signal)}}class rv{name="groq";async testConnection(o){if(!o.apiKey)return{ok:!1,message:"Groq API key is required"};try{const d=await fetch("https://api.groq.com/openai/v1/models",{method:"GET",headers:{Authorization:`Bearer ${o.apiKey}`,"Content-Type":"application/json"},signal:o.signal});if(!d.ok)return d.status===401?{ok:!1,message:"Invalid Groq API key"}:{ok:!1,message:`Groq API responded with ${d.status}`};const m=(await d.json()).data||[];return o.model&&!m.some(x=>x.id===o.model)?{ok:!1,message:`Model "${o.model}" not found or not accessible with your API key`}:{ok:!0,message:`Connected to Groq. ${m.length} model(s) available.`}}catch(d){return{ok:!1,message:Rl(d)}}}async summarize(o,d){if(!d.apiKey)throw new Error("Groq API key is required");return to(async()=>{const u=await fetch("https://api.groq.com/openai/v1/chat/completions",{method:"POST",headers:{Authorization:`Bearer ${d.apiKey}`,"Content-Type":"application/json"},body:JSON.stringify({model:d.model,messages:[{role:"system",content:"You are a helpful assistant that creates concise, factual summaries of research sessions. Follow the format and length requirements exactly."},{role:"user",content:o}],temperature:d.temperature||.2,max_tokens:d.maxTokens||200,stream:!1}),signal:d.signal});if(!u.ok)throw u.status===429||u.status>=500?new Error(`Groq server error: ${u.status}`):new Error(`Groq request failed: ${u.status} ${u.statusText}`);const m=await u.json();if(!m.choices||m.choices.length===0||!m.choices[0].message?.content)throw new Error("Invalid response from Groq: missing content");return{text:m.choices[0].message.content.trim(),tokensIn:m.usage?.prompt_tokens,tokensOut:m.usage?.completion_tokens}},3,d.signal)}}function lv(r){switch(r.kind){case"lit":return[r.keyClaim&&`**Key Claim:** ${r.keyClaim}`,r.method&&`**Method:** ${r.method}`,r.limitation&&`**Limitation:** ${r.limitation}`].filter(Boolean).join(`
`);case"writing":return[r.wordsAdded!==null&&`**Words Added:** ${r.wordsAdded}`,r.sectionsTouched&&`**Sections:** ${r.sectionsTouched}`].filter(Boolean).join(`
`);case"analysis":return[r.scriptOrNotebook&&`**Script/Notebook:** ${r.scriptOrNotebook}`,r.datasetRef&&`**Dataset:** ${r.datasetRef}`,r.nextStep&&`**Next Step:** ${r.nextStep}`].filter(Boolean).join(`
`);case"deep":case"break":return r.whatMoved?`**Progress:** ${r.whatMoved}`:"";default:return""}}function iv(r){const{mode:o,goal:d,notes:u,journalMarkdown:m,bullets:p,maxChars:x}=r,w=[];return d?.trim()&&w.push(`Session Goal: ${d.trim()}`),u?.trim()&&w.push(`Notes: ${u.trim()}`),m?.trim()&&w.push(`Journal Entry:
${m.trim()}`),w.length===0?`Please provide ${p} brief factual bullets summarizing a ${o} research session with minimal available information. Total length must be  ${x} characters. Use format:
- First bullet point
- Second bullet point
- etc.

Do not fabricate details. If information is sparse, acknowledge this in the summary.`:`Please summarize this ${o} research session into exactly ${p} concise factual bullets. Total response length must be  ${x} characters.

Session Information:
${w.join(`

`)}

Requirements:
- Exactly ${p} bullet points using "- " format
- Be factual and precise - do not fabricate information
- Quote short key phrases when useful
- Total length  ${x} characters
- Focus on concrete outcomes and insights
- If information is limited, provide minimal factual bullets

Format:
- First key point or outcome
- Second key point or outcome
- etc.`}function sv(r,o){const d=o.includeJournal&&r.journal?lv(r.journal):void 0;return iv({mode:r.mode,goal:r.goal,notes:r.notes,journalMarkdown:d,bullets:o.bullets,maxChars:o.maxChars})}function Zm(r){switch(r){case"ollama":return new ev;case"openai":return new tv;case"anthropic":return new nv;case"gemini":return new av;case"groq":return new rv;default:throw new Error(`Unknown AI provider: ${r}`)}}function Cg(){const[r,o]=E.useState("idle"),[d,u]=E.useState(null),[m,p]=E.useState(null),x=E.useRef(null),w=Ag(async()=>(await $e.settings.get("app"))?.ai,[]);E.useEffect(()=>{o("idle"),u(null),p(null)},[w]);const N=w?.enabled??!1,b=E.useCallback(()=>!(!w||!N||!w.provider||!w.model||w.provider!=="ollama"&&!w.apiKey),[w,N]),S=E.useCallback(async()=>{if(!w||!N)return{ok:!1,message:"AI is not enabled or configured"};if(!b())return{ok:!1,message:"AI provider not properly configured"};try{const I=Zm(w.provider),te=new AbortController;return x.current=te,await I.testConnection({model:w.model,apiKey:w.apiKey,baseUrl:w.baseUrl,signal:te.signal})}catch(I){return{ok:!1,message:Rl(I)}}},[w,N,b]),T=E.useCallback(async I=>{if(!w||!N)return u("AI is not enabled"),o("error"),null;if(!b())return u("AI provider not configured"),o("error"),null;o("loading"),u(null),p(null);const te=new AbortController;x.current=te;try{const ee=Zm(w.provider),fe=sv(I,{bullets:w.bullets||5,maxChars:w.maxChars||300,includeJournal:w.includeJournal??!0});if(!I.goal?.trim()&&!I.notes?.trim()&&!I.journal){const oe="- Session completed; notes were sparse.";return p(oe),o("success"),{text:oe,tokensIn:0,tokensOut:0}}const he=await ee.summarize(fe,{model:w.model,apiKey:w.apiKey,baseUrl:w.baseUrl,temperature:w.temperature||.2,maxTokens:200,signal:te.signal});return p(he.text),o("success"),he}catch(ee){if(te.signal.aborted)return o("idle"),null;const fe=Rl(ee);return u(fe),o("error"),null}},[w,N,b]),Q=E.useCallback(()=>{x.current&&x.current.abort(),o("idle"),u(null)},[]);return{enabled:N,isConfigured:b(),status:r,error:d,result:m,testConnection:S,generateSummary:T,cancel:Q}}const $t=[{id:"lit",name:"Lit Review",duration:25,description:"Literature review and reading"},{id:"analysis",name:"Analysis",duration:45,description:"Data analysis and research"},{id:"writing",name:"Writing",duration:30,description:"Writing and documentation"},{id:"deep",name:"Deep Work",duration:90,description:"Deep focus sessions"},{id:"break",name:"Break",duration:15,description:"Rest and recovery"}],jn=300,_g=({open:r,mode:o,sessionId:d,session:u,onSave:m,onSkip:p,onCancel:x})=>{const{data:w,saveDraft:N}=Ud(d),[b,S]=E.useState({}),[T,Q]=E.useState({}),[I,te]=E.useState(!1),[ee,fe]=E.useState(!1),[he,oe]=E.useState(""),[,U]=E.useState(!1),Y=Cg(),le=E.useRef(null),ue=E.useRef(null),pe=E.useRef(null),_e=E.useRef(void 0),Le=$t.find(C=>C.id===o),me=C=>{switch(C){case"lit":return{kind:"lit",keyClaim:"",method:"",limitation:""};case"writing":return{kind:"writing",wordsAdded:null,sectionsTouched:""};case"analysis":return{kind:"analysis",scriptOrNotebook:"",datasetRef:"",nextStep:""};case"deep":case"break":return{kind:C,whatMoved:""};default:return{}}},Ae=E.useCallback(()=>{const C={};if(o==="writing"&&"wordsAdded"in b&&b.wordsAdded!==null&&b.wordsAdded!==void 0){const ne=Number(b.wordsAdded);(isNaN(ne)||ne<0)&&(C.wordsAdded="Words added must be a number  0 or left blank")}if(o==="analysis"){const ne="scriptOrNotebook"in b?b.scriptOrNotebook?.trim():"",ge="datasetRef"in b?b.datasetRef?.trim():"",ye="nextStep"in b?b.nextStep?.trim():"";(ne||ge)&&!ye&&(C.nextStep="Next step is required when script/notebook or dataset is provided")}return Q(C),Object.keys(C).length===0},[o,b]),Ce=E.useCallback(C=>{const ne={...C};Object.keys(ne).forEach(ye=>{const De=ne;typeof De[ye]=="string"&&(De[ye]=De[ye].trim())});const ge=ne;return ge.kind=o,ne},[o]),de=E.useCallback(()=>{if(!Ae())return;const C=Ce(b),ne=ee&&he.trim()?he.trim():void 0,ge=ne?{provider:"ollama",model:"llama3:8b",createdAt:Date.now()}:void 0;m(C,ne,ge)},[Ae,Ce,b,ee,he,m]),dt=E.useCallback(()=>{Y.cancel(),p()},[Y,p]),Ve=E.useCallback(()=>{(I||Y.status==="loading")&&!window.confirm("You have unsaved changes. Are you sure you want to cancel?")||(Y.cancel(),x())},[I,Y,x]);E.useEffect(()=>{if(!r||!w)return;const C=w.journal||w.journalDraft||me(o);S(C),te(!1),Q({})},[r,w,o]),E.useEffect(()=>{if(!r)return;const C=ge=>{ge.key==="Escape"?(ge.preventDefault(),Ve()):ge.key==="Enter"&&(ge.ctrlKey||ge.metaKey)&&(ge.preventDefault(),de())},ne=ge=>{if(ge.key!=="Tab"||!le.current)return;const ye=le.current.querySelectorAll('input, textarea, button, [tabindex]:not([tabindex="-1"])'),De=ye[0],Ye=ye[ye.length-1];ge.shiftKey?document.activeElement===De&&(ge.preventDefault(),Ye.focus()):document.activeElement===Ye&&(ge.preventDefault(),De.focus())};return document.addEventListener("keydown",C),document.addEventListener("keydown",ne),setTimeout(()=>{["lit","deep","break"].includes(o)?ue.current?.focus():pe.current?.focus()},100),()=>{document.removeEventListener("keydown",C),document.removeEventListener("keydown",ne)}},[r,o,Ve,de]),E.useEffect(()=>{if(!(!I||!r))return _e.current&&clearTimeout(_e.current),_e.current=setTimeout(()=>{N(b)},5e3),()=>{_e.current&&clearTimeout(_e.current)}},[b,I,r,N]);const F=(C,ne)=>{S(ge=>({...ge,[C]:ne})),te(!0),T[C]&&Q(ge=>({...ge,[C]:""}))},xe=async()=>{if(!u)return;const C=await Y.generateSummary(u);C&&(oe(C.text),U(!0))},Me=()=>ee?s.jsxs("div",{className:"border-t border-gray-300 dark:border-gray-600 pt-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h4",{className:"font-medium text-gray-800 dark:text-gray-200",children:"AI Summary"}),s.jsxs("div",{className:"flex items-center gap-2",children:[Y.status==="idle"&&!he&&s.jsx(We,{variant:"secondary",size:"sm",onClick:xe,disabled:!u||!Y.enabled||!Y.isConfigured,children:"Generate"}),Y.status==="loading"&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin w-4 h-4 border-2 border-gray-300 border-t-blue-600 rounded-full"}),s.jsx(We,{variant:"ghost",size:"sm",onClick:Y.cancel,children:"Cancel"})]}),Y.status==="error"&&s.jsx(We,{variant:"secondary",size:"sm",onClick:xe,disabled:!u||!Y.enabled||!Y.isConfigured,children:"Retry"}),(Y.status==="success"||he)&&s.jsx(We,{variant:"ghost",size:"sm",onClick:()=>{oe(""),U(!1)},children:"Clear"})]})]}),Y.status==="error"&&s.jsx("div",{className:"text-sm text-red-600 dark:text-red-400 mb-2",children:Y.error}),(Y.result||he)&&s.jsx(lt,{label:"AI Summary",htmlFor:"aiSummary",hint:"Editable before saving",children:s.jsx("textarea",{id:"aiSummary",value:he||Y.result||"",onChange:C=>{oe(C.target.value),U(!0)},onFocus:()=>U(!0),className:"w-full",rows:4,placeholder:"AI-generated summary will appear here...",readOnly:Y.status==="loading"})})]}):null,Pe=()=>{switch(o){case"lit":return s.jsxs(s.Fragment,{children:[s.jsxs(lt,{label:"Key Claim",htmlFor:"keyClaim",hint:`${("keyClaim"in b&&b.keyClaim||"").length}/${jn} characters`,children:[s.jsx("textarea",{ref:ue,id:"keyClaim",value:"keyClaim"in b&&b.keyClaim||"",onChange:C=>F("keyClaim",C.target.value.slice(0,jn)),className:"w-full",rows:3,placeholder:"What is the main claim or finding from this literature?",maxLength:jn,"aria-describedby":"keyClaim-help"}),s.jsx("div",{id:"keyClaim-help",className:"sr-only",children:"Describe the key claim or finding from the literature you reviewed"})]}),s.jsxs(lt,{label:"Method",htmlFor:"method",hint:`${("method"in b&&b.method||"").length}/${jn} characters`,children:[s.jsx("textarea",{id:"method",value:"method"in b&&b.method||"",onChange:C=>F("method",C.target.value.slice(0,jn)),className:"w-full",rows:3,placeholder:"How was this research conducted?",maxLength:jn,"aria-describedby":"method-help"}),s.jsx("div",{id:"method-help",className:"sr-only",children:"Describe the methodology used in the research"})]}),s.jsxs(lt,{label:"Limitation",htmlFor:"limitation",hint:`${("limitation"in b&&b.limitation||"").length}/${jn} characters`,children:[s.jsx("textarea",{id:"limitation",value:"limitation"in b&&b.limitation||"",onChange:C=>F("limitation",C.target.value.slice(0,jn)),className:"w-full",rows:3,placeholder:"What are the key limitations or gaps?",maxLength:jn,"aria-describedby":"limitation-help"}),s.jsx("div",{id:"limitation-help",className:"sr-only",children:"Note any limitations, gaps, or areas for improvement"})]})]});case"writing":return s.jsxs(s.Fragment,{children:[s.jsxs(lt,{label:"Words Added",htmlFor:"wordsAdded",hint:"Leave blank if not applicable",children:[s.jsx("input",{ref:pe,id:"wordsAdded",type:"number",min:"0",value:"wordsAdded"in b&&b.wordsAdded||"",onChange:C=>F("wordsAdded",C.target.value?parseInt(C.target.value):null),className:`w-full ${T.wordsAdded?"border-red-500":""}`,placeholder:"320","aria-describedby":"wordsAdded-help wordsAdded-error","aria-invalid":!!T.wordsAdded}),s.jsx("div",{id:"wordsAdded-help",className:"sr-only",children:"Approximate number of words added during this writing session"}),T.wordsAdded&&s.jsx("div",{id:"wordsAdded-error",className:"text-sm text-red-600 dark:text-red-400 mt-1",children:T.wordsAdded})]}),s.jsxs(lt,{label:"Sections Touched",htmlFor:"sectionsTouched",hint:`${("sectionsTouched"in b&&b.sectionsTouched||"").length}/${jn} characters`,children:[s.jsx("textarea",{id:"sectionsTouched",value:"sectionsTouched"in b&&b.sectionsTouched||"",onChange:C=>F("sectionsTouched",C.target.value.slice(0,jn)),className:"w-full",rows:3,placeholder:"Introduction, Methods section - improved flow and clarity",maxLength:jn,"aria-describedby":"sectionsTouched-help"}),s.jsx("div",{id:"sectionsTouched-help",className:"sr-only",children:"Which sections or parts did you work on?"})]})]});case"analysis":return s.jsxs(s.Fragment,{children:[s.jsxs(lt,{label:"Script/Notebook",htmlFor:"scriptOrNotebook",children:[s.jsx("input",{ref:pe,id:"scriptOrNotebook",type:"text",value:"scriptOrNotebook"in b&&b.scriptOrNotebook||"",onChange:C=>F("scriptOrNotebook",C.target.value),className:"w-full",placeholder:"analysis_v2.ipynb, data_cleaning.py","aria-describedby":"scriptOrNotebook-help"}),s.jsx("div",{id:"scriptOrNotebook-help",className:"sr-only",children:"Name of the script, notebook, or file you worked on"})]}),s.jsxs(lt,{label:"Dataset Reference",htmlFor:"datasetRef",children:[s.jsx("input",{id:"datasetRef",type:"text",value:"datasetRef"in b&&b.datasetRef||"",onChange:C=>F("datasetRef",C.target.value),className:"w-full",placeholder:"survey_data_2024.csv, /data/experiments/batch_2","aria-describedby":"datasetRef-help"}),s.jsx("div",{id:"datasetRef-help",className:"sr-only",children:"Dataset file, path, or URL you analyzed"})]}),s.jsxs(lt,{label:"Next Step",htmlFor:"nextStep",hint:"What's one actionable next step?",children:[s.jsx("textarea",{id:"nextStep",value:"nextStep"in b&&b.nextStep||"",onChange:C=>F("nextStep",C.target.value),className:`w-full ${T.nextStep?"border-red-500":""}`,rows:2,placeholder:"Run correlation analysis between variables X and Y","aria-describedby":"nextStep-help nextStep-error","aria-invalid":!!T.nextStep}),s.jsx("div",{id:"nextStep-help",className:"sr-only",children:"One specific next step to continue this analysis"}),T.nextStep&&s.jsx("div",{id:"nextStep-error",className:"text-sm text-red-600 dark:text-red-400 mt-1",children:T.nextStep})]})]});case"deep":case"break":return s.jsxs(lt,{label:"What Moved Forward?",htmlFor:"whatMoved",hint:`${("whatMoved"in b&&b.whatMoved||"").length}/${jn} characters`,children:[s.jsx("textarea",{ref:ue,id:"whatMoved",value:"whatMoved"in b&&b.whatMoved||"",onChange:C=>F("whatMoved",C.target.value.slice(0,jn)),className:"w-full",rows:4,placeholder:o==="break"?"How did this break help you recharge or gain perspective?":"What progress did you make? What insights emerged?",maxLength:jn,"aria-describedby":"whatMoved-help"}),s.jsx("div",{id:"whatMoved-help",className:"sr-only",children:o==="break"?"Reflect on how this break contributed to your work":"Capture what you accomplished and any insights"})]});default:return null}};return r?Eg.createPortal(s.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:s.jsxs("div",{className:"flex min-h-full items-center justify-center p-4",children:[s.jsx("div",{className:"fixed inset-0 bg-black/50 transition-opacity",onClick:Ve}),s.jsxs("div",{ref:le,className:"relative w-full max-w-md transform overflow-hidden rounded-lg bg-white dark:bg-gray-800 shadow-xl transition-all",role:"dialog","aria-modal":"true","aria-labelledby":"modal-title",children:[s.jsxs("div",{className:"px-6 py-4 border-b border-gray-300 dark:border-gray-600",children:[s.jsxs("h3",{id:"modal-title",className:"text-lg font-medium text-gray-800 dark:text-gray-200",children:[Le?.name,"  Quick Journal"]}),s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"Capture your insights from this session"})]}),s.jsxs("div",{className:"px-6 py-4 space-y-4 max-h-96 overflow-y-auto",children:[Pe(),s.jsx("div",{className:"border-t border-gray-300 dark:border-gray-600 pt-4",children:s.jsxs(lt,{label:"AI Summary Options",children:[s.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-800 dark:text-gray-200",children:[s.jsx("input",{type:"checkbox",checked:ee,disabled:!Y.enabled||!Y.isConfigured,onChange:C=>{fe(C.target.checked),C.target.checked||(oe(""),U(!1))},className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600 disabled:opacity-50"}),"Use AI to condense notes/journal",s.jsx("span",{className:"ml-1 px-2 py-1 text-xs bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 rounded-full",children:"Beta"})]}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1 ml-6",children:Y.enabled?Y.isConfigured?"AI will generate a 3-5 bullet summary that you can edit before saving":"Configure AI provider in Settings to use this feature":"Enable AI in Settings to use this feature"})]})}),Me()]}),s.jsxs("div",{className:"px-6 py-4 bg-gray-50 dark:bg-gray-800/50 border-t border-gray-300 dark:border-gray-600",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 sm:justify-end",children:[s.jsx(We,{variant:"ghost",onClick:Ve,children:"Cancel"}),s.jsx(We,{variant:"secondary",onClick:dt,children:"Skip"}),s.jsxs(We,{variant:"primary",onClick:de,children:["Save ",s.jsx("span",{className:"hidden sm:inline",children:"(Ctrl+Enter)"})]})]}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2",children:"Press Esc to cancel  Auto-saves draft after 5s"})]})]})]})}),document.body):null},pt=da.forwardRef(({className:r="",children:o,...d},u)=>s.jsx("div",{ref:u,className:`academic-card transition-shadow duration-200 ${r}`,...d,children:o}));pt.displayName="Card";const Ft=da.forwardRef(({className:r="",children:o,...d},u)=>s.jsx("div",{ref:u,className:`p-6 pb-4 border-b border-gray-200/50 dark:border-gray-700/50 ${r}`,...d,children:o}));Ft.displayName="CardHeader";const yt=da.forwardRef(({className:r="",children:o,...d},u)=>s.jsx("div",{ref:u,className:`px-6 py-6 ${r}`,...d,children:o}));yt.displayName="CardContent";const ov=da.forwardRef(({className:r="",children:o,...d},u)=>s.jsx("div",{ref:u,className:`px-6 pt-4 pb-6 border-t border-gray-200/50 dark:border-gray-700/50 ${r}`,...d,children:o}));ov.displayName="CardFooter";const uv=()=>{const[r,o]=E.useState(null),[d,u]=E.useState("youtube"),[m,p]=E.useState(""),[x,w]=E.useState(""),[N,b]=E.useState(null),[S,T]=E.useState(50),[Q,I]=E.useState(!1),te=E.useRef(null),ee=E.useRef(null);E.useEffect(()=>{(async()=>{try{const Ce=await $e.musicPreferences.get("music");Ce&&(o(Ce),u(Ce.source||"youtube"),p(Ce.youtubeUrl||""),w(Ce.spotifyUrl||""),T(Ce.volume))}catch(Ce){console.error("Failed to load music preferences:",Ce)}})()},[]);const fe=async Ae=>{try{const Ce=await $e.musicPreferences.get("music");if(Ce){const de={...Ce,...Ae,updatedAt:Date.now()};await $e.musicPreferences.put(de),o(de)}}catch(Ce){console.error("Failed to save music preferences:",Ce)}},he=Ae=>{const Ce=/(?:youtube\.com\/watch\?v=|youtu\.be\/|youtube\.com\/embed\/)([^&\n?#]+)/,de=Ae.match(Ce);return de?de[1]:null},oe=Ae=>{const Ce=/spotify\.com\/(track|playlist|album)\/([a-zA-Z0-9]+)/,de=Ae.match(Ce);return de?de[2]:null},U=Ae=>{u(Ae),fe({source:Ae})},Y=()=>{m&&fe({youtubeUrl:m,source:"youtube",enabled:!0})},le=()=>{x&&fe({spotifyUrl:x,source:"spotify",enabled:!0})},ue=Ae=>{const Ce=Ae.target.files?.[0];Ce&&(b(Ce),fe({localFile:Ce.name,source:"local",enabled:!0}))},pe=Ae=>{T(Ae),fe({volume:Ae}),te.current&&(te.current.volume=Ae/100)},_e=()=>{te.current&&(Q?te.current.pause():te.current.play(),I(!Q))},Le=m?he(m):null,me=x?oe(x):null;return r?.enabled?s.jsxs(pt,{"data-music-enabled":"true",children:[s.jsx(Ft,{children:s.jsx("h2",{className:"font-display text-xl font-medium bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Focus Music"})}),s.jsx(yt,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex space-x-1 bg-gray-100 dark:bg-gray-800 p-1 rounded-lg",children:[s.jsxs("button",{onClick:()=>U("youtube"),className:`flex-1 py-2 px-4 text-sm font-medium rounded-md transition-colors ${d==="youtube"?"bg-white dark:bg-gray-700 text-gray-900 dark:text-white shadow":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"}`,children:[s.jsx("span",{className:"material-icons text-sm mr-2",children:"play_circle"}),"YouTube"]}),s.jsxs("button",{onClick:()=>U("spotify"),className:`flex-1 py-2 px-4 text-sm font-medium rounded-md transition-colors ${d==="spotify"?"bg-white dark:bg-gray-700 text-gray-900 dark:text-white shadow":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"}`,children:[s.jsx("span",{className:"material-icons text-sm mr-2",children:"library_music"}),"Spotify"]}),s.jsxs("button",{onClick:()=>U("local"),className:`flex-1 py-2 px-4 text-sm font-medium rounded-md transition-colors ${d==="local"?"bg-white dark:bg-gray-700 text-gray-900 dark:text-white shadow":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"}`,children:[s.jsx("span",{className:"material-icons text-sm mr-2",children:"upload_file"}),"Local"]})]}),d==="youtube"&&s.jsxs("div",{className:"space-y-4",children:[s.jsx(lt,{label:"YouTube URL",htmlFor:"youtube-url",children:s.jsx("input",{id:"youtube-url",type:"url",value:m,onChange:Ae=>p(Ae.target.value),placeholder:"https://www.youtube.com/watch?v=...",className:"w-full"})}),s.jsx("div",{className:"flex gap-2",children:s.jsx(We,{onClick:Y,disabled:!m,variant:"primary",size:"sm",children:"Save & Play"})}),Le&&r.youtubeUrl&&s.jsx("div",{className:"aspect-video rounded-lg overflow-hidden",children:s.jsx("iframe",{src:`https://www.youtube.com/embed/${Le}?autoplay=0&controls=1`,className:"w-full h-full",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,title:"YouTube Music Player"})})]}),d==="spotify"&&s.jsxs("div",{className:"space-y-4",children:[s.jsx(lt,{label:"Spotify URL",htmlFor:"spotify-url",children:s.jsx("input",{id:"spotify-url",type:"url",value:x,onChange:Ae=>w(Ae.target.value),placeholder:"https://open.spotify.com/track/...",className:"w-full"})}),s.jsx("div",{className:"flex gap-2",children:s.jsx(We,{onClick:le,disabled:!x,variant:"primary",size:"sm",children:"Save & Play"})}),me&&r.spotifyUrl&&s.jsx("div",{className:"aspect-video rounded-lg overflow-hidden",children:s.jsx("iframe",{src:`https://open.spotify.com/embed/track/${me}`,className:"w-full h-full",allow:"autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture",title:"Spotify Music Player"})})]}),d==="local"&&s.jsxs("div",{className:"space-y-4",children:[s.jsx(lt,{label:"Upload Audio File",htmlFor:"local-file",children:s.jsx("input",{ref:ee,id:"local-file",type:"file",accept:"audio/*",onChange:ue,className:"w-full"})}),N&&s.jsxs("div",{className:"space-y-2",children:[s.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Selected: ",N.name]}),s.jsxs("audio",{ref:te,controls:!0,className:"w-full",onLoadedData:()=>{te.current&&(te.current.volume=S/100)},children:[s.jsx("source",{src:URL.createObjectURL(N)}),"Your browser does not support the audio element."]})]})]}),s.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-4",children:s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{className:"flex items-center space-x-4",children:[d==="local"&&N&&s.jsx(We,{onClick:_e,variant:"secondary",size:"sm",leftIcon:Q?"pause":"play_arrow","data-music-play":"true",children:Q?"Pause":"Play"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:"material-icons text-sm text-gray-500",children:"volume_up"}),s.jsx("input",{type:"range",min:"0",max:"100",value:S,onChange:Ae=>pe(Number(Ae.target.value)),className:"w-20"}),s.jsxs("span",{className:"text-sm text-gray-500 w-8",children:[S,"%"]})]})]})})})]})})]}):null},cv=({isOpen:r,onClose:o,title:d,children:u,className:m=""})=>(E.useEffect(()=>{const p=x=>{x.key==="Escape"&&o()};return r&&(document.addEventListener("keydown",p),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",p),document.body.style.overflow="unset"}},[r,o]),r?s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[s.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:o}),s.jsxs("div",{className:`relative bg-white dark:bg-gray-900 rounded-2xl shadow-2xl border border-gray-200/30 dark:border-gray-700/30 max-h-[90vh] overflow-y-auto ${m}`,children:[d&&s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:d}),s.jsx("button",{onClick:o,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg transition-colors",children:s.jsx("span",{className:"material-icons",children:"close"})})]}),u]})]}):null),Dg=({isOpen:r=!0,onComplete:o})=>{const[d,u]=E.useState(1),[m,p]=E.useState({focusMode:null,musicEnabled:!1,musicSource:null,backgroundsEnabled:!1});E.useEffect(()=>{r&&(async()=>{try{(await $e.userPreferences.get("user"))?.onboardingCompleted&&r&&o()}catch(Q){console.error("Failed to check onboarding status:",Q)}})()},[r,o]);const x=()=>{d<3&&u(T=>T+1)},w=()=>{d>1&&u(T=>T-1)},N=async()=>{try{const T=Date.now(),Q={id:"user",focusMode:m.focusMode,musicEnabled:m.musicEnabled,musicSource:m.musicSource,backgroundsEnabled:m.backgroundsEnabled,background:{autoChange:!0,interval:10},onboardingCompleted:!0,createdAt:T,updatedAt:T};if(await $e.userPreferences.put(Q),m.musicEnabled){const I=await $e.musicPreferences.get("music");I&&await $e.musicPreferences.put({...I,enabled:!0,source:m.musicSource,updatedAt:T})}o()}catch(T){console.error("Failed to save onboarding preferences:",T)}},b=T=>{p(Q=>({...Q,...T}))},S=()=>{switch(d){case 1:return m.focusMode!==null;case 2:return!0;case 3:return!0;default:return!1}};return s.jsx(cv,{isOpen:r,onClose:()=>{},title:"",className:"max-w-2xl",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("div",{className:"flex justify-center items-center space-x-4 mb-4",children:[1,2,3].map(T=>s.jsxs(da.Fragment,{children:[s.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium transition-colors ${T===d?"bg-blue-600 text-white":T<d?"bg-green-500 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-600 dark:text-gray-400"}`,children:T<d?s.jsx("span",{className:"material-icons text-sm",children:"check"}):T}),T<3&&s.jsx("div",{className:`w-16 h-0.5 transition-colors ${T<d?"bg-green-500":"bg-gray-200 dark:bg-gray-700"}`})]},T))}),s.jsxs("p",{className:"text-center text-sm text-gray-600 dark:text-gray-400",children:["Step ",d," of 3"]})]}),s.jsxs("div",{className:"min-h-[300px]",children:[d===1&&s.jsxs("div",{className:"text-center space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("h2",{className:"font-display text-2xl font-bold text-gray-900 dark:text-white",children:"Welcome to Research Timer Pro! "}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"What's your primary focus activity? This helps us tailor your experience."})]}),s.jsx("div",{className:"grid grid-cols-1 gap-3 max-w-sm mx-auto",children:[{id:"deep",name:"Deep Research",description:"Complex analysis, writing papers",duration:25,icon:""},{id:"reading",name:"Reading & Review",description:"Papers, books, documentation",duration:30,icon:""},{id:"coding",name:"Programming",description:"Coding, debugging, development",duration:25,icon:""},{id:"writing",name:"Academic Writing",description:"Papers, proposals, reports",duration:45,icon:""}].map(T=>s.jsx("button",{onClick:()=>b({focusMode:T.id}),className:`p-4 rounded-lg border-2 transition-all text-left ${m.focusMode===T.id?"border-blue-600 bg-blue-600/10 dark:bg-blue-600/20":"border-gray-200 dark:border-gray-700 hover:border-blue-600/50"}`,children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("span",{className:"text-2xl",children:T.icon}),s.jsxs("div",{className:"text-left flex-1",children:[s.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:T.name}),s.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:T.description}),s.jsxs("div",{className:"text-xs text-blue-600 dark:text-blue-400 font-medium mt-1",children:["Default: ",T.duration," minutes"]})]})]})},T.id))})]}),d===2&&s.jsxs("div",{className:"text-center space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("h2",{className:"font-display text-2xl font-bold text-gray-900 dark:text-white",children:"Focus Environment "}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"How do you prefer to work? Choose what helps you concentrate best."})]}),s.jsxs("div",{className:"space-y-3 max-w-sm mx-auto",children:[s.jsx("button",{onClick:()=>b({musicEnabled:!1,musicSource:null}),className:`w-full p-4 rounded-lg border-2 transition-all text-left ${m.musicEnabled?"border-gray-200 dark:border-gray-700 hover:border-blue-600/50":"border-blue-600 bg-blue-600/10 dark:bg-blue-600/20"}`,children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("span",{className:"text-xl",children:""}),s.jsxs("div",{className:"text-left",children:[s.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:"Silent Focus"}),s.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Pure concentration in silence"})]})]})}),s.jsx("button",{onClick:()=>b({musicEnabled:!0,musicSource:"youtube"}),className:`w-full p-4 rounded-lg border-2 transition-all text-left ${m.musicEnabled&&m.musicSource==="youtube"?"border-blue-600 bg-blue-600/10 dark:bg-blue-600/20":"border-gray-200 dark:border-gray-700 hover:border-blue-600/50"}`,children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("span",{className:"text-xl",children:""}),s.jsxs("div",{className:"text-left",children:[s.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:"Background Music"}),s.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Ambient sounds and lo-fi beats"})]})]})}),s.jsx("button",{onClick:()=>b({musicEnabled:!0,musicSource:"local"}),className:`w-full p-4 rounded-lg border-2 transition-all text-left ${m.musicEnabled&&m.musicSource==="local"?"border-blue-600 bg-blue-600/10 dark:bg-blue-600/20":"border-gray-200 dark:border-gray-700 hover:border-blue-600/50"}`,children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("span",{className:"text-xl",children:""}),s.jsxs("div",{className:"text-left",children:[s.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:"My Music"}),s.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Upload your own audio files"})]})]})})]}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-4",children:" You can change this later in Settings"})]}),d===3&&s.jsxs("div",{className:"text-center space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("h2",{className:"font-display text-2xl font-bold text-gray-900 dark:text-white",children:"Perfect! You're all set! "}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Your Research Timer Pro is ready to boost your productivity."})]}),s.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 p-6 rounded-lg max-w-md mx-auto",children:s.jsxs("div",{className:"text-center space-y-4",children:[s.jsx("div",{className:"text-4xl",children:""}),s.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:"Quick Start Tips"}),s.jsxs("ul",{className:"text-sm text-gray-600 dark:text-gray-400 space-y-2 text-left",children:[s.jsxs("li",{className:"flex items-start",children:[s.jsx("span",{className:"text-blue-600 mr-2",children:""}),"Use ",s.jsx("kbd",{className:"px-1 py-0.5 bg-gray-200 dark:bg-gray-700 rounded text-xs",children:"Space"})," to start/pause timer"]}),s.jsxs("li",{className:"flex items-start",children:[s.jsx("span",{className:"text-blue-600 mr-2",children:""}),"Timer auto-floats when you minimize the browser"]}),s.jsxs("li",{className:"flex items-start",children:[s.jsx("span",{className:"text-blue-600 mr-2",children:""}),"Track your progress in Timeline and Analytics"]}),s.jsxs("li",{className:"flex items-start",children:[s.jsx("span",{className:"text-blue-600 mr-2",children:""}),"Customize everything in Settings"]})]})]})}),s.jsx("div",{className:"p-4 bg-green-50 dark:bg-green-900/20 rounded-lg max-w-md mx-auto",children:s.jsxs("div",{className:"flex items-center justify-center space-x-2 text-green-800 dark:text-green-200",children:[s.jsx("span",{className:"material-icons text-sm",children:"check_circle"}),s.jsx("p",{className:"text-sm font-medium",children:"Ready to start your first focus session!"})]})})]})]}),s.jsxs("div",{className:"flex justify-between items-center mt-8 pt-6 border-t border-gray-200 dark:border-gray-700",children:[s.jsx(We,{onClick:w,variant:"ghost",disabled:d===1,children:"Back"}),d<3?s.jsx(We,{onClick:x,disabled:!S(),variant:"primary",children:"Next"}):s.jsx(We,{onClick:N,variant:"primary",children:"Get Started! "})]})]})})},un=[];for(let r=0;r<256;++r)un.push((r+256).toString(16).slice(1));function dv(r,o=0){return(un[r[o+0]]+un[r[o+1]]+un[r[o+2]]+un[r[o+3]]+"-"+un[r[o+4]]+un[r[o+5]]+"-"+un[r[o+6]]+un[r[o+7]]+"-"+un[r[o+8]]+un[r[o+9]]+"-"+un[r[o+10]]+un[r[o+11]]+un[r[o+12]]+un[r[o+13]]+un[r[o+14]]+un[r[o+15]]).toLowerCase()}let kd;const fv=new Uint8Array(16);function hv(){if(!kd){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");kd=crypto.getRandomValues.bind(crypto)}return kd(fv)}const mv=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Jm={randomUUID:mv};function gv(r,o,d){r=r||{};const u=r.random??r.rng?.()??hv();if(u.length<16)throw new Error("Random bytes length must be >= 16");return u[6]=u[6]&15|64,u[8]=u[8]&63|128,dv(u)}function pv(r,o,d){return Jm.randomUUID&&!r?Jm.randomUUID():gv(r)}function yv({duration:r,onComplete:o,onTick:d,interval:u=100}){const[m,p]=E.useState(!1),[x,w]=E.useState(!1),[N,b]=E.useState(r),[S,T]=E.useState(0),[Q,I]=E.useState(!1),[te,ee]=E.useState(r),fe=E.useRef(null),he=E.useRef(0),oe=E.useRef(null),U=E.useCallback(()=>{if(!fe.current)return;const dt=Date.now()-fe.current-he.current,Ve=Math.max(0,te-dt);T(dt),b(Ve),d?.({remainingMs:Ve,elapsedMs:dt,isRunning:m,isPaused:x,isCompleted:Ve===0}),Ve===0&&!Q&&(I(!0),p(!1),o?.(),oe.current&&(clearInterval(oe.current),oe.current=null))},[te,m,x,Q,o,d]),Y=E.useCallback(()=>{Q||(fe.current=Date.now(),he.current=0,p(!0),w(!1),oe.current=setInterval(U,u))},[Q,U,u]),le=E.useRef(null),ue=E.useCallback(()=>{!m||x||(le.current=Date.now(),w(!0),p(!1),oe.current&&(clearInterval(oe.current),oe.current=null))},[m,x]),pe=E.useCallback(()=>{if(!x||!le.current)return;const de=Date.now()-le.current;he.current+=de,le.current=null,w(!1),p(!0),oe.current=setInterval(U,u)},[x,U,u]),_e=E.useCallback(()=>{p(!1),w(!1),I(!1),b(te),T(0),fe.current=null,he.current=0,le.current=null,oe.current&&(clearInterval(oe.current),oe.current=null)},[te]),Le=E.useCallback(()=>{p(!1),w(!1),oe.current&&(clearInterval(oe.current),oe.current=null)},[]),me=E.useCallback(de=>{m||(ee(de),b(de),T(0),I(!1))},[m]);return E.useEffect(()=>{m||(ee(r),b(r),T(0),I(!1))},[r,m]),E.useEffect(()=>()=>{oe.current&&clearInterval(oe.current)},[]),[{remainingMs:N,elapsedMs:S,isRunning:m,isPaused:x,isCompleted:Q},{start:Y,pause:ue,resume:pe,reset:_e,stop:Le,setDuration:me}]}function vv(r,o){let d,u=!1;const m=(...p)=>{u||(clearTimeout(d),d=setTimeout(()=>{u||r(...p)},o))};return m.cancel=()=>{u=!0,clearTimeout(d)},m}class xv{audioContext=null;enabled=!0;constructor(){this.initAudioContext()}async initAudioContext(){try{this.audioContext=new(window.AudioContext||window.webkitAudioContext)}catch(o){console.warn("Web Audio API not supported:",o)}}async ensureAudioContext(){this.audioContext||await this.initAudioContext(),this.audioContext&&this.audioContext.state==="suspended"&&await this.audioContext.resume()}async playTone(o,d,u="sine"){if(!(!this.enabled||!this.audioContext))try{await this.ensureAudioContext();const m=this.audioContext.createOscillator(),p=this.audioContext.createGain();m.connect(p),p.connect(this.audioContext.destination),m.frequency.value=o,m.type=u,p.gain.setValueAtTime(0,this.audioContext.currentTime),p.gain.linearRampToValueAtTime(.3,this.audioContext.currentTime+.01),p.gain.exponentialRampToValueAtTime(.01,this.audioContext.currentTime+d),m.start(this.audioContext.currentTime),m.stop(this.audioContext.currentTime+d)}catch(m){console.warn("Failed to play sound:",m)}}async playStart(){await this.playTone(800,.2),setTimeout(()=>this.playTone(1e3,.2),100)}async playPause(){await this.playTone(600,.3)}async playResume(){await this.playTone(700,.15),setTimeout(()=>this.playTone(900,.15),80)}async playStop(){await this.playTone(1e3,.15),setTimeout(()=>this.playTone(800,.15),80),setTimeout(()=>this.playTone(600,.2),160)}async playComplete(){await this.playTone(800,.2),setTimeout(()=>this.playTone(1e3,.2),100),setTimeout(()=>this.playTone(1200,.3),200)}async playTick(){this.enabled&&await this.playTone(800,.05,"square")}setEnabled(o){this.enabled=o}isEnabled(){return this.enabled}}const Zr=new xv;let Wm=!1;const bv=()=>{if(Wm)return;const r=()=>{Zr.initAudioContext(),Wm=!0,document.removeEventListener("click",r),document.removeEventListener("keydown",r),document.removeEventListener("touchstart",r)};document.addEventListener("click",r),document.addEventListener("keydown",r),document.addEventListener("touchstart",r)};function wv({onComplete:r,onMetadataUpdate:o,autoSaveDelayMs:d=800}={}){const[u,m]=E.useState(null),[p,x]=E.useState(0),w=E.useRef({}),N=E.useRef(!0);E.useEffect(()=>{bv()},[]);const[b,S]=yv({duration:p,onComplete:()=>Q(),interval:100}),T=E.useCallback(vv(async(le,ue)=>{if(N.current)try{const pe=Date.now();await $e.sessions.update(le,{...ue,updatedAt:pe}),m(_e=>{if(!_e||_e.id!==le)return _e;const Le={..._e,...ue,updatedAt:pe};return o?.(Le),Le})}catch(pe){console.error("Failed to save session metadata:",pe)}},d),[d,o]),Q=E.useCallback(async()=>{if(u)try{const le=Date.now(),ue={...u,...w.current,endedAt:le,status:"completed",updatedAt:le};await $e.sessions.update(u.id,{endedAt:le,status:"completed",updatedAt:le,...w.current}),m(ue),Zr.playComplete(),r?.(ue),w.current={}}catch(le){console.error("Failed to complete session:",le)}},[u,r]),I=E.useCallback(async(le,ue)=>{const pe=ue??le.duration*60*1e3,_e=Date.now(),Le={id:pv(),mode:le.id,plannedMs:pe,startedAt:_e,status:"running",goal:"",notes:"",tags:[],link:"",createdAt:_e,updatedAt:_e};try{await $e.sessions.add(Le),m(Le),w.current={},x(pe),Zr.playStart(),S.setDuration(pe),S.reset(),S.start()}catch(me){console.error("Failed to start session:",me)}},[S]),te=E.useCallback(()=>{S.pause(),Zr.playPause()},[S]),ee=E.useCallback(()=>{S.resume(),Zr.playResume()},[S]),fe=E.useCallback(async(le=!1)=>{if(u)try{const ue=Date.now(),pe=le?"cancelled":"completed",_e={...u,...w.current,endedAt:ue,status:pe,updatedAt:ue};await $e.sessions.update(u.id,{endedAt:ue,status:pe,updatedAt:ue,...w.current}),m(_e),S.stop(),le?Zr.playStop():Zr.playComplete(),le||r?.(_e),w.current={}}catch(ue){console.error("Failed to stop session:",ue)}},[u,S,r]),he=E.useCallback(()=>{S.reset(),m(null),x(1500*1e3),w.current={},Zr.playStop()},[S]),oe=E.useCallback(le=>{u&&(w.current={...w.current,...le},m(ue=>ue&&{...ue,...le}),T(u.id,le))},[u,T]);return E.useEffect(()=>(N.current=!0,()=>{N.current=!1,T.cancel?.()}),[T]),[{currentSession:u,isRunning:b.isRunning,isPaused:b.isPaused,isCompleted:b.isCompleted,remainingMs:b.remainingMs,elapsedMs:b.elapsedMs,plannedMs:p},{startSession:I,pauseSession:te,resumeSession:ee,stopSession:fe,resetSession:he,updateMetadata:oe}]}const Sv={workDuration:25,shortBreakDuration:5,longBreakDuration:15,sessionsPerCycle:4,autoStartBreaks:!1,autoStartWork:!1};function kv(r={},o,d){const[u,m]=E.useState({...Sv,...r}),[p,x]=E.useState(u.workDuration*60*1e3),[w,N]=E.useState(!1),[b,S]=E.useState(!1),[T,Q]=E.useState("work"),[I,te]=E.useState(1),[ee,fe]=E.useState(0),[he,oe]=E.useState(0),U=E.useRef(null),Y=E.useRef(0),le=E.useRef(0),ue=E.useCallback(()=>{switch(T){case"work":return u.workDuration*60*1e3;case"shortBreak":return u.shortBreakDuration*60*1e3;case"longBreak":return u.longBreakDuration*60*1e3;default:return u.workDuration*60*1e3}},[T,u]),pe=Math.max(0,Math.min(100,(ue()-p)/ue()*100)),_e=E.useCallback(()=>{const Me=Date.now()-Y.current,Pe=le.current+Me,C=ue(),ne=Math.max(0,C-Pe);if(x(ne),ne<=0){N(!1),S(!1),le.current=0,o?.(T);let ge,ye=I,De=ee,Ye=he;T==="work"?(De+=1,I>=u.sessionsPerCycle?(ge="longBreak",ye=1,Ye+=1):(ge="shortBreak",ye+=1)):ge="work",Q(ge),te(ye),fe(De),oe(Ye),d?.(ge);const Ue=(()=>{switch(ge){case"work":return u.workDuration*60*1e3;case"shortBreak":return u.shortBreakDuration*60*1e3;case"longBreak":return u.longBreakDuration*60*1e3}})();x(Ue),(ge!=="work"&&u.autoStartBreaks||ge==="work"&&u.autoStartWork)&&setTimeout(()=>{Y.current=Date.now(),le.current=0,N(!0),S(!1)},1e3)}},[T,I,ee,he,u,o,d,ue]);E.useEffect(()=>{if(w&&!b)return U.current=setInterval(()=>{x(()=>{const Me=Date.now()-Y.current,Pe=le.current+Me,C=ue(),ne=Math.max(0,C-Pe);return ne<=0?(setTimeout(()=>_e(),0),0):ne})},100),()=>{U.current&&clearInterval(U.current)};U.current&&(clearInterval(U.current),U.current=null)},[w,b,_e,ue]),E.useEffect(()=>()=>{U.current&&clearInterval(U.current)},[]);const Le=E.useCallback(()=>{Y.current=Date.now(),le.current=0,N(!0),S(!1)},[]),me=E.useCallback(()=>{if(w){const xe=Date.now();le.current+=xe-Y.current,N(!1),S(!0)}},[w]),Ae=E.useCallback(()=>{b&&(Y.current=Date.now(),N(!0),S(!1))},[b]),Ce=E.useCallback(()=>{N(!1),S(!1),le.current=0,x(ue())},[ue]),de=E.useCallback(()=>{x(0)},[]),dt=E.useCallback(xe=>{m(Me=>{const Pe={...Me,...xe};if(!w&&!b){const C=(()=>{switch(T){case"work":return Pe.workDuration*60*1e3;case"shortBreak":return Pe.shortBreakDuration*60*1e3;case"longBreak":return Pe.longBreakDuration*60*1e3}})();x(C)}return Pe})},[w,b,T]);return[{timeRemaining:p,isRunning:w,isPaused:b,currentMode:T,currentSession:I,completedPomodoros:ee,completedCycles:he,progress:pe},{start:Le,pause:me,resume:Ae,reset:Ce,skip:de,updateSettings:dt}]}function jv(r,o={}){const{enabled:d=!0,preventDefault:u=!0}=o;E.useEffect(()=>{if(!d)return;const m=p=>{const x=p.target;if(x.tagName==="INPUT"||x.tagName==="TEXTAREA"||x.contentEditable==="true")return;const N=p.key.toLowerCase();let b;switch(N){case" ":b=r.space;break;case"r":b=r.r;break;case"1":b=r[1];break;case"2":b=r[2];break;case"3":b=r[3];break;case"4":b=r[4];break;case"5":b=r[5];break;case"escape":b=r.escape;break}b&&(u&&p.preventDefault(),b())};return document.addEventListener("keydown",m),()=>{document.removeEventListener("keydown",m)}},[r,d,u])}function Nv(r={}){const{onTick:o,enableNotifications:d=!0}=r,u=E.useRef(null),m=E.useRef("default");E.useEffect(()=>{d&&"Notification"in window&&Notification.requestPermission().then(w=>{m.current=w})},[d]);const p=E.useCallback(()=>{},[o]);return E.useEffect(()=>(u.current=p,document.addEventListener("visibilitychange",p),()=>{document.removeEventListener("visibilitychange",p)}),[p]),{showNotification:E.useCallback((w,N,b)=>{if(!(!d||!("Notification"in window))&&m.current==="granted"){const S=new Notification(w,{body:N,icon:"/icon-192.png",badge:"/icon-192.png",tag:"research-timer",requireInteraction:!0,...b});return setTimeout(()=>{S.close()},1e4),S}},[d]),notificationPermission:m.current,isDocumentHidden:()=>document.hidden}}function Ev(r){const o=Math.ceil(r/1e3),d=Math.floor(o/60),u=o%60;return`${d.toString().padStart(2,"0")}:${u.toString().padStart(2,"0")}`}function Tv(r){const o=Math.floor(r/6e4);if(o<60)return`${o}m`;const d=Math.floor(o/60),u=o%60;return u===0?`${d}h`:`${d}h ${u}m`}function Jr(r){return Math.floor(r/(1e3*60))}function Av(r){if(!r.trim())return!0;try{const o=new URL(r);return o.protocol==="http:"||o.protocol==="https:"}catch{return!1}}function Cv(r){return r.trim()?/^(doi:|DOI:)?10\.\d{4,}\/\S+$/i.test(r):!0}function _v(r){return r.trim()?Av(r)||Cv(r):!0}function Dv(r){return r.trim()?/^10\.\d{4,}\/\S+$/.test(r)?`doi:${r}`:r:""}class Ti{static instance;permission="default";constructor(){this.permission=Notification.permission}static getInstance(){return Ti.instance||(Ti.instance=new Ti),Ti.instance}async requestPermission(){return"Notification"in window?(this.permission=await Notification.requestPermission(),this.permission):"denied"}async notify(o,d={}){if(!("Notification"in window))return console.warn("Browser does not support notifications"),!1;if(this.permission!=="granted"&&await this.requestPermission()!=="granted")return!1;try{const u=new Notification(o,{body:d.body||"",icon:d.icon||"/vite.svg",tag:d.tag||"research-timer",requireInteraction:d.requireInteraction||!1});return d.requireInteraction||setTimeout(()=>u.close(),5e3),!0}catch(u){return console.error("Failed to show notification:",u),!1}}get hasPermission(){return this.permission==="granted"}get canRequestPermission(){return"Notification"in window&&this.permission!=="denied"}}async function Mv(r,o){return await Ti.getInstance().notify("Session Complete!",{body:`${r} session finished (${Math.round(o/6e4)} minutes)`,tag:"session-complete",requireInteraction:!1})}const Ov=()=>{const[r,o]=E.useState(""),[d,u]=E.useState($t[0].id),[m,p]=E.useState(""),[x,w]=E.useState(""),[N,b]=E.useState(""),[S,T]=E.useState(!1),[Q,I]=E.useState(null),[te,ee]=E.useState(null),[fe,he]=E.useState(!1),[,oe]=E.useState(null),U=$t.find(be=>be.id===d)||$t[0],[Y,le]=kv({workDuration:r?parseInt(r):U.duration,shortBreakDuration:5,longBreakDuration:15,sessionsPerCycle:4,autoStartBreaks:!1,autoStartWork:!1},be=>{be==="work"?(b("Work session complete! Time for a break."),_e.showNotification("Work Session Complete! ","Great job! Take a well-deserved break."),ue.currentSession&&pe.stopSession(!1)):(b("Break time over! Ready for another session?"),_e.showNotification("Break Complete! ","Time to get back to work!")),setTimeout(()=>b(""),3e3)},be=>{console.log("Mode changed to:",be)}),[ue,pe]=wv({onComplete:async be=>{const Fe=$t.find(pn=>pn.id===be.mode);await Mv(Fe?.name||be.mode,be.plannedMs),document.hidden&&_e.showNotification("Research Timer Complete!",`${Fe?.name||be.mode} session finished. Time for a break!`),I(be.id),T(!0)}}),_e=Nv({});E.useEffect(()=>{(async()=>{try{const Fe=await $e.userPreferences.get("user");oe(Fe||null),Fe?.onboardingCompleted||he(!0)}catch(Fe){console.error("Failed to load user preferences:",Fe)}})()},[]);const Le=ue.currentSession?.goal||"",me=ue.currentSession?.notes||"",Ae=E.useMemo(()=>ue.currentSession?.tags||[],[ue.currentSession?.tags]),Ce=ue.currentSession?.link||"",de=Y.timeRemaining,dt=Ev(de),Ve=E.useCallback(()=>N||(Y.isRunning?`${Y.currentMode==="work"?"Work":"Break"} - Running`:Y.isPaused?`${Y.currentMode==="work"?"Work":"Break"} - Paused`:`${Y.currentMode==="work"?"Work":"Break"} - Ready`),[N,Y.isRunning,Y.isPaused,Y.currentMode]);E.useEffect(()=>{const be=r&&!isNaN(parseInt(r))?parseInt(r):U.duration;le.updateSettings({workDuration:be})},[r,U.duration,le]);const F=be=>{ue.currentSession&&pe.updateMetadata({goal:be})},xe=be=>{ue.currentSession&&pe.updateMetadata({notes:be})},Me=be=>{ue.currentSession&&pe.updateMetadata({tags:be})},Pe=be=>{const Fe=Dv(be),pn=_v(Fe);w(pn?"":"Please enter a valid URL or DOI"),ue.currentSession&&pn&&pe.updateMetadata({link:Fe})},C=()=>{const be=m.trim();if(be&&!Ae.includes(be)){const Fe=[...Ae,be];Me(Fe),p("")}},ne=be=>{const Fe=Ae.filter(pn=>pn!==be);Me(Fe)},ge=be=>{be.key==="Enter"||be.key===","?(be.preventDefault(),C()):be.key==="Backspace"&&m===""&&Ae.length>0&&ne(Ae[Ae.length-1])},ye=E.useCallback(()=>{if(Y.isRunning)le.pause();else if(Y.isPaused)le.resume();else{const be=r&&!isNaN(parseInt(r))?parseInt(r):U.duration,Fe=r?{...U,duration:be}:U;pe.startSession(Fe,be*60*1e3),le.start()}},[Y.isRunning,Y.isPaused,r,U,le,pe]),De=E.useCallback(()=>{le.reset(),ue.currentSession&&pe.stopSession(!0),b("")},[le,ue.currentSession,pe]),Ye=be=>{ue.currentSession||(u(be),o(""))},Ue=async be=>{if(Q)try{await Gn.save(be),b("Journal saved successfully!"),setTimeout(()=>b(""),3e3)}catch(Fe){console.error("Failed to save journal:",Fe),b("Failed to save journal"),setTimeout(()=>b(""),3e3)}finally{T(!1),I(null)}},Zt=()=>{b("Journal skipped"),setTimeout(()=>b(""),2e3),T(!1),I(null)},vt=()=>{T(!1),I(null)},Oe=()=>{if(te&&!te.closed){te.focus();return}const be=320,Fe=400,pn=window.screen.width-be-50,Nt=window.open("","floating-timer",`width=${be},height=${Fe},left=${pn},top=50,resizable=yes,scrollbars=no,toolbar=no,menubar=no,location=no,status=no,directories=no`);if(Nt){ee(Nt),Nt.document.write(`
        <!DOCTYPE html>
        <html class="${document.documentElement.classList.contains("dark")?"dark":""}" lang="en">
        <head>
          <meta charset="UTF-8">
          <meta name="viewport" content="width=device-width, initial-scale=1.0">
          <title>Research Timer Pro</title>
          <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
          <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&family=Lora:wght@400;500&display=swap" rel="stylesheet">
          <style>
            :root {
              --background-light: #FFFFFF;
              --card-light: #F8FAFC;
              --text-light: #1A202C;
              --text-muted-light: #2D3748;
              --border-light: #CBD5E0;
              --background-dark: #111827;
              --card-dark: #1F2937;
              --text-dark: #F9FAFB;
              --text-muted-dark: #D1D5DB;
              --border-dark: #374151;
              --primary-accent: #63B3ED;
              --primary-accent-hover: #4299E1;
            }
            :root {
              --background: var(--background-light);
              --card: var(--card-light);
              --text-primary: var(--text-light);
              --text-secondary: var(--text-muted-light);
              --border: var(--border-light);
            }
            .dark {
              --background: var(--background-dark);
              --card: var(--card-dark);
              --text-primary: var(--text-dark);
              --text-secondary: var(--text-muted-dark);
              --border: var(--border-dark);
            }
            * { margin: 0; padding: 0; box-sizing: border-box; }
            body {
              font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
              background-color: var(--background);
              color: var(--text-primary);
              height: 100vh;
              display: flex;
              flex-direction: column;
              padding: 16px;
              overflow-y: auto;
              transition: background-color 0.3s, color 0.3s;
            }
            .header {
              display: flex;
              align-items: center;
              justify-content: space-between;
              margin-bottom: 16px;
              padding-bottom: 12px;
              border-bottom: 1px solid var(--border);
            }
            .logo {
              font-size: 14px;
              font-weight: 600;
              color: var(--text-primary);
            }
            .mode-badge {
              background: var(--card);
              padding: 6px 12px;
              border-radius: 12px;
              font-size: 11px;
              font-weight: 500;
              border: 1px solid var(--border);
              color: var(--text-primary);
            }
            .timer-section {
              text-align: center;
              margin: 16px 0;
            }
            .timer-display {
              font-size: 2.5rem;
              font-weight: bold;
              font-family: 'Lora', serif;
              margin-bottom: 8px;
              color: var(--text-primary);
            }
            .dark .timer-display {
              color: white;
            }
            .preset-info {
              font-size: 13px;
              color: var(--text-secondary);
              margin-bottom: 4px;
            }
            .status {
              font-size: 12px;
              color: var(--text-secondary);
              margin-bottom: 16px;
            }
            .progress-section {
              background: var(--card);
              border: 1px solid var(--border);
              border-radius: 8px;
              padding: 12px;
              margin-bottom: 16px;
            }
            .progress-title {
              font-size: 12px;
              font-weight: 500;
              margin-bottom: 8px;
              color: var(--text-primary);
            }
            .progress-stats {
              display: grid;
              grid-template-columns: 1fr 1fr;
              gap: 8px;
              font-size: 11px;
            }
            .stat {
              text-align: center;
            }
            .stat-value {
              font-size: 16px;
              font-weight: 600;
              display: block;
              color: var(--primary-accent);
            }
            .stat-label {
              color: var(--text-secondary);
            }
            .session-details {
              background: var(--card);
              border: 1px solid var(--border);
              border-radius: 8px;
              padding: 12px;
              margin-bottom: 16px;
              font-size: 11px;
            }
            .detail-row {
              display: flex;
              align-items: flex-start;
              margin-bottom: 6px;
            }
            .detail-row:last-child { margin-bottom: 0; }
            .detail-icon {
              font-size: 14px;
              margin-right: 6px;
              color: var(--text-secondary);
              flex-shrink: 0;
            }
            .detail-text {
              flex: 1;
              color: var(--text-primary);
              line-height: 1.3;
              word-break: break-word;
            }
            .controls {
              display: flex;
              gap: 8px;
              margin-bottom: 16px;
            }
            button {
              padding: 10px 12px;
              border: 1px solid var(--border);
              border-radius: 6px;
              background: var(--card);
              color: var(--text-primary);
              cursor: pointer;
              font-size: 12px;
              font-weight: 500;
              transition: all 0.2s;
              display: flex;
              align-items: center;
              justify-content: center;
              gap: 4px;
            }
            button:hover {
              background: var(--border);
              transform: translateY(-1px);
            }
            /* Light mode button styling */
            :root button {
              border-color: var(--border-light);
              background: var(--card-light);
              color: var(--text-light);
              box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
            }
            :root button:hover {
              background: var(--background-light);
              border-color: var(--primary-accent);
              box-shadow: 0 2px 6px rgba(0, 0, 0, 0.15);
            }
            .btn-primary {
              background: var(--primary-accent);
              color: #1A202C;
              border-color: var(--primary-accent);
              font-weight: 600;
            }
            .btn-primary:hover {
              background: var(--primary-accent-hover);
              box-shadow: 0 2px 4px rgba(99, 179, 237, 0.2);
            }
            .dark .btn-primary {
              color: #111827;
              border-color: var(--primary-accent);
            }
            .dark button {
              border-color: var(--border);
              background: var(--card);
              color: var(--text-primary);
            }
            .dark button:hover {
              background: var(--background);
              border-color: var(--primary-accent);
            }
            .material-icons { font-size: 16px; }
          </style>
        </head>
        <body>
          <div class="header">
            <div class="logo">Research Timer Pro</div>
            <div class="mode-badge" id="modeBadge">Work</div>
          </div>

          <div class="timer-section">
            <div class="preset-info" id="presetInfo"></div>
            <div class="timer-display" id="timerDisplay">25:00</div>
            <div class="status" id="statusDisplay">Ready to focus</div>
          </div>

          <div class="progress-section">
            <div class="progress-title">Session Progress</div>
            <div class="progress-stats">
              <div class="stat">
                <span class="stat-value" id="currentSession">1</span>
                <span class="stat-label">Current</span>
              </div>
              <div class="stat">
                <span class="stat-value" id="completedCount">0</span>
                <span class="stat-label">Completed</span>
              </div>
            </div>
          </div>

          <div class="session-details" id="sessionDetails">
            <div class="detail-row" id="goalRow" style="display:none;">
              <span class="material-icons detail-icon">flag</span>
              <span class="detail-text" id="goalText"></span>
            </div>
            <div class="detail-row" id="notesRow" style="display:none;">
              <span class="material-icons detail-icon">note</span>
              <span class="detail-text" id="notesText"></span>
            </div>
            <div class="detail-row" id="tagsRow" style="display:none;">
              <span class="material-icons detail-icon">label</span>
              <span class="detail-text" id="tagsText"></span>
            </div>
            <div class="detail-row" id="linkRow" style="display:none;">
              <span class="material-icons detail-icon">link</span>
              <span class="detail-text" id="linkText"></span>
            </div>
          </div>

          <div class="controls">
            <button class="btn-primary" style="flex: 1;" onclick="console.log(' Timer toggle button clicked'); window.opener && window.opener.postMessage({action: 'toggle'}, '*')">
              <span class="material-icons" id="playIcon">play_arrow</span>
              <span id="playText">Start</span>
            </button>
            <button style="flex: 1;" onclick="console.log(' Timer reset button clicked'); window.opener && window.opener.postMessage({action: 'reset'}, '*')">
              <span class="material-icons">refresh</span>
              Reset
            </button>
          </div>

        </body>
        </html>
      `),Nt.document.close(),Nt.addEventListener("beforeunload",()=>{ee(null)});const Dt=()=>{if(Nt&&!Nt.closed){const Nn=document.documentElement.classList.contains("dark");console.log(" Updating floating window theme. Main window is dark:",Nn),Nn?(Nt.document.documentElement.classList.add("dark"),console.log(" Applied dark class to floating window")):(Nt.document.documentElement.classList.remove("dark"),console.log(" Removed dark class from floating window")),Nt.document.body.style.visibility="hidden",setTimeout(()=>{Nt&&!Nt.closed&&(Nt.document.body.style.visibility="visible")},10)}};Dt();const yn=new MutationObserver(Dt);yn.observe(document.documentElement,{attributes:!0,attributeFilter:["class"]}),Nt.addEventListener("beforeunload",()=>{yn.disconnect(),ee(null)})}},fa=E.useCallback(be=>{console.log(" Floating window message received:",be.data),be.data.action==="toggle"?(console.log(" Toggle action - current state:",{isRunning:Y.isRunning,isPaused:Y.isPaused}),ye()):be.data.action==="reset"&&(console.log(" Reset action"),De())},[ye,De,Y.isRunning,Y.isPaused]);E.useEffect(()=>(window.addEventListener("message",fa),()=>window.removeEventListener("message",fa)),[fa]),E.useEffect(()=>{const be=()=>{document.hidden&&Y.isRunning&&(!te||te.closed)&&setTimeout(()=>{Y.isRunning&&Oe()},1e3)},Fe=()=>{!document.hidden&&te&&te.closed};return document.addEventListener("visibilitychange",be),window.addEventListener("focus",Fe),()=>{document.removeEventListener("visibilitychange",be),window.removeEventListener("focus",Fe)}},[Y.isRunning,te,Oe]),E.useEffect(()=>{if(te&&!te.closed){const be=te.document,Fe=be.getElementById("timerDisplay"),pn=be.getElementById("statusDisplay"),ha=be.getElementById("playIcon"),Nt=be.getElementById("playText"),Dt=be.getElementById("presetInfo"),yn=be.getElementById("modeBadge"),Nn=be.getElementById("currentSession"),tl=be.getElementById("completedCount"),aa=be.getElementById("goalRow"),cn=be.getElementById("goalText"),Tt=be.getElementById("notesRow"),vn=be.getElementById("notesText"),Mt=be.getElementById("tagsRow"),sr=be.getElementById("tagsText"),ma=be.getElementById("linkRow"),$n=be.getElementById("linkText");if(Fe&&(Fe.textContent=dt),pn&&(pn.textContent=Ve()),yn&&(Y.currentMode==="work"?(yn.textContent="Work Session",yn.style.background="rgba(59, 130, 246, 0.8)"):Y.currentMode==="shortBreak"?(yn.textContent="Short Break",yn.style.background="rgba(34, 197, 94, 0.8)"):(yn.textContent="Long Break",yn.style.background="rgba(168, 85, 247, 0.8)")),Dt)if(Y.currentMode==="work")r?Dt.textContent=`Custom Duration: ${r} minutes`:Dt.textContent=U.name;else{const Dn=Y.currentMode==="shortBreak"?5:15;Dt.textContent=`${Dn} minute break`}Nn&&(Nn.textContent=Y.currentSession.toString()),tl&&(tl.textContent=Y.completedPomodoros.toString()),aa&&cn&&(Le?(cn.textContent=Le,aa.style.display="flex"):aa.style.display="none"),Tt&&vn&&(me?(vn.textContent=me.length>100?me.substring(0,100)+"...":me,Tt.style.display="flex"):Tt.style.display="none"),Mt&&sr&&(Ae.length>0?(sr.textContent=Ae.map(Dn=>`#${Dn}`).join(", "),Mt.style.display="flex"):Mt.style.display="none"),ma&&$n&&(Ce?($n.textContent=Ce.length>50?Ce.substring(0,50)+"...":Ce,ma.style.display="flex"):ma.style.display="none"),ha&&Nt&&(Y.isRunning?(ha.textContent="pause",Nt.textContent="Pause"):Y.isPaused?(ha.textContent="play_arrow",Nt.textContent="Resume"):(ha.textContent="play_arrow",Nt.textContent="Start"))}},[dt,Y,Ve,U.name,r,Le,me,Ae,Ce,te]);const Gn=Ud(Q||""),st=Gn.data;jv({space:ye,r:De,1:()=>Ye($t[0].id),2:()=>Ye($t[1].id),3:()=>Ye($t[2].id),4:()=>Ye($t[3].id),5:()=>Ye($t[4].id)});const ta=Y.progress,_a=2*Math.PI*56,na=_a-ta/100*_a;return s.jsxs("div",{className:"transition-all duration-300 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h2",{className:"text-3xl md:text-4xl font-display font-medium text-gray-900 dark:text-white",children:"Research Timer Pro"}),s.jsx("p",{className:"mt-3 text-lg text-gray-600 dark:text-gray-300",children:"Boost your research productivity with accurate timing and insights"})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6 mb-8",children:[s.jsxs("div",{className:"lg:col-span-2 xl:col-span-2 bg-white dark:bg-gray-800 p-6 rounded-xl shadow-lg border border-gray-200/50 dark:border-gray-700/50",children:[s.jsxs("div",{className:"relative w-56 h-56 sm:w-64 sm:h-64 mx-auto mb-6 flex items-center justify-center",children:[s.jsxs("svg",{className:"absolute top-0 left-0 w-full h-full",viewBox:"0 0 120 120",children:[s.jsx("circle",{className:"text-gray-300 dark:text-gray-600",cx:"60",cy:"60",fill:"transparent",r:"56",stroke:"currentColor",strokeWidth:"4"}),s.jsx("circle",{className:"progress-ring__circle text-blue-600 dark:text-blue-400",cx:"60",cy:"60",fill:"transparent",r:"56",stroke:"currentColor",strokeLinecap:"round",strokeWidth:"4",style:{strokeDasharray:_a,strokeDashoffset:na}})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-3xl sm:text-4xl lg:text-5xl font-mono text-gray-900 dark:text-white tabular-nums",children:dt}),s.jsx("p",{className:"text-sm sm:text-base lg:text-lg text-gray-500 dark:text-gray-300 mt-1 sm:mt-2",children:Y.currentMode==="work"?r?`Custom: ${r}min`:U.name:Y.currentMode==="shortBreak"?"Short Break":Y.currentMode==="longBreak"?"Long Break":"Ready"}),s.jsxs("p",{className:"text-xs text-gray-400 dark:text-gray-400 mt-1",children:["Session ",Y.currentSession,"  ",Y.completedPomodoros," completed"]})]})]}),s.jsxs("div",{className:"mb-8",children:[s.jsx("h3",{className:"text-lg font-semibold text-center mb-4 text-gray-700 dark:text-gray-200",children:"Research Mode"}),s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-5 gap-3 sm:gap-4 mb-4",children:$t.map(be=>s.jsxs("button",{onClick:()=>Ye(be.id),className:`p-4 border rounded-lg text-center transition-colors ${d===be.id&&!r?"border-blue-600 bg-blue-600/10 dark:bg-blue-600/20 ring-2 ring-blue-600":"border-gray-300 dark:border-gray-600 hover:bg-gray-100 dark:hover:bg-gray-700"}`,disabled:!!ue.currentSession,children:[s.jsx("span",{className:`block text-sm ${d===be.id&&!r?"text-blue-600 dark:text-gray-300":"text-gray-500 dark:text-gray-300"}`,children:be.name}),s.jsxs("span",{className:`block font-semibold ${d===be.id&&!r?"text-blue-600 dark:text-white":"text-gray-800 dark:text-gray-200"}`,children:[be.duration,"m"]})]},be.id))}),s.jsxs("div",{className:"text-center",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Or set custom duration (minutes)"}),s.jsx("input",{type:"number",min:"1",max:"480",placeholder:"e.g. 30",value:r,onChange:be=>{o(be.target.value)},disabled:!!ue.currentSession,className:`w-24 text-center bg-white dark:bg-gray-800 border rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-600 sm:text-sm ${r?"border-blue-600 ring-2 ring-blue-600":"border-gray-300 dark:border-gray-600"} placeholder-gray-400 dark:placeholder-gray-500`}),s.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-300 ml-2",children:"minutes"})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row justify-center items-center gap-3 sm:gap-4",children:[s.jsxs("button",{className:"flex items-center gap-2 bg-blue-600 hover:bg-blue-600/90 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 text-white font-semibold py-3 px-6 rounded-lg transition-colors w-full sm:w-auto",onClick:ye,"aria-label":Y.isRunning?"Pause timer":Y.isPaused?"Resume timer":"Start timer",children:[s.jsx("span",{className:"material-icons text-xl","aria-hidden":"true",children:Y.isRunning?"pause":(Y.isPaused,"play_arrow")}),s.jsx("span",{className:"hidden sm:inline",children:Y.isRunning?"Pause":Y.isPaused?"Resume":"Start"}),s.jsx("span",{className:"sm:hidden",children:Y.isRunning?"Pause":Y.isPaused?"Resume":"Start"})]}),s.jsxs("button",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 font-semibold py-3 px-6 rounded-lg transition-colors w-full sm:w-auto",onClick:De,"aria-label":"Reset timer",children:[s.jsx("span",{className:"material-icons text-xl","aria-hidden":"true",children:"restart_alt"}),"Reset"]}),s.jsxs("button",{className:"flex items-center gap-2 text-purple-600 dark:text-purple-400 hover:text-purple-800 dark:hover:text-purple-200 focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 font-semibold py-3 px-6 rounded-lg transition-colors w-full sm:w-auto",onClick:Oe,"aria-label":"Open floating timer window",children:[s.jsx("span",{className:"material-icons text-xl","aria-hidden":"true",children:"open_in_new"}),s.jsx("span",{className:"hidden sm:inline",children:"Float Window"}),s.jsx("span",{className:"sm:hidden",children:"Float"})]})]})]}),s.jsxs("div",{className:"lg:col-span-2 xl:col-span-1 space-y-6",children:[s.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-lg border border-gray-200/50 dark:border-gray-700/50 h-fit",children:[s.jsxs("h3",{className:"text-lg font-semibold mb-4 text-gray-700 dark:text-gray-300 flex items-center",children:[s.jsx("span",{className:"material-icons mr-2 text-blue-600",children:"edit_note"}),"Session Notes"]}),s.jsx("textarea",{className:"w-full bg-gray-50 dark:bg-gray-700 border-gray-300 dark:border-gray-600 rounded-lg shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 sm:text-sm placeholder-gray-400 dark:placeholder-gray-500 resize-none",placeholder:"Keep track of your progress, ideas, and insights...",rows:6,value:me,onChange:be=>xe(be.target.value)})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-lg border border-gray-200/50 dark:border-gray-700/50 h-fit",children:[s.jsxs("h3",{className:"text-lg font-semibold mb-4 text-gray-700 dark:text-gray-300 flex items-center",children:[s.jsx("span",{className:"material-icons mr-2 text-purple-600",children:"psychology"}),"AI Summary"]}),s.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400 mb-3",children:["Configure AI in ",s.jsx("a",{href:"/settings",className:"text-blue-600 dark:text-blue-400 hover:underline font-medium",children:"Settings"})," for session summaries."]}),s.jsx("div",{className:"p-4 bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-700 dark:to-gray-800 rounded-lg border border-gray-200 dark:border-gray-600",children:s.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400 italic",children:"AI summary will appear here after your session..."})})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[s.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-lg border border-gray-200/50 dark:border-gray-700/50",children:[s.jsxs("h3",{className:"text-lg font-semibold mb-6 text-gray-700 dark:text-gray-300 flex items-center",children:[s.jsx("span",{className:"material-icons mr-2 text-green-600",children:"flag"}),"Session Details"]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",htmlFor:"goal",children:"Goal"}),s.jsx("input",{className:"w-full bg-gray-50 dark:bg-gray-700 border-gray-300 dark:border-gray-600 rounded-lg shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 sm:text-sm placeholder-gray-400 dark:placeholder-gray-500",id:"goal",name:"goal",placeholder:"What do you want to accomplish this session?",type:"text",value:Le,onChange:be=>F(be.target.value)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",htmlFor:"tags",children:"Tags"}),s.jsxs("div",{className:"flex items-center flex-wrap gap-2 p-3 bg-gray-50 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg",children:[Ae.map(be=>s.jsxs("span",{className:"bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 text-sm font-medium px-3 py-1 rounded-full flex items-center",children:["#",be,s.jsx("button",{className:"ml-2 text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-200",onClick:()=>ne(be),children:s.jsx("span",{className:"material-icons text-sm",children:"close"})})]},be)),s.jsx("input",{className:"flex-1 bg-transparent border-none focus:ring-0 p-0 sm:text-sm placeholder-gray-400 dark:placeholder-gray-500 min-w-0",id:"tags",name:"tags",placeholder:"Add tags...",type:"text",value:m,onChange:be=>p(be.target.value),onKeyDown:ge,onBlur:C})]}),s.jsx("p",{className:"mt-2 text-xs text-gray-500 dark:text-gray-400",children:"Press Enter or comma to add tags. Backspace to remove last tag."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",htmlFor:"link",children:"Link (DOI or URL)"}),s.jsx("input",{className:`w-full bg-gray-50 dark:bg-gray-700 border-gray-300 dark:border-gray-600 rounded-lg shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 sm:text-sm placeholder-gray-400 dark:placeholder-gray-500 ${x?"border-red-500 focus:border-red-500 focus:ring-red-500":""}`,id:"link",name:"link",placeholder:"https://example.com or doi:10.1234/example",type:"url",value:Ce,onChange:be=>Pe(be.target.value)}),x&&s.jsx("div",{className:"text-sm text-red-600 dark:text-red-400 mt-2",children:x})]})]})]}),s.jsx("div",{children:s.jsx(uv,{})})]}),s.jsx("footer",{className:"mt-16 text-center",children:s.jsxs("button",{className:"inline-flex items-center gap-2 text-sm text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300",children:[s.jsx("span",{className:"material-icons",children:"keyboard"}),"Keyboard Shortcuts"]})}),s.jsx(_g,{open:S,mode:st?.mode||"deep",sessionId:Q||"",onSave:Ue,onSkip:Zt,onCancel:vt}),s.jsx(Dg,{isOpen:fe,onComplete:()=>{he(!1),(async()=>{try{const Fe=await $e.userPreferences.get("user");oe(Fe||null)}catch(Fe){console.error("Failed to reload preferences:",Fe)}})()}})]})};function Rv({link:r,onRemove:o,onEdit:d,showRemove:u=!1,showEdit:m=!1,size:p="md",className:x=""}){const w=_d(r),N=Tg(r),b=Fy(r),S=Zy(r.type),T=Jy(r.type),Q=E.useCallback(()=>{b&&window.open(N,"_blank","noopener,noreferrer")},[N,b]),I=E.useCallback(oe=>{oe.stopPropagation(),o?.(r.id)},[r.id,o]),te=E.useCallback(oe=>{oe.stopPropagation(),d?.(r.id)},[r.id,d]),ee=p==="sm"?"px-2 py-1 text-xs":"px-3 py-1.5 text-sm",fe=p==="sm"?"w-3 h-3":"w-4 h-4",he=p==="sm"?"w-4 h-4":"w-5 h-5";return s.jsxs("div",{className:`inline-flex items-center gap-1.5 ${ee} rounded-full
                  bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300
                  border border-gray-200 dark:border-gray-700
                  ${b?"cursor-pointer hover:bg-gray-200 dark:hover:bg-gray-700":""}
                  transition-colors ${x}`,onClick:b?Q:void 0,title:r.description||`${T}: ${w}
${N}`,children:[s.jsx("div",{className:`${fe} flex-shrink-0 flex items-center justify-center`,children:zv(S,fe)}),s.jsx("span",{className:"flex-1 truncate font-medium",children:w}),r.description&&p==="md"&&s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"text-gray-400 dark:text-gray-500",children:""}),s.jsx("span",{className:"text-gray-500 dark:text-gray-400 truncate",children:r.description})]}),s.jsxs("div",{className:"flex items-center gap-1 ml-1",children:[m&&d&&s.jsx("button",{onClick:te,className:`${he} flex items-center justify-center
                       text-gray-400 hover:text-gray-600 dark:text-gray-500 dark:hover:text-gray-300
                       rounded-full hover:bg-gray-200 dark:hover:bg-gray-600
                       transition-colors`,title:"Edit link",type:"button",children:s.jsx(Gv,{className:he})}),u&&o&&s.jsx("button",{onClick:I,className:`${he} flex items-center justify-center
                       text-gray-400 hover:text-red-500 dark:text-gray-500 dark:hover:text-red-400
                       rounded-full hover:bg-red-50 dark:hover:bg-red-900/20
                       transition-colors`,title:"Remove link",type:"button",children:s.jsx($v,{className:he})})]})]})}function zv(r,o){switch(r){case"article":return s.jsx(Bv,{className:o});case"science":return s.jsx(Uv,{className:o});case"code":return s.jsx(qv,{className:o});case"edit":return s.jsx(Lv,{className:o});case"bookmark":return s.jsx(Hv,{className:o});case"folder":return s.jsx(Yv,{className:o});case"link":default:return s.jsx(Kv,{className:o})}}function Bv({className:r}){return s.jsx("svg",{className:r,fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4zm2 6a1 1 0 011-1h6a1 1 0 110 2H7a1 1 0 01-1-1zm1 3a1 1 0 100 2h6a1 1 0 100-2H7z",clipRule:"evenodd"})})}function Uv({className:r}){return s.jsx("svg",{className:r,fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M6 3a1 1 0 011-1h2a1 1 0 011 1v1h3a1 1 0 110 2H7a1 1 0 110-2h1V3zM6 8a1 1 0 011-1h6a1 1 0 110 2H7a1 1 0 01-1-1zm-1 4a1 1 0 011-1h8a1 1 0 110 2H6a1 1 0 01-1-1zm0 3a1 1 0 011-1h8a1 1 0 110 2H6a1 1 0 01-1-1z",clipRule:"evenodd"})})}function qv({className:r}){return s.jsx("svg",{className:r,fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M12.316 3.051a1 1 0 01.633 1.265l-4 12a1 1 0 11-1.898-.632l4-12a1 1 0 011.265-.633zM5.707 6.293a1 1 0 010 1.414L3.414 10l2.293 2.293a1 1 0 11-1.414 1.414l-3-3a1 1 0 010-1.414l3-3a1 1 0 011.414 0zm8.586 0a1 1 0 011.414 0l3 3a1 1 0 010 1.414l-3 3a1 1 0 11-1.414-1.414L16.586 10l-2.293-2.293a1 1 0 010-1.414z",clipRule:"evenodd"})})}function Lv({className:r}){return s.jsx("svg",{className:r,fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{d:"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"})})}function Hv({className:r}){return s.jsx("svg",{className:r,fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{d:"M5 4a2 2 0 012-2h6a2 2 0 012 2v14l-5-2.5L5 18V4z"})})}function Yv({className:r}){return s.jsx("svg",{className:r,fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{d:"M2 6a2 2 0 012-2h5l2 2h5a2 2 0 012 2v6a2 2 0 01-2 2H4a2 2 0 01-2-2V6z"})})}function Kv({className:r}){return s.jsx("svg",{className:r,fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 00-1.414 1.414 4 4 0 005.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 00-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z",clipRule:"evenodd"})})}function Gv({className:r}){return s.jsx("svg",{className:r,fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{d:"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"})})}function $v({className:r}){return s.jsx("svg",{className:r,fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})}function Xv({links:r,onRemove:o,onEdit:d,showRemove:u=!1,showEdit:m=!1,size:p="md",maxVisible:x,direction:w="horizontal",className:N=""}){if(!r||r.length===0)return null;const b=[...r].sort((I,te)=>te.addedAt-I.addedAt),S=x?b.slice(0,x):b,T=b.length-S.length,Q=w==="horizontal"?"flex flex-wrap items-center gap-2":"flex flex-col gap-2";return s.jsxs("div",{className:`${Q} ${N}`,children:[S.map(I=>s.jsx(Rv,{link:I,onRemove:o,onEdit:d,showRemove:u,showEdit:m,size:p},I.id)),T>0&&s.jsxs("div",{className:`inline-flex items-center justify-center
                     ${p==="sm"?"px-2 py-1 text-xs":"px-3 py-1.5 text-sm"}
                     rounded-full bg-gray-100 dark:bg-gray-800
                     text-gray-500 dark:text-gray-400
                     border border-gray-200 dark:border-gray-700`,title:`${T} more link${T===1?"":"s"}`,children:["+",T]})]})}function qd(r={}){const[o,d]=E.useState([]),[u,m]=E.useState(!0),[p,x]=E.useState(null),w=E.useCallback(async()=>{try{m(!0),x(null);let S=$e.sessions.orderBy("startedAt").reverse();r.dateRange&&(S=S.filter(Q=>Q.startedAt>=r.dateRange.from.getTime()&&Q.startedAt<=r.dateRange.to.getTime()));const T=await S.toArray();d(T)}catch(S){console.error("Failed to fetch sessions:",S),x("Failed to load sessions")}finally{m(!1)}},[r.dateRange]);E.useEffect(()=>{w()},[r.dateRange?.from,r.dateRange?.to,w]);const N=E.useMemo(()=>{let S=o;return r.mode&&r.mode!=="all"&&(S=S.filter(T=>T.mode===r.mode)),r.tag&&(S=S.filter(T=>T.tags.some(Q=>Q.toLowerCase().includes(r.tag.toLowerCase())))),S},[o,r.mode,r.tag]),b=E.useMemo(()=>{const S=new Set;return o.forEach(T=>{T.tags.forEach(Q=>S.add(Q))}),Array.from(S).sort()},[o]);return{sessions:N,allTags:b,loading:u,error:p,refetch:w}}const Qv=()=>{const[r,o]=E.useState("all"),[d,u]=E.useState(""),[m,p]=E.useState("all"),[x,w]=E.useState(!1),[N,b]=E.useState(null),S=E.useMemo(()=>{const me=new Date,Ae=new Date(me.getFullYear(),me.getMonth(),me.getDate());switch(m){case"today":return{from:Ae,to:new Date(Ae.getTime()+1440*60*1e3-1)};case"week":{const Ce=new Date(Ae);return Ce.setDate(Ae.getDate()-Ae.getDay()),{from:Ce,to:new Date(Ce.getTime()+10080*60*1e3-1)}}case"7days":return{from:new Date(Ae.getTime()-10080*60*1e3),to:me};case"30days":return{from:new Date(Ae.getTime()-720*60*60*1e3),to:me};default:return}},[m]),{sessions:T,allTags:Q,loading:I,error:te}=qd({mode:r,tag:d,dateRange:S}),ee=T.find(me=>me.id===N),fe=Ud(N||""),he=()=>{const me=pe(T);Le(me,`sessions-${new Date().toISOString().split("T")[0]}.md`,"text/markdown")},oe=()=>{const me=_e(T);Le(me,`sessions-${new Date().toISOString().split("T")[0]}.csv`,"text/csv")},U=me=>{b(me),w(!0)},Y=async(me,Ae,Ce)=>{if(N)try{await fe.save(me,Ae,Ce),w(!1),b(null)}catch(de){console.error("Failed to save journal:",de)}},le=()=>{w(!1),b(null)},ue=()=>{w(!1),b(null)},pe=me=>{const Ae=`# Research Sessions Export

Exported: ${new Date().toLocaleString()}
Total Sessions: ${me.length}

`,Ce=me.map(de=>{const dt=$t.find(xe=>xe.id===de.mode),Ve=de.endedAt?Jr(de.endedAt-de.startedAt):Jr(de.plannedMs);let F="";if(de.journal)switch(F=`
**Journal:**
`,de.journal.kind){case"lit":F+=`- **Key Claim:** ${de.journal.keyClaim||"None"}
`,F+=`- **Method:** ${de.journal.method||"None"}
`,F+=`- **Limitation:** ${de.journal.limitation||"None"}
`;break;case"writing":F+=`- **Words Added:** ${de.journal.wordsAdded??"Not specified"}
`,F+=`- **Sections Touched:** ${de.journal.sectionsTouched||"None"}
`;break;case"analysis":F+=`- **Script/Notebook:** ${de.journal.scriptOrNotebook||"None"}
`,F+=`- **Dataset Reference:** ${de.journal.datasetRef||"None"}
`,F+=`- **Next Step:** ${de.journal.nextStep||"None"}
`;break;case"deep":case"break":F+=`- **What Moved Forward:** ${de.journal.whatMoved||"None"}
`;break}return`## ${dt?.name||de.mode} - ${new Date(de.startedAt).toLocaleDateString()}

**Time:** ${new Date(de.startedAt).toLocaleTimeString()}
**Duration:** ${Ve} minutes
**Status:** ${de.status}

**Goal:** ${de.goal||"No goal specified"}

**Notes:**
${de.notes||"No notes"}

**Tags:** ${(de.tags||[]).length>0?(de.tags||[]).join(", "):"None"}

**Links:** ${de.links&&de.links.length>0?de.links.map(xe=>`${xe.title||xe.url}${xe.description?" ("+xe.description+")":""}`).join(", "):de.link||"None"}${F}

---

`}).join("");return Ae+Ce},_e=me=>{const Ae=["Date","Time","Mode","Duration (min)","Status","Goal","Notes","Tags","Links","Journal"],Ce=me.map(de=>{const dt=$t.find(xe=>xe.id===de.mode),Ve=de.endedAt?Jr(de.endedAt-de.startedAt):Jr(de.plannedMs);let F="";if(de.journal)switch(de.journal.kind){case"lit":F=`Key Claim: ${de.journal.keyClaim||""} | Method: ${de.journal.method||""} | Limitation: ${de.journal.limitation||""}`;break;case"writing":F=`Words Added: ${de.journal.wordsAdded??""} | Sections Touched: ${de.journal.sectionsTouched||""}`;break;case"analysis":F=`Script/Notebook: ${de.journal.scriptOrNotebook||""} | Dataset: ${de.journal.datasetRef||""} | Next Step: ${de.journal.nextStep||""}`;break;case"deep":case"break":F=`What Moved Forward: ${de.journal.whatMoved||""}`;break}return[new Date(de.startedAt).toLocaleDateString(),new Date(de.startedAt).toLocaleTimeString(),dt?.name||de.mode,Ve.toString(),de.status,`"${(de.goal||"").replace(/"/g,'""')}"`,`"${(de.notes||"").replace(/"/g,'""')}"`,`"${(de.tags||[]).join(", ")}"`,de.links&&de.links.length>0?`"${de.links.map(xe=>xe.title||xe.url).join(", ")}"`:`"${de.link||""}"`,`"${F.replace(/"/g,'""')}"`]});return[Ae.join(","),...Ce.map(de=>de.join(","))].join(`
`)},Le=(me,Ae,Ce)=>{const de=new Blob([me],{type:Ce}),dt=URL.createObjectURL(de),Ve=document.createElement("a");Ve.href=dt,Ve.download=Ae,document.body.appendChild(Ve),Ve.click(),document.body.removeChild(Ve),URL.revokeObjectURL(dt)};return s.jsxs("div",{className:"transition-all duration-300",children:[s.jsxs("div",{className:"text-center space-y-4 p-6 pb-8",children:[s.jsx("h1",{className:"font-display text-4xl lg:text-5xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent drop-shadow-lg",children:"Timeline"}),s.jsxs("p",{className:"text-lg text-gray-600 dark:text-gray-400",children:[T.length," session",T.length!==1?"s":"",I&&" (loading...)"]})]}),s.jsxs("div",{className:"max-w-7xl mx-auto px-4 space-y-6",children:[s.jsxs(pt,{children:[s.jsx(Ft,{children:s.jsx("h2",{className:"font-display text-xl font-medium bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Filters"})}),s.jsx(yt,{className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsx(lt,{label:"Date Range",htmlFor:"date-range",children:s.jsxs("select",{id:"date-range",value:m,onChange:me=>p(me.target.value),className:"w-full",children:[s.jsx("option",{value:"all",children:"All Time"}),s.jsx("option",{value:"today",children:"Today"}),s.jsx("option",{value:"week",children:"This Week"}),s.jsx("option",{value:"7days",children:"Last 7 Days"}),s.jsx("option",{value:"30days",children:"Last 30 Days"})]})}),s.jsx(lt,{label:"Focus Mode",htmlFor:"mode-filter",children:s.jsxs("select",{id:"mode-filter",value:r,onChange:me=>o(me.target.value),className:"w-full",children:[s.jsx("option",{value:"all",children:"All Modes"}),$t.map(me=>s.jsx("option",{value:me.id,children:me.name},me.id))]})}),s.jsxs(lt,{label:"Filter by Tag",htmlFor:"tag-filter",children:[s.jsx("input",{id:"tag-filter",type:"text",value:d,onChange:me=>u(me.target.value),className:"w-full",placeholder:"Type to filter tags...",list:"tag-suggestions"}),s.jsx("datalist",{id:"tag-suggestions",children:Q.map(me=>s.jsx("option",{value:me},me))})]})]})})]}),s.jsxs(pt,{children:[s.jsx(Ft,{children:s.jsx("h2",{className:"font-display text-xl font-medium",children:"Export Sessions"})}),s.jsx(yt,{children:s.jsxs("div",{className:"flex gap-2",children:[s.jsx(We,{variant:"secondary",leftIcon:"description",onClick:he,disabled:T.length===0,children:"Export as Markdown"}),s.jsx(We,{variant:"secondary",leftIcon:"table_chart",onClick:oe,disabled:T.length===0,children:"Export as CSV"})]})})]}),s.jsxs("div",{className:"space-y-4",children:[I&&s.jsx(pt,{children:s.jsx(yt,{className:"py-8 text-center",children:s.jsx("div",{className:"text-gray-500 dark:text-gray-400",children:"Loading sessions..."})})}),te&&s.jsx(pt,{children:s.jsx(yt,{className:"py-8 text-center",children:s.jsxs("div",{className:"text-red-600 dark:text-red-400",children:["Error: ",te]})})}),!I&&!te&&T.length>0?T.map(me=>{const Ae=$t.find(de=>de.id===me.mode),Ce=me.endedAt?Jr(me.endedAt-me.startedAt):Jr(me.plannedMs);return s.jsx(pt,{children:s.jsx(yt,{className:"py-4",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1 space-y-2",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[new Date(me.startedAt).toLocaleDateString()," at"," ",new Date(me.startedAt).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]}),s.jsx("div",{className:"text-sm font-medium text-blue-600",children:Ae?.name||me.mode}),s.jsx("div",{className:`text-xs px-2 py-0.5 rounded-full ${me.status==="completed"?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":me.status==="cancelled"?"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200":"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200"}`,children:me.status}),me.journal&&s.jsxs("div",{className:"text-xs px-2 py-0.5 rounded-full bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200",children:[s.jsx("span",{className:"material-icons text-xs mr-1",children:"edit_note"}),"Journaled"]}),me.aiSummary&&s.jsxs("div",{className:"text-xs px-2 py-0.5 rounded-full bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",children:[s.jsx("span",{className:"material-icons text-xs mr-1",children:"auto_awesome"}),"AI"]})]}),s.jsx("div",{className:"text-base font-medium text-gray-800 dark:text-gray-200",children:me.goal||"No goal specified"}),me.aiSummary?s.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400 line-clamp-3",children:[s.jsx("div",{className:"font-medium text-blue-600 dark:text-blue-400 mb-1",children:"AI Summary:"}),s.jsx("div",{className:"prose prose-sm dark:prose-invert prose-p:my-0 prose-ul:my-0 prose-li:my-0",children:me.aiSummary.split(`
`).map((de,dt)=>s.jsx("div",{children:de},dt))})]}):me.notes?s.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400 line-clamp-2",children:me.notes}):null,s.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[me.tags.map(de=>s.jsx("span",{onClick:()=>u(de),role:"button",tabIndex:0,className:"px-2 py-0.5 text-xs rounded-full bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 cursor-pointer hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",title:`Click to filter by ${de}`,children:de},de)),me.links&&me.links.length>0?s.jsx(Xv,{links:me.links,size:"sm",maxVisible:3}):me.link&&s.jsxs("a",{href:me.link.startsWith("doi:")?`https://doi.org/${me.link.replace("doi:","")}`:me.link,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-blue-600 hover:text-blue-600/80 inline-flex items-center",children:[s.jsx("span",{className:"material-icons text-sm mr-1",children:"link"}),me.link.length>30?`${me.link.substring(0,30)}...`:me.link]})]})]}),s.jsxs("div",{className:"flex items-center space-x-3 ml-4",children:[s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"text-lg font-mono font-medium text-gray-800 dark:text-gray-200",children:[Ce,"m"]}),s.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:[Tv(me.plannedMs)," planned"]})]}),s.jsx(We,{variant:"ghost",size:"sm",leftIcon:"edit_note",onClick:()=>U(me.id),children:me.journal?"Edit Journal":"Add Journal"})]})]})})},me.id)}):!I&&!te?s.jsx(pt,{children:s.jsx(yt,{className:"py-12 text-center",children:s.jsxs("div",{className:"text-gray-500 dark:text-gray-400",children:[s.jsx("span",{className:"material-icons text-4xl mb-4 block",children:"timeline"}),s.jsx("div",{className:"text-lg font-medium mb-2",children:r!=="all"||d||m!=="all"?"No sessions match your filters":"No sessions yet"}),s.jsx("div",{className:"text-sm",children:r!=="all"||d||m!=="all"?s.jsx("button",{onClick:()=>{o("all"),u(""),p("all")},className:"text-blue-600 hover:text-blue-600/80",children:"Clear filters"}):"Start your first focus session to see it here"})]})})}):null]})]}),ee&&s.jsx(_g,{open:x,mode:ee.mode,sessionId:N||"",session:ee,onSave:Y,onSkip:le,onCancel:ue})]})},Mg=6048e5,Pv=864e5,Im=Symbol.for("constructDateFrom");function ar(r,o){return typeof r=="function"?r(o):r&&typeof r=="object"&&Im in r?r[Im](o):r instanceof Date?new r.constructor(o):new Date(o)}function rn(r,o){return ar(o||r,r)}function Og(r,o,d){const u=rn(r,d?.in);return isNaN(o)?ar(r,NaN):(o&&u.setDate(u.getDate()+o),u)}let Vv={};function Tu(){return Vv}function rr(r,o){const d=Tu(),u=o?.weekStartsOn??o?.locale?.options?.weekStartsOn??d.weekStartsOn??d.locale?.options?.weekStartsOn??0,m=rn(r,o?.in),p=m.getDay(),x=(p<u?7:0)+p-u;return m.setDate(m.getDate()-x),m.setHours(0,0,0,0),m}function ju(r,o){return rr(r,{...o,weekStartsOn:1})}function Rg(r,o){const d=rn(r,o?.in),u=d.getFullYear(),m=ar(d,0);m.setFullYear(u+1,0,4),m.setHours(0,0,0,0);const p=ju(m),x=ar(d,0);x.setFullYear(u,0,4),x.setHours(0,0,0,0);const w=ju(x);return d.getTime()>=p.getTime()?u+1:d.getTime()>=w.getTime()?u:u-1}function eg(r){const o=rn(r),d=new Date(Date.UTC(o.getFullYear(),o.getMonth(),o.getDate(),o.getHours(),o.getMinutes(),o.getSeconds(),o.getMilliseconds()));return d.setUTCFullYear(o.getFullYear()),+r-+d}function zg(r,...o){const d=ar.bind(null,o.find(u=>typeof u=="object"));return o.map(d)}function Ir(r,o){const d=rn(r,o?.in);return d.setHours(0,0,0,0),d}function Bg(r,o,d){const[u,m]=zg(d?.in,r,o),p=Ir(u),x=Ir(m),w=+p-eg(p),N=+x-eg(x);return Math.round((w-N)/Pv)}function Fv(r,o){const d=Rg(r,o),u=ar(r,0);return u.setFullYear(d,0,4),u.setHours(0,0,0,0),ju(u)}function _i(r,o,d){return Og(r,o*7,d)}function Zv(r){return r instanceof Date||typeof r=="object"&&Object.prototype.toString.call(r)==="[object Date]"}function Jv(r){return!(!Zv(r)&&typeof r!="number"||isNaN(+rn(r)))}function Wv(r,o,d){const[u,m]=zg(d?.in,r,o),p=tg(u,m),x=Math.abs(Bg(u,m));u.setDate(u.getDate()-p*x);const w=+(tg(u,m)===-p),N=p*(x-w);return N===0?0:N}function tg(r,o){const d=r.getFullYear()-o.getFullYear()||r.getMonth()-o.getMonth()||r.getDate()-o.getDate()||r.getHours()-o.getHours()||r.getMinutes()-o.getMinutes()||r.getSeconds()-o.getSeconds()||r.getMilliseconds()-o.getMilliseconds();return d<0?-1:d>0?1:d}function Zs(r,o){const d=rn(r,o?.in);return d.setHours(23,59,59,999),d}function Iv(r,o){const d=rn(r,o?.in);return d.setFullYear(d.getFullYear(),0,1),d.setHours(0,0,0,0),d}function ex(r,o){const d=o?.weekStartsOn,u=rn(r,o?.in),m=u.getDay(),p=(m<d?-7:0)+6-(m-d);return u.setDate(u.getDate()+p),u.setHours(23,59,59,999),u}const tx={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},nx=(r,o,d)=>{let u;const m=tx[r];return typeof m=="string"?u=m:o===1?u=m.one:u=m.other.replace("{{count}}",o.toString()),d?.addSuffix?d.comparison&&d.comparison>0?"in "+u:u+" ago":u};function jd(r){return(o={})=>{const d=o.width?String(o.width):r.defaultWidth;return r.formats[d]||r.formats[r.defaultWidth]}}const ax={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},rx={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},lx={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},ix={date:jd({formats:ax,defaultWidth:"full"}),time:jd({formats:rx,defaultWidth:"full"}),dateTime:jd({formats:lx,defaultWidth:"full"})},sx={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},ox=(r,o,d,u)=>sx[r];function Vs(r){return(o,d)=>{const u=d?.context?String(d.context):"standalone";let m;if(u==="formatting"&&r.formattingValues){const x=r.defaultFormattingWidth||r.defaultWidth,w=d?.width?String(d.width):x;m=r.formattingValues[w]||r.formattingValues[x]}else{const x=r.defaultWidth,w=d?.width?String(d.width):r.defaultWidth;m=r.values[w]||r.values[x]}const p=r.argumentCallback?r.argumentCallback(o):o;return m[p]}}const ux={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},cx={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},dx={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},fx={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},hx={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},mx={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},gx=(r,o)=>{const d=Number(r),u=d%100;if(u>20||u<10)switch(u%10){case 1:return d+"st";case 2:return d+"nd";case 3:return d+"rd"}return d+"th"},px={ordinalNumber:gx,era:Vs({values:ux,defaultWidth:"wide"}),quarter:Vs({values:cx,defaultWidth:"wide",argumentCallback:r=>r-1}),month:Vs({values:dx,defaultWidth:"wide"}),day:Vs({values:fx,defaultWidth:"wide"}),dayPeriod:Vs({values:hx,defaultWidth:"wide",formattingValues:mx,defaultFormattingWidth:"wide"})};function Fs(r){return(o,d={})=>{const u=d.width,m=u&&r.matchPatterns[u]||r.matchPatterns[r.defaultMatchWidth],p=o.match(m);if(!p)return null;const x=p[0],w=u&&r.parsePatterns[u]||r.parsePatterns[r.defaultParseWidth],N=Array.isArray(w)?vx(w,T=>T.test(x)):yx(w,T=>T.test(x));let b;b=r.valueCallback?r.valueCallback(N):N,b=d.valueCallback?d.valueCallback(b):b;const S=o.slice(x.length);return{value:b,rest:S}}}function yx(r,o){for(const d in r)if(Object.prototype.hasOwnProperty.call(r,d)&&o(r[d]))return d}function vx(r,o){for(let d=0;d<r.length;d++)if(o(r[d]))return d}function xx(r){return(o,d={})=>{const u=o.match(r.matchPattern);if(!u)return null;const m=u[0],p=o.match(r.parsePattern);if(!p)return null;let x=r.valueCallback?r.valueCallback(p[0]):p[0];x=d.valueCallback?d.valueCallback(x):x;const w=o.slice(m.length);return{value:x,rest:w}}}const bx=/^(\d+)(th|st|nd|rd)?/i,wx=/\d+/i,Sx={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},kx={any:[/^b/i,/^(a|c)/i]},jx={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Nx={any:[/1/i,/2/i,/3/i,/4/i]},Ex={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Tx={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Ax={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Cx={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},_x={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Dx={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Mx={ordinalNumber:xx({matchPattern:bx,parsePattern:wx,valueCallback:r=>parseInt(r,10)}),era:Fs({matchPatterns:Sx,defaultMatchWidth:"wide",parsePatterns:kx,defaultParseWidth:"any"}),quarter:Fs({matchPatterns:jx,defaultMatchWidth:"wide",parsePatterns:Nx,defaultParseWidth:"any",valueCallback:r=>r+1}),month:Fs({matchPatterns:Ex,defaultMatchWidth:"wide",parsePatterns:Tx,defaultParseWidth:"any"}),day:Fs({matchPatterns:Ax,defaultMatchWidth:"wide",parsePatterns:Cx,defaultParseWidth:"any"}),dayPeriod:Fs({matchPatterns:_x,defaultMatchWidth:"any",parsePatterns:Dx,defaultParseWidth:"any"})},Ox={code:"en-US",formatDistance:nx,formatLong:ix,formatRelative:ox,localize:px,match:Mx,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Rx(r,o){const d=rn(r,o?.in);return Bg(d,Iv(d))+1}function zx(r,o){const d=rn(r,o?.in),u=+ju(d)-+Fv(d);return Math.round(u/Mg)+1}function Ug(r,o){const d=rn(r,o?.in),u=d.getFullYear(),m=Tu(),p=o?.firstWeekContainsDate??o?.locale?.options?.firstWeekContainsDate??m.firstWeekContainsDate??m.locale?.options?.firstWeekContainsDate??1,x=ar(o?.in||r,0);x.setFullYear(u+1,0,p),x.setHours(0,0,0,0);const w=rr(x,o),N=ar(o?.in||r,0);N.setFullYear(u,0,p),N.setHours(0,0,0,0);const b=rr(N,o);return+d>=+w?u+1:+d>=+b?u:u-1}function Bx(r,o){const d=Tu(),u=o?.firstWeekContainsDate??o?.locale?.options?.firstWeekContainsDate??d.firstWeekContainsDate??d.locale?.options?.firstWeekContainsDate??1,m=Ug(r,o),p=ar(o?.in||r,0);return p.setFullYear(m,0,u),p.setHours(0,0,0,0),rr(p,o)}function Ux(r,o){const d=rn(r,o?.in),u=+rr(d,o)-+Bx(d,o);return Math.round(u/Mg)+1}function gt(r,o){const d=r<0?"-":"",u=Math.abs(r).toString().padStart(o,"0");return d+u}const Vr={y(r,o){const d=r.getFullYear(),u=d>0?d:1-d;return gt(o==="yy"?u%100:u,o.length)},M(r,o){const d=r.getMonth();return o==="M"?String(d+1):gt(d+1,2)},d(r,o){return gt(r.getDate(),o.length)},a(r,o){const d=r.getHours()/12>=1?"pm":"am";switch(o){case"a":case"aa":return d.toUpperCase();case"aaa":return d;case"aaaaa":return d[0];case"aaaa":default:return d==="am"?"a.m.":"p.m."}},h(r,o){return gt(r.getHours()%12||12,o.length)},H(r,o){return gt(r.getHours(),o.length)},m(r,o){return gt(r.getMinutes(),o.length)},s(r,o){return gt(r.getSeconds(),o.length)},S(r,o){const d=o.length,u=r.getMilliseconds(),m=Math.trunc(u*Math.pow(10,d-3));return gt(m,o.length)}},Ni={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},ng={G:function(r,o,d){const u=r.getFullYear()>0?1:0;switch(o){case"G":case"GG":case"GGG":return d.era(u,{width:"abbreviated"});case"GGGGG":return d.era(u,{width:"narrow"});case"GGGG":default:return d.era(u,{width:"wide"})}},y:function(r,o,d){if(o==="yo"){const u=r.getFullYear(),m=u>0?u:1-u;return d.ordinalNumber(m,{unit:"year"})}return Vr.y(r,o)},Y:function(r,o,d,u){const m=Ug(r,u),p=m>0?m:1-m;if(o==="YY"){const x=p%100;return gt(x,2)}return o==="Yo"?d.ordinalNumber(p,{unit:"year"}):gt(p,o.length)},R:function(r,o){const d=Rg(r);return gt(d,o.length)},u:function(r,o){const d=r.getFullYear();return gt(d,o.length)},Q:function(r,o,d){const u=Math.ceil((r.getMonth()+1)/3);switch(o){case"Q":return String(u);case"QQ":return gt(u,2);case"Qo":return d.ordinalNumber(u,{unit:"quarter"});case"QQQ":return d.quarter(u,{width:"abbreviated",context:"formatting"});case"QQQQQ":return d.quarter(u,{width:"narrow",context:"formatting"});case"QQQQ":default:return d.quarter(u,{width:"wide",context:"formatting"})}},q:function(r,o,d){const u=Math.ceil((r.getMonth()+1)/3);switch(o){case"q":return String(u);case"qq":return gt(u,2);case"qo":return d.ordinalNumber(u,{unit:"quarter"});case"qqq":return d.quarter(u,{width:"abbreviated",context:"standalone"});case"qqqqq":return d.quarter(u,{width:"narrow",context:"standalone"});case"qqqq":default:return d.quarter(u,{width:"wide",context:"standalone"})}},M:function(r,o,d){const u=r.getMonth();switch(o){case"M":case"MM":return Vr.M(r,o);case"Mo":return d.ordinalNumber(u+1,{unit:"month"});case"MMM":return d.month(u,{width:"abbreviated",context:"formatting"});case"MMMMM":return d.month(u,{width:"narrow",context:"formatting"});case"MMMM":default:return d.month(u,{width:"wide",context:"formatting"})}},L:function(r,o,d){const u=r.getMonth();switch(o){case"L":return String(u+1);case"LL":return gt(u+1,2);case"Lo":return d.ordinalNumber(u+1,{unit:"month"});case"LLL":return d.month(u,{width:"abbreviated",context:"standalone"});case"LLLLL":return d.month(u,{width:"narrow",context:"standalone"});case"LLLL":default:return d.month(u,{width:"wide",context:"standalone"})}},w:function(r,o,d,u){const m=Ux(r,u);return o==="wo"?d.ordinalNumber(m,{unit:"week"}):gt(m,o.length)},I:function(r,o,d){const u=zx(r);return o==="Io"?d.ordinalNumber(u,{unit:"week"}):gt(u,o.length)},d:function(r,o,d){return o==="do"?d.ordinalNumber(r.getDate(),{unit:"date"}):Vr.d(r,o)},D:function(r,o,d){const u=Rx(r);return o==="Do"?d.ordinalNumber(u,{unit:"dayOfYear"}):gt(u,o.length)},E:function(r,o,d){const u=r.getDay();switch(o){case"E":case"EE":case"EEE":return d.day(u,{width:"abbreviated",context:"formatting"});case"EEEEE":return d.day(u,{width:"narrow",context:"formatting"});case"EEEEEE":return d.day(u,{width:"short",context:"formatting"});case"EEEE":default:return d.day(u,{width:"wide",context:"formatting"})}},e:function(r,o,d,u){const m=r.getDay(),p=(m-u.weekStartsOn+8)%7||7;switch(o){case"e":return String(p);case"ee":return gt(p,2);case"eo":return d.ordinalNumber(p,{unit:"day"});case"eee":return d.day(m,{width:"abbreviated",context:"formatting"});case"eeeee":return d.day(m,{width:"narrow",context:"formatting"});case"eeeeee":return d.day(m,{width:"short",context:"formatting"});case"eeee":default:return d.day(m,{width:"wide",context:"formatting"})}},c:function(r,o,d,u){const m=r.getDay(),p=(m-u.weekStartsOn+8)%7||7;switch(o){case"c":return String(p);case"cc":return gt(p,o.length);case"co":return d.ordinalNumber(p,{unit:"day"});case"ccc":return d.day(m,{width:"abbreviated",context:"standalone"});case"ccccc":return d.day(m,{width:"narrow",context:"standalone"});case"cccccc":return d.day(m,{width:"short",context:"standalone"});case"cccc":default:return d.day(m,{width:"wide",context:"standalone"})}},i:function(r,o,d){const u=r.getDay(),m=u===0?7:u;switch(o){case"i":return String(m);case"ii":return gt(m,o.length);case"io":return d.ordinalNumber(m,{unit:"day"});case"iii":return d.day(u,{width:"abbreviated",context:"formatting"});case"iiiii":return d.day(u,{width:"narrow",context:"formatting"});case"iiiiii":return d.day(u,{width:"short",context:"formatting"});case"iiii":default:return d.day(u,{width:"wide",context:"formatting"})}},a:function(r,o,d){const m=r.getHours()/12>=1?"pm":"am";switch(o){case"a":case"aa":return d.dayPeriod(m,{width:"abbreviated",context:"formatting"});case"aaa":return d.dayPeriod(m,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return d.dayPeriod(m,{width:"narrow",context:"formatting"});case"aaaa":default:return d.dayPeriod(m,{width:"wide",context:"formatting"})}},b:function(r,o,d){const u=r.getHours();let m;switch(u===12?m=Ni.noon:u===0?m=Ni.midnight:m=u/12>=1?"pm":"am",o){case"b":case"bb":return d.dayPeriod(m,{width:"abbreviated",context:"formatting"});case"bbb":return d.dayPeriod(m,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return d.dayPeriod(m,{width:"narrow",context:"formatting"});case"bbbb":default:return d.dayPeriod(m,{width:"wide",context:"formatting"})}},B:function(r,o,d){const u=r.getHours();let m;switch(u>=17?m=Ni.evening:u>=12?m=Ni.afternoon:u>=4?m=Ni.morning:m=Ni.night,o){case"B":case"BB":case"BBB":return d.dayPeriod(m,{width:"abbreviated",context:"formatting"});case"BBBBB":return d.dayPeriod(m,{width:"narrow",context:"formatting"});case"BBBB":default:return d.dayPeriod(m,{width:"wide",context:"formatting"})}},h:function(r,o,d){if(o==="ho"){let u=r.getHours()%12;return u===0&&(u=12),d.ordinalNumber(u,{unit:"hour"})}return Vr.h(r,o)},H:function(r,o,d){return o==="Ho"?d.ordinalNumber(r.getHours(),{unit:"hour"}):Vr.H(r,o)},K:function(r,o,d){const u=r.getHours()%12;return o==="Ko"?d.ordinalNumber(u,{unit:"hour"}):gt(u,o.length)},k:function(r,o,d){let u=r.getHours();return u===0&&(u=24),o==="ko"?d.ordinalNumber(u,{unit:"hour"}):gt(u,o.length)},m:function(r,o,d){return o==="mo"?d.ordinalNumber(r.getMinutes(),{unit:"minute"}):Vr.m(r,o)},s:function(r,o,d){return o==="so"?d.ordinalNumber(r.getSeconds(),{unit:"second"}):Vr.s(r,o)},S:function(r,o){return Vr.S(r,o)},X:function(r,o,d){const u=r.getTimezoneOffset();if(u===0)return"Z";switch(o){case"X":return rg(u);case"XXXX":case"XX":return Ol(u);case"XXXXX":case"XXX":default:return Ol(u,":")}},x:function(r,o,d){const u=r.getTimezoneOffset();switch(o){case"x":return rg(u);case"xxxx":case"xx":return Ol(u);case"xxxxx":case"xxx":default:return Ol(u,":")}},O:function(r,o,d){const u=r.getTimezoneOffset();switch(o){case"O":case"OO":case"OOO":return"GMT"+ag(u,":");case"OOOO":default:return"GMT"+Ol(u,":")}},z:function(r,o,d){const u=r.getTimezoneOffset();switch(o){case"z":case"zz":case"zzz":return"GMT"+ag(u,":");case"zzzz":default:return"GMT"+Ol(u,":")}},t:function(r,o,d){const u=Math.trunc(+r/1e3);return gt(u,o.length)},T:function(r,o,d){return gt(+r,o.length)}};function ag(r,o=""){const d=r>0?"-":"+",u=Math.abs(r),m=Math.trunc(u/60),p=u%60;return p===0?d+String(m):d+String(m)+o+gt(p,2)}function rg(r,o){return r%60===0?(r>0?"-":"+")+gt(Math.abs(r)/60,2):Ol(r,o)}function Ol(r,o=""){const d=r>0?"-":"+",u=Math.abs(r),m=gt(Math.trunc(u/60),2),p=gt(u%60,2);return d+m+o+p}const lg=(r,o)=>{switch(r){case"P":return o.date({width:"short"});case"PP":return o.date({width:"medium"});case"PPP":return o.date({width:"long"});case"PPPP":default:return o.date({width:"full"})}},qg=(r,o)=>{switch(r){case"p":return o.time({width:"short"});case"pp":return o.time({width:"medium"});case"ppp":return o.time({width:"long"});case"pppp":default:return o.time({width:"full"})}},qx=(r,o)=>{const d=r.match(/(P+)(p+)?/)||[],u=d[1],m=d[2];if(!m)return lg(r,o);let p;switch(u){case"P":p=o.dateTime({width:"short"});break;case"PP":p=o.dateTime({width:"medium"});break;case"PPP":p=o.dateTime({width:"long"});break;case"PPPP":default:p=o.dateTime({width:"full"});break}return p.replace("{{date}}",lg(u,o)).replace("{{time}}",qg(m,o))},Lx={p:qg,P:qx},Hx=/^D+$/,Yx=/^Y+$/,Kx=["D","DD","YY","YYYY"];function Gx(r){return Hx.test(r)}function $x(r){return Yx.test(r)}function Xx(r,o,d){const u=Qx(r,o,d);if(console.warn(u),Kx.includes(r))throw new RangeError(u)}function Qx(r,o,d){const u=r[0]==="Y"?"years":"days of the month";return`Use \`${r.toLowerCase()}\` instead of \`${r}\` (in \`${o}\`) for formatting ${u} to the input \`${d}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Px=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Vx=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Fx=/^'([^]*?)'?$/,Zx=/''/g,Jx=/[a-zA-Z]/;function lr(r,o,d){const u=Tu(),m=u.locale??Ox,p=u.firstWeekContainsDate??u.locale?.options?.firstWeekContainsDate??1,x=u.weekStartsOn??u.locale?.options?.weekStartsOn??0,w=rn(r,d?.in);if(!Jv(w))throw new RangeError("Invalid time value");let N=o.match(Vx).map(S=>{const T=S[0];if(T==="p"||T==="P"){const Q=Lx[T];return Q(S,m.formatLong)}return S}).join("").match(Px).map(S=>{if(S==="''")return{isToken:!1,value:"'"};const T=S[0];if(T==="'")return{isToken:!1,value:Wx(S)};if(ng[T])return{isToken:!0,value:S};if(T.match(Jx))throw new RangeError("Format string contains an unescaped latin alphabet character `"+T+"`");return{isToken:!1,value:S}});m.localize.preprocessor&&(N=m.localize.preprocessor(w,N));const b={firstWeekContainsDate:p,weekStartsOn:x,locale:m};return N.map(S=>{if(!S.isToken)return S.value;const T=S.value;($x(T)||Gx(T))&&Xx(T,o,String(r));const Q=ng[T[0]];return Q(w,T,m.localize,b)}).join("")}function Wx(r){const o=r.match(Fx);return o?o[1].replace(Zx,"'"):r}function Ix(r,o){return+rn(r)>+rn(o)}function eb(r,o){return+rn(r)<+rn(o)}function Nd(r,o,d){return Og(r,-o,d)}function Ed(r,o,d){return _i(r,-1,d)}const gu=({label:r,value:o,tooltip:d})=>{const[u,m]=E.useState(!1);return s.jsx(pt,{className:"relative",children:s.jsx(yt,{className:"pt-6",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400 mb-1",children:r}),s.jsx("p",{className:"text-3xl font-bold text-gray-800 dark:text-gray-200",children:o})]}),s.jsxs("div",{className:"relative",children:[s.jsxs("button",{className:"ml-2 text-gray-400 hover:text-gray-600 dark:text-gray-500 dark:hover:text-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 rounded-full p-1",onMouseEnter:()=>m(!0),onMouseLeave:()=>m(!1),onFocus:()=>m(!0),onBlur:()=>m(!1),"aria-describedby":`tooltip-${r.replace(/\s+/g,"-").toLowerCase()}`,children:[s.jsx("span",{className:"material-icons text-sm",children:"info"}),s.jsxs("span",{className:"sr-only",children:["Show formula for ",r]})]}),u&&s.jsxs("div",{id:`tooltip-${r.replace(/\s+/g,"-").toLowerCase()}`,className:"absolute right-0 top-8 z-10 w-72 p-3 text-xs bg-gray-900 text-white rounded-lg shadow-lg border border-gray-700",role:"tooltip",children:[s.jsx("div",{className:"mb-2 font-medium text-gray-200",children:"Formula:"}),s.jsx("div",{className:"text-gray-300 leading-relaxed",children:d}),s.jsx("div",{className:"absolute -top-1 right-4 w-2 h-2 bg-gray-900 border-l border-t border-gray-700 transform rotate-45"})]})]})]})})})};function tb(r){const o=Math.floor(r/60),d=r%60;return`${o}:${d.toString().padStart(2,"0")}`}function nb(r){return`${Math.round(r)}%`}function Wr(r){if(r<60)return`${r}min`;const o=Math.floor(r/60),d=r%60;return d===0?`${o}h`:`${o}h ${d}min`}const ig=({data:r,ariaLabel:o})=>{if(r.length===0)return s.jsx("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:"No data available"});const d=Math.max(...r.map(u=>u.value));return s.jsxs("div",{role:"img","aria-label":o,className:"space-y-3",children:[s.jsxs("div",{className:"sr-only",children:["Distribution showing ",r.length," items.",r.map((u,m)=>`${u.label}: ${Wr(u.value)}${m<r.length-1?", ":""}`).join("")]}),r.map((u,m)=>{const p=d>0?u.value/d*100:0;return s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-20 text-sm text-gray-600 dark:text-gray-400 text-right flex-shrink-0",children:u.label}),s.jsxs("div",{className:"flex-1 relative",children:[s.jsx("div",{className:"h-6 bg-gray-100 dark:bg-gray-800 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-blue-600 rounded-full transition-all duration-300 ease-out",style:{width:`${p}%`},role:"progressbar","aria-valuenow":u.value,"aria-valuemax":d,"aria-label":`${u.label}: ${Wr(u.value)}`})}),s.jsx("div",{className:"absolute inset-0 flex items-center px-3",children:s.jsx("span",{className:"text-xs font-medium text-gray-700 dark:text-gray-300",children:Wr(u.value)})})]}),s.jsxs("div",{className:"w-12 text-xs text-gray-500 dark:text-gray-400 text-right flex-shrink-0",children:[d>0?Math.round(p):0,"%"]})]},`${u.label}-${m}`)})]})},ab=({matrix:r,rowLabels:o,colLabels:d})=>{if(r.length===0||r[0].length===0)return s.jsx("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:"No data available for heatmap"});const u=Math.max(...r.flat()),m=w=>{if(w===0)return"bg-gray-100 dark:bg-gray-800";const N=u>0?w/u:0;return N<=.2?"bg-blue-600/20":N<=.4?"bg-blue-600/40":N<=.6?"bg-blue-600/60":N<=.8?"bg-blue-600/80":"bg-blue-600"},p=r.flat().reduce((w,N)=>w+N,0),x=r.flat().filter(w=>w>0).length;return s.jsxs("div",{role:"img","aria-label":"Weekly focus time heatmap",className:"w-full",children:[s.jsxs("div",{className:"sr-only",children:["Heatmap showing ",d.length," weeks of focus time data. Total focus time: ",Wr(p)," across ",x," active days. Each cell shows minutes focused on that day."]}),s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Focus time per day"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Less"}),s.jsxs("div",{className:"flex space-x-1",children:[s.jsx("div",{className:"w-3 h-3 rounded bg-gray-100 dark:bg-gray-800"}),s.jsx("div",{className:"w-3 h-3 rounded bg-blue-600/20"}),s.jsx("div",{className:"w-3 h-3 rounded bg-blue-600/40"}),s.jsx("div",{className:"w-3 h-3 rounded bg-blue-600/60"}),s.jsx("div",{className:"w-3 h-3 rounded bg-blue-600/80"}),s.jsx("div",{className:"w-3 h-3 rounded bg-blue-600"})]}),s.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"More"})]})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("div",{className:"inline-block min-w-full",children:[s.jsxs("div",{className:"flex mb-1",children:[s.jsx("div",{className:"w-12"})," ",d.map((w,N)=>s.jsx("div",{className:"flex-1 min-w-[40px] text-center",children:s.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 transform -rotate-45 origin-bottom-left",children:w})},N))]}),r.map((w,N)=>s.jsxs("div",{className:"flex items-center mb-1",children:[s.jsx("div",{className:"w-12 text-xs text-gray-500 dark:text-gray-400 text-right pr-2",children:o[N]}),w.map((b,S)=>s.jsx("div",{className:"flex-1 min-w-[40px] px-0.5",children:s.jsx("div",{className:`
                      w-full h-8 rounded border border-gray-200 dark:border-gray-700
                      ${m(b)}
                      flex items-center justify-center cursor-help
                      hover:ring-2 hover:ring-blue-500 hover:ring-opacity-50
                      transition-all duration-200
                    `,title:`${o[N]}, ${d[S]}: ${Wr(b)}`,role:"gridcell","aria-label":`${o[N]}, ${d[S]}: ${Wr(b)} focused`,children:s.jsx("span",{className:"text-xs font-medium text-gray-700 dark:text-gray-300",children:b>0?b:""})})},S))]},N))]})}),s.jsxs("div",{className:"mt-4 flex flex-wrap gap-4 text-sm text-gray-600 dark:text-gray-400",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Total:"})," ",Wr(p)]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Active days:"})," ",x]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Best day:"})," ",Wr(u)]})]})]})};function Oi(r,o){const d=new Date(r);return!eb(d,o.start)&&!Ix(d,o.end)}function Ri(r){return!r.endedAt||r.status!=="completed"?0:r.endedAt-r.startedAt}function zl(r){return r.filter(o=>o.mode!=="break"&&o.status==="completed")}function Lg(r,o){const u=zl(r).filter(m=>!o||Oi(m.startedAt,o)).reduce((m,p)=>m+Ri(p),0);return Math.round(u/6e4)}function Hg(r,o){return r.filter(d=>d.status==="completed").filter(d=>!o||Oi(d.startedAt,o)).length}function Yg(r,o){const d=zl(r).filter(p=>!o||Oi(p.startedAt,o));if(d.length===0)return 0;const m=d.reduce((p,x)=>p+Ri(x),0)/d.length;return Math.round(m/6e4*10)/10}function Kg(r,o){const d=zl(r).filter(m=>!o||Oi(m.startedAt,o));if(d.length===0)return 0;const u=d.filter(m=>{const p=Ri(m),x=m.plannedMs;return p>=.9*x});return Math.round(u.length/d.length*100)}function Gg(r,o){const d=zl(r).filter(m=>!o||Oi(m.startedAt,o)),u={};return d.forEach(m=>{const p=Math.round(Ri(m)/6e4);u[m.mode]=(u[m.mode]||0)+p}),u}function $g(r,o,d=10){const u=zl(r).filter(N=>!o||Oi(N.startedAt,o)),m={};u.forEach(N=>{const b=Math.round(Ri(N)/6e4);N.tags.forEach(S=>{m[S]=(m[S]||0)+b})});const p=Object.entries(m).sort((N,b)=>b[1]-N[1]),x={};let w=0;return p.forEach(([N,b],S)=>{S<d?x[N]=b:w+=b}),[x,w]}function rb(r,o){const u=rr(new Date,{weekStartsOn:1}),m=Array(7).fill(null).map(()=>Array(o).fill(0));return zl(r).forEach(x=>{const w=new Date(x.startedAt),N=(w.getDay()+6)%7;for(let b=0;b<o;b++){const S=rr(_i(u,-(o-1-b)),{weekStartsOn:1}),T=Zs(_i(S,1));if(w>=S&&w<T){const Q=Math.round(Ri(x)/6e4);m[N][b]+=Q;break}}}),m}function lb(r){const o=zl(r);if(o.length===0)return{current:0,longest:0};const d=new Set;o.forEach(b=>{const S=lr(Ir(new Date(b.startedAt)),"yyyy-MM-dd");d.add(S)});let u=0,p=Ir(new Date);for(;;){const b=lr(p,"yyyy-MM-dd");if(d.has(b))u++,p=new Date(p),p.setDate(p.getDate()-1);else break}const x=Array.from(d).sort();let w=0,N=0;for(let b=0;b<x.length;b++)if(b===0)N=1;else{const S=new Date(x[b-1]),T=new Date(x[b]);Wv(T,S)===1?N++:(w=Math.max(w,N),N=1)}return w=Math.max(w,N),{current:u,longest:w}}function ib(r){const{sessions:o,loading:d,error:u}=qd({});return{...E.useMemo(()=>{if(d||u||!o)return{totalFocusTime:0,sessionsCompleted:0,avgSessionLength:0,completionRate:0,modeDistribution:[],tagDistribution:[],heatmapMatrix:[],heatmapRowLabels:[],heatmapColLabels:[],currentStreak:0,longestStreak:0};const p=Lg(o,r),x=Hg(o,r),w=Yg(o,r),N=Kg(o,r),b=Gg(o,r),S=Object.entries(b).map(([ue,pe])=>({label:ue,value:pe})).sort((ue,pe)=>pe.value-ue.value),[T,Q]=$g(o,r,10),I=Object.entries(T).map(([ue,pe])=>({label:ue,value:pe})).sort((ue,pe)=>pe.value-ue.value);Q>0&&I.push({label:"Other",value:Q});const te=6,ee=rb(o,te),fe=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],oe=rr(new Date,{weekStartsOn:1}),U=Array.from({length:te},(ue,pe)=>{const _e=_i(oe,-(te-1-pe));return lr(_e,"M/d")}),{current:Y,longest:le}=lb(o);return{totalFocusTime:p,sessionsCompleted:x,avgSessionLength:w,completionRate:N,modeDistribution:S,tagDistribution:I,heatmapMatrix:ee,heatmapRowLabels:fe,heatmapColLabels:U,currentStreak:Y,longestStreak:le}},[o,r,d,u]),loading:d,error:u}}const sb=()=>{const[r,o]=E.useState("last30"),[d,u]=E.useState(""),[m,p]=E.useState(""),x=E.useMemo(()=>{const S=new Date;switch(r){case"last7":return{start:Ir(Nd(S,6)),end:Zs(S)};case"last30":return{start:Ir(Nd(S,29)),end:Zs(S)};case"last90":return{start:Ir(Nd(S,89)),end:Zs(S)};case"custom":return d&&m?{start:Ir(new Date(d)),end:Zs(new Date(m))}:void 0;default:return}},[r,d,m]),w=ib(x),N={totalFocusTime:"Total Focus Time = sum of (actual minutes) for completed non-break sessions in range.",sessionsCompleted:"Sessions Completed = count of sessions with status=completed (all modes).",avgSessionLength:"Average Session Length = mean of actual minutes for completed non-break sessions.",completionRate:"Completion Rate = % of completed non-break sessions where actual  90% of planned."},b=S=>{o(S),S!=="custom"&&(u(""),p(""))};return s.jsxs("div",{className:"transition-all duration-300",children:[s.jsxs("div",{className:"text-center space-y-4 p-6 pb-8",children:[s.jsx("h1",{className:"font-display text-4xl lg:text-5xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent drop-shadow-lg",children:"Analytics"}),s.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-400",children:"Transparent insights from your research sessions"})]}),s.jsxs("div",{className:"max-w-7xl mx-auto px-4 space-y-6",children:[s.jsx("div",{className:"flex justify-center",children:s.jsx("div",{className:"bg-white/70 dark:bg-gray-900/70 backdrop-blur-lg rounded-xl p-4 border border-gray-200/30 dark:border-gray-700/30",children:s.jsx(lt,{label:"Time Range",htmlFor:"range-select",className:"w-auto",children:s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsxs("select",{id:"range-select",value:r,onChange:S=>b(S.target.value),className:"min-w-[140px]",children:[s.jsx("option",{value:"last7",children:"Last 7 days"}),s.jsx("option",{value:"last30",children:"Last 30 days"}),s.jsx("option",{value:"last90",children:"Last 90 days"}),s.jsx("option",{value:"custom",children:"Custom range"})]}),r==="custom"&&s.jsxs(s.Fragment,{children:[s.jsx("input",{type:"date",value:d,onChange:S=>u(S.target.value),className:"w-36","aria-label":"Start date"}),s.jsx("input",{type:"date",value:m,onChange:S=>p(S.target.value),className:"w-36","aria-label":"End date"})]})]})})})}),w.loading&&s.jsx(pt,{children:s.jsx(yt,{className:"py-8 text-center",children:s.jsx("div",{className:"text-gray-500 dark:text-gray-400",children:"Loading analytics..."})})}),w.error&&s.jsx(pt,{children:s.jsx(yt,{className:"py-8 text-center",children:s.jsxs("div",{className:"text-red-600 dark:text-red-400",children:["Error: ",w.error]})})}),!w.loading&&!w.error&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsx(gu,{label:"Total Focus Time",value:tb(w.totalFocusTime),tooltip:N.totalFocusTime}),s.jsx(gu,{label:"Sessions Completed",value:w.sessionsCompleted,tooltip:N.sessionsCompleted}),s.jsx(gu,{label:"Average Session Length",value:`${w.avgSessionLength} min`,tooltip:N.avgSessionLength}),s.jsx(gu,{label:"Completion Rate",value:nb(w.completionRate),tooltip:N.completionRate})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(pt,{children:[s.jsxs(Ft,{children:[s.jsx("h2",{className:"font-display text-xl font-medium",children:"Focus Time by Mode"}),s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Minutes spent in each focus mode"})]}),s.jsx(yt,{children:s.jsx(ig,{data:w.modeDistribution,ariaLabel:"Distribution of focus time by session mode"})})]}),s.jsxs(pt,{children:[s.jsxs(Ft,{children:[s.jsx("h2",{className:"font-display text-xl font-medium",children:"Focus Time by Tag"}),s.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Top tags by focus time",s.jsx("span",{className:"block text-xs mt-1",children:"Note: Full session minutes attributed to each tag"})]})]}),s.jsx(yt,{children:s.jsx(ig,{data:w.tagDistribution,ariaLabel:"Distribution of focus time by tag"})})]})]}),s.jsxs(pt,{children:[s.jsxs(Ft,{children:[s.jsx("h2",{className:"font-display text-xl font-medium",children:"Weekly Focus Heatmap"}),s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Daily focus time over the last 6 weeks (Monday start)"})]}),s.jsx(yt,{children:s.jsx(ab,{matrix:w.heatmapMatrix,rowLabels:w.heatmapRowLabels,colLabels:w.heatmapColLabels})})]}),s.jsxs(pt,{children:[s.jsxs(Ft,{children:[s.jsx("h2",{className:"font-display text-xl font-medium",children:"Focus Streaks"}),s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Consecutive days with completed focus sessions"})]}),s.jsx(yt,{children:s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-3xl font-bold text-blue-600 mb-2",children:w.currentStreak}),s.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Current streak"}),s.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-500 mt-1",children:"days in a row"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-3xl font-bold text-secondary mb-2",children:w.longestStreak}),s.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Longest streak"}),s.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-500 mt-1",children:"personal record"})]})]})})]})]})]})]})};function Au(){const r=Ag(()=>$e.settings.get("app"),[]);return{settings:r,get:()=>r,saveProfile:async p=>{const x=await $e.settings.get("app");if(!x)throw new Error("App settings not initialized");const w={...x,researcher:p,updatedAt:Date.now()};await $e.settings.put(w)},savePrivacy:async p=>{const x=await $e.settings.get("app");if(!x)throw new Error("App settings not initialized");const w={...x,privacy:p,updatedAt:Date.now()};await $e.settings.put(w)},saveAi:async p=>{const x=await $e.settings.get("app");if(!x)throw new Error("App settings not initialized");const w={...x,ai:p,updatedAt:Date.now()};await $e.settings.put(w)}}}function Xg(r){const o=rr(r,{weekStartsOn:1}),d=ex(r,{weekStartsOn:1});return d.setHours(23,59,59,999),{start:o,end:d}}function Qg(r,o){const d=lr(r,"EEE dd MMM yyyy"),u=lr(o,"EEE dd MMM yyyy");return`${d}  ${u}`}function pu(){return Xg(new Date)}function ob(r){return r.split(`
`).map(o=>o.trim()).filter(o=>o.length>0).slice(0,5)}function ub(r){if(!r.journal)return[];const o=[];switch(r.journal.kind){case"lit":r.journal.keyClaim&&o.push(`**Key Claim:** ${r.journal.keyClaim}`),r.journal.method&&o.push(`**Method:** ${r.journal.method}`),r.journal.limitation&&o.push(`**Limitation:** ${r.journal.limitation}`);break;case"writing":r.journal.wordsAdded!==null&&r.journal.wordsAdded!==void 0&&o.push(`**Words Added:** ${r.journal.wordsAdded}`),r.journal.sectionsTouched&&o.push(`**Sections:** ${r.journal.sectionsTouched}`);break;case"analysis":r.journal.nextStep&&o.push(`**Next Step:** ${r.journal.nextStep}`),r.journal.scriptOrNotebook&&o.push(`**Script:** ${r.journal.scriptOrNotebook}`),r.journal.datasetRef&&o.push(`**Dataset:** ${r.journal.datasetRef}`);break;case"deep":case"break":r.journal.whatMoved&&o.push(`**Progress:** ${r.journal.whatMoved}`);break}return o.slice(0,5)}function cb(r){return r?r.split(`
`).filter(u=>u.trim().length>0).slice(0,3).map(u=>{const m=u.trim();return m.length>200?`${m.substring(0,197)}...`:m}):[]}function db(r){const o=r.filter(d=>d.status==="completed"&&(d.links&&d.links.length>0||d.link&&d.link.length>0));return o.sort((d,u)=>{const m=p=>{let x=0;p.aiSummary?x+=1e3:p.journal?x+=100:p.notes&&(x+=10);const w=p.endedAt?p.endedAt-p.startedAt:0;return x+=Math.min(w/6e4,90),x};return m(u)-m(d)}),o.slice(0,3)}function fb(r){const o=[];return r.forEach(u=>{if(u.journal?.kind==="analysis"&&u.journal.nextStep&&o.push(u.journal.nextStep),u.notes){const m=u.notes.match(/TODO:\s*(.+)/gi);m&&m.forEach(p=>{const x=p.replace(/TODO:\s*/i,"").trim();x&&o.push(x)})}}),[...new Set(o)].slice(0,10).map(u=>u.length>150?`${u.substring(0,147)}...`:u)}function yu(r){return r.replace(/\|/g,"\\|").replace(/`/g,"\\`").replace(/\n/g," ").trim()}function vu(r){const o=Math.floor(r/60),d=r%60;return o===0?`${d}m`:d===0?`${o}h`:`${o}h ${d}m`}function sg(r){const{sessions:o,start:d,end:u,analytics:m,researcher:p}=r,x=[];if(x.push("# Weekly Report"),x.push(""),x.push(`**Week:** ${Qg(d,u)}`),x.push(""),p?.name||p?.affiliation){const S=[p.name,p.affiliation].filter(Boolean).join(", ");x.push(`**Researcher:** ${S}`),x.push("")}x.push("## Summary"),x.push(""),x.push(`- **Total Focus Time:** ${vu(m.totalFocusTimeMin)}`),x.push(`- **Sessions Completed:** ${m.sessionsCompleted}`),x.push(`- **Average Session Length:** ${m.avgSessionLengthMin.toFixed(1)} minutes`),x.push(`- **Completion Rate:** ${m.completionRatePct}%`),x.push(""),x.push("## Time Distribution"),x.push(""),Object.keys(m.modeDist).length>0&&(x.push("### By Mode"),x.push(""),Object.entries(m.modeDist).sort((S,T)=>T[1]-S[1]).forEach(([S,T])=>{const I=$t.find(te=>te.id===S)?.name||S;x.push(`- **${I}:** ${vu(T)}`)}),x.push("")),Object.keys(m.tagDist).length>0&&(x.push("### Top Focus Areas"),x.push(""),Object.entries(m.tagDist).sort((S,T)=>T[1]-S[1]).forEach(([S,T])=>{x.push(`- **${S}:** ${vu(T)}`)}),m.tagOtherMin>0&&x.push(`- **Other:** ${vu(m.tagOtherMin)}`),x.push(""));const w=db(o);w.length>0&&(x.push("## Highlights"),x.push(""),w.forEach(S=>{const Q=$t.find(he=>he.id===S.mode)?.name||S.mode,I=S.links&&S.links.length>0?_d(S.links[0]):S.link?Ci(S.link):"",te=lr(new Date(S.startedAt),"MMM dd");x.push(`### ${Q} - ${te}${I?` (${I})`:""}`),x.push(""),S.goal&&(x.push(`**Goal:** ${S.goal}`),x.push(""));let ee=[],fe=!1;S.aiSummary?(ee=ob(S.aiSummary),fe=!0):S.journal?ee=ub(S):S.notes&&(ee=cb(S.notes)),ee.length>0&&(ee.forEach(he=>{const oe=he.startsWith("")||he.startsWith("-")?he:` ${he}`;x.push(oe)}),fe&&(x.push(""),x.push("*AI-assisted summary*"))),x.push("")})),x.push("## Session Log (Appendix)"),x.push("");const N=o.filter(S=>S.status==="completed").sort((S,T)=>T.startedAt-S.startedAt);N.length>0?(x.push("| Date | Mode | Goal | Tags | Links | Duration | Journal |"),x.push("|------|------|------|------|-------|----------|---------|"),N.forEach(S=>{const Q=$t.find(U=>U.id===S.mode)?.name||S.mode,I=lr(new Date(S.startedAt),"MMM dd"),te=S.endedAt?Jr(S.endedAt-S.startedAt):0,ee=yu(S.goal||"-"),fe=yu(S.tags.join(", ")||"-"),he=S.links&&S.links.length>0?yu(S.links.map(U=>_d(U)).join(", ")):S.link?yu(Ci(S.link)):"-",oe=S.journal?S.aiSummary?"AI+Journal":"Journal":S.aiSummary?"AI":"-";x.push(`| ${I} | ${Q} | ${ee} | ${fe} | ${he} | ${te}m | ${oe} |`)})):x.push("*No completed sessions this week.*"),x.push("");const b=fb(o);return x.push("## Next Week Plan"),x.push(""),b.length>0?b.forEach(S=>{x.push(`- [ ] ${S}`)}):(x.push("*No specific plans identified from this week's sessions.*"),x.push(""),x.push("Consider adding TODO items in your session notes or next steps in analysis journals.")),x.push(""),x.push("---"),x.push("*Generated by Research Timer Pro*"),x.join(`
`)}async function hb(r){if(navigator.clipboard&&window.isSecureContext)try{return await navigator.clipboard.writeText(r),!0}catch(o){console.warn("Clipboard API failed, falling back to execCommand",o)}try{const o=document.createElement("textarea");o.value=r,o.style.position="fixed",o.style.left="-999999px",o.style.top="-999999px",document.body.appendChild(o),o.focus(),o.select();const d=document.execCommand("copy");return document.body.removeChild(o),d}catch(o){return console.error("Fallback clipboard copy failed",o),!1}}function mb(r,o,d="text/plain"){try{const u=new Blob([o],{type:d}),m=URL.createObjectURL(u),p=document.createElement("a");p.href=m,p.download=r,document.body.appendChild(p),p.click(),document.body.removeChild(p),URL.revokeObjectURL(m)}catch(u){throw console.error("Download failed",u),new Error("Failed to download file")}}function gb(r,o="md"){const d=r.getFullYear(),u=String(r.getMonth()+1).padStart(2,"0"),m=String(r.getDate()).padStart(2,"0");return`weekly-report-${d}-${u}-${m}.${o}`}function pb(){window.print()}const yb=()=>{const[r,o]=E.useState(()=>pu().start),[d,u]=E.useState("idle"),{settings:m}=Au(),p=E.useMemo(()=>{const{start:U,end:Y}=Xg(r);return{start:U,end:Y,display:Qg(U,Y)}},[r]),{sessions:x,loading:w}=qd({dateRange:{from:p.start,to:p.end}}),N=E.useMemo(()=>{const U={start:p.start,end:p.end},[Y,le]=$g(x,U,10);return{totalFocusTimeMin:Lg(x,U),sessionsCompleted:Hg(x,U),avgSessionLengthMin:Yg(x,U),completionRatePct:Kg(x,U),modeDist:Gg(x,U),tagDist:Y,tagOtherMin:le}},[x,p]),b=E.useMemo(()=>{const U=x.filter(Y=>Y.status==="completed"&&Y.link&&Y.link.length>0);return U.sort((Y,le)=>{const ue=pe=>{let _e=0;pe.aiSummary?_e+=1e3:pe.journal?_e+=100:pe.notes&&(_e+=10);const Le=pe.endedAt?pe.endedAt-pe.startedAt:0;return _e+=Math.min(Le/6e4,90),_e};return ue(le)-ue(Y)}),U.slice(0,3)},[x]),S=()=>{o(U=>Ed(U))},T=()=>{o(U=>_i(U,1))},Q=()=>{o(pu().start)},I=()=>{o(Ed(pu().start))},te=async()=>{u("copying");try{const U=sg({sessions:x,start:p.start,end:p.end,analytics:N,researcher:m?.researcher}),Y=await hb(U);u(Y?"success":"error"),setTimeout(()=>u("idle"),3e3)}catch(U){console.error("Copy failed:",U),u("error"),setTimeout(()=>u("idle"),3e3)}},ee=()=>{try{const U=sg({sessions:x,start:p.start,end:p.end,analytics:N,researcher:m?.researcher}),Y=gb(p.start,"md");mb(Y,U,"text/markdown")}catch(U){console.error("Download failed:",U)}},fe=()=>{pb()},he=U=>{const Y=Math.floor(U/60),le=U%60;return Y===0?`${le}m`:le===0?`${Y}h`:`${Y}h ${le}m`},oe=U=>{if(U.aiSummary)return U.aiSummary.split(`
`).filter(Y=>Y.trim().length>0).slice(0,5);if(U.journal){const Y=[];switch(U.journal.kind){case"lit":U.journal.keyClaim&&Y.push(`Key Claim: ${U.journal.keyClaim}`),U.journal.method&&Y.push(`Method: ${U.journal.method}`),U.journal.limitation&&Y.push(`Limitation: ${U.journal.limitation}`);break;case"writing":U.journal.wordsAdded&&Y.push(`Words Added: ${U.journal.wordsAdded}`),U.journal.sectionsTouched&&Y.push(`Sections: ${U.journal.sectionsTouched}`);break;case"analysis":U.journal.nextStep&&Y.push(`Next Step: ${U.journal.nextStep}`),U.journal.scriptOrNotebook&&Y.push(`Script: ${U.journal.scriptOrNotebook}`);break;case"deep":case"break":U.journal.whatMoved&&Y.push(`Progress: ${U.journal.whatMoved}`);break}return Y}return U.notes?U.notes.split(`
`).filter(Y=>Y.trim().length>0).slice(0,3):[]};return s.jsxs("div",{className:"transition-all duration-300",role:"document",children:[s.jsxs("div",{className:"text-center space-y-4 p-6 pb-8",children:[s.jsx("h1",{className:"font-display text-4xl lg:text-5xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent drop-shadow-lg",children:"Weekly Report"}),s.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-400",children:p.display})]}),s.jsxs("div",{className:"max-w-7xl mx-auto px-4 space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between bg-white/70 dark:bg-gray-900/70 backdrop-blur-lg rounded-xl p-4 border border-gray-200/30 dark:border-gray-700/30",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(We,{variant:"ghost",size:"sm",leftIcon:"chevron_left",onClick:()=>o(Ed(r)),children:"Previous"}),s.jsx(We,{variant:"ghost",size:"sm",onClick:()=>o(pu().start),children:"This Week"}),s.jsx(We,{variant:"ghost",size:"sm",rightIcon:"chevron_right",onClick:()=>o(_i(r,1)),children:"Next"})]}),s.jsxs("div",{className:"flex gap-2 mt-4 sm:mt-0 no-print",children:[s.jsx(We,{variant:"ghost",leftIcon:"content_copy",onClick:te,disabled:w||d==="copying","aria-label":"Copy report as Markdown to clipboard",children:d==="copying"?"Copying...":d==="success"?"Copied!":d==="error"?"Failed":"Copy Markdown"}),s.jsx(We,{variant:"secondary",leftIcon:"download",onClick:ee,disabled:w,"aria-label":"Download report as Markdown file",children:"Download .md"}),s.jsx(We,{variant:"secondary",leftIcon:"print",onClick:fe,"aria-label":"Print report to PDF",children:"Print"})]})]}),s.jsx(pt,{className:"no-print",children:s.jsx(yt,{className:"py-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(We,{variant:"ghost",size:"sm",leftIcon:"chevron_left",onClick:S,"aria-label":"Previous week",children:"Previous"}),s.jsx(We,{variant:"ghost",size:"sm",leftIcon:"chevron_right",onClick:T,"aria-label":"Next week",children:"Next"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(We,{variant:"secondary",size:"sm",onClick:Q,children:"This Week"}),s.jsx(We,{variant:"secondary",size:"sm",onClick:I,children:"Last Week"})]})]})})}),w?s.jsx(pt,{children:s.jsx(yt,{className:"py-8 text-center",children:s.jsx("div",{className:"text-gray-500 dark:text-gray-400",children:"Loading report data..."})})}):s.jsxs(s.Fragment,{children:[s.jsxs(pt,{children:[s.jsx(Ft,{children:s.jsx("h2",{className:"font-display text-xl font-medium",children:"Summary"})}),s.jsx(yt,{children:s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-semibold text-blue-600",children:he(N.totalFocusTimeMin)}),s.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Focus Time"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-semibold text-blue-600",children:N.sessionsCompleted}),s.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Sessions Completed"})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"text-2xl font-semibold text-blue-600",children:[N.avgSessionLengthMin.toFixed(1),"m"]}),s.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Avg Session Length"})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"text-2xl font-semibold text-blue-600",children:[N.completionRatePct,"%"]}),s.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Completion Rate"})]})]})})]}),s.jsxs(pt,{children:[s.jsx(Ft,{children:s.jsx("h2",{className:"font-display text-xl font-medium",children:"Time Distribution"})}),s.jsxs(yt,{className:"space-y-6",children:[Object.keys(N.modeDist).length>0&&s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-gray-700 dark:text-gray-300 mb-3",children:"By Mode"}),s.jsx("div",{className:"space-y-2",children:Object.entries(N.modeDist).sort((U,Y)=>Y[1]-U[1]).map(([U,Y])=>{const ue=$t.find(pe=>pe.id===U)?.name||U;return s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm",children:ue}),s.jsx("span",{className:"text-sm font-mono",children:he(Y)})]},U)})})]}),Object.keys(N.tagDist).length>0&&s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Top Focus Areas"}),s.jsxs("div",{className:"space-y-2",children:[Object.entries(N.tagDist).sort((U,Y)=>Y[1]-U[1]).map(([U,Y])=>s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm",children:U}),s.jsx("span",{className:"text-sm font-mono",children:he(Y)})]},U)),N.tagOtherMin>0&&s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-500",children:"Other"}),s.jsx("span",{className:"text-sm font-mono",children:he(N.tagOtherMin)})]})]})]})]})]}),b.length>0&&s.jsxs(pt,{children:[s.jsx(Ft,{children:s.jsx("h2",{className:"font-display text-xl font-medium",children:"Highlights"})}),s.jsx(yt,{children:s.jsx("div",{className:"space-y-6",children:b.map(U=>{const le=$t.find(Le=>Le.id===U.mode)?.name||U.mode,ue=U.link?Ci(U.link):"",pe=oe(U),_e=!!U.aiSummary;return s.jsxs("div",{className:"border-l-4 border-blue-600 pl-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsxs("h3",{className:"font-medium",children:[le," - ",lr(new Date(U.startedAt),"MMM dd")]}),ue&&s.jsx("span",{className:"text-sm px-2 py-1 bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 rounded",children:ue}),_e&&s.jsx("span",{className:"text-xs px-2 py-1 bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200 rounded",children:"AI"})]}),U.goal&&s.jsx("div",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:U.goal}),pe.length>0&&s.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400 space-y-1",children:pe.map((Le,me)=>s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-blue-600 mt-1",children:""}),s.jsx("span",{children:Le})]},me))})]},U.id)})})})]}),s.jsxs(pt,{children:[s.jsx(Ft,{children:s.jsx("h2",{className:"font-display text-xl font-medium",children:"Session Log (Appendix)"})}),s.jsx(yt,{children:x.filter(U=>U.status==="completed").length>0?s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-gray-300 dark:border-gray-600",children:[s.jsx("th",{className:"text-left py-2 font-medium text-gray-700 dark:text-gray-300",children:"Date"}),s.jsx("th",{className:"text-left py-2 font-medium text-gray-700 dark:text-gray-300",children:"Mode"}),s.jsx("th",{className:"text-left py-2 font-medium text-gray-700 dark:text-gray-300",children:"Goal"}),s.jsx("th",{className:"text-left py-2 font-medium text-gray-700 dark:text-gray-300",children:"Tags"}),s.jsx("th",{className:"text-left py-2 font-medium text-gray-700 dark:text-gray-300",children:"Links"}),s.jsx("th",{className:"text-right py-2 font-medium text-gray-700 dark:text-gray-300",children:"Duration"}),s.jsx("th",{className:"text-center py-2 font-medium text-gray-700 dark:text-gray-300",children:"Journal"})]})}),s.jsx("tbody",{children:x.filter(U=>U.status==="completed").sort((U,Y)=>Y.startedAt-U.startedAt).map(U=>{const le=$t.find(_e=>_e.id===U.mode)?.name||U.mode,ue=U.endedAt?Jr(U.endedAt-U.startedAt):0,pe=U.journal?U.aiSummary?"AI+Journal":"Journal":U.aiSummary?"AI":"-";return s.jsxs("tr",{className:"border-b border-gray-100 dark:border-gray-800",children:[s.jsx("td",{className:"py-2 text-gray-600 dark:text-gray-400",children:lr(new Date(U.startedAt),"MMM dd")}),s.jsx("td",{className:"py-2",children:le}),s.jsx("td",{className:"py-2 max-w-xs truncate",children:U.goal||"-"}),s.jsx("td",{className:"py-2 max-w-xs truncate",children:U.tags.join(", ")||"-"}),s.jsx("td",{className:"py-2 max-w-xs truncate",children:U.link?Ci(U.link):"-"}),s.jsxs("td",{className:"py-2 text-right font-mono",children:[ue,"m"]}),s.jsx("td",{className:"py-2 text-center text-xs",children:pe})]},U.id)})})]})}):s.jsx("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:"No completed sessions this week."})})]}),s.jsxs(pt,{children:[s.jsx(Ft,{children:s.jsx("h2",{className:"font-display text-xl font-medium",children:"Next Week Plan"})}),s.jsx(yt,{children:(()=>{const U=[];x.forEach(le=>{if(le.journal?.kind==="analysis"&&le.journal.nextStep&&U.push(le.journal.nextStep),le.notes){const ue=le.notes.match(/TODO:\s*(.+)/gi);ue&&ue.forEach(pe=>{const _e=pe.replace(/TODO:\s*/i,"").trim();_e&&U.push(_e)})}});const Y=[...new Set(U)].slice(0,10);return Y.length>0?s.jsx("div",{className:"space-y-2",children:Y.map((le,ue)=>s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("input",{type:"checkbox",className:"mt-1",disabled:!0,"aria-label":`Plan item: ${le}`}),s.jsx("span",{className:"text-sm",children:le})]},ue))}):s.jsxs("div",{className:"text-center py-4 text-gray-500 dark:text-gray-400",children:[s.jsx("p",{children:"No specific plans identified from this week's sessions."}),s.jsx("p",{className:"text-xs mt-2",children:"Add TODO items in session notes or next steps in analysis journals."})]})})()})]})]})]})]})},vb=()=>{const{settings:r,saveProfile:o}=Au(),[d,u]=E.useState({}),[m,p]=E.useState("");E.useEffect(()=>{r?.researcher&&u(r.researcher)},[r?.researcher]);const x=async(S,T)=>{const Q={...d,[S]:T||void 0};u(Q);try{await o(Q);const I=new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",second:"2-digit"});p(`Saved  ${I}`),setTimeout(()=>p(""),3e3)}catch(I){console.error("Failed to save profile:",I),p("Save failed"),setTimeout(()=>p(""),3e3)}},w=S=>{x("name",S.target.value)},N=S=>{x("affiliation",S.target.value)},b=d.name||d.affiliation;return s.jsxs("div",{className:"space-y-4",children:[s.jsx(lt,{label:"Researcher Name",htmlFor:"researcher-name",children:s.jsx("input",{id:"researcher-name",type:"text",value:d.name||"",onChange:S=>u({...d,name:S.target.value}),onBlur:w,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-800 text-gray-800 dark:text-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Dr. Jane Smith"})}),s.jsx(lt,{label:"Affiliation",htmlFor:"affiliation",children:s.jsx("input",{id:"affiliation",type:"text",value:d.affiliation||"",onChange:S=>u({...d,affiliation:S.target.value}),onBlur:N,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-800 text-gray-800 dark:text-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"University, Lab, or Institution"})}),m&&s.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:m}),b&&s.jsx("div",{className:"mt-4 p-3 bg-gray-50 dark:bg-gray-800/50 rounded-md",children:s.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[s.jsx("strong",{children:"Weekly Report header:"})," ",s.jsx("span",{className:"font-medium",children:d.name}),d.name&&d.affiliation&&s.jsxs("span",{children:[", ",s.jsx("span",{className:"italic",children:d.affiliation})]}),!d.name&&d.affiliation&&s.jsx("span",{className:"italic",children:d.affiliation})]})})]})};async function xb(r){try{if(navigator.clipboard&&window.isSecureContext)return await navigator.clipboard.writeText(r),!0;const o=document.createElement("textarea");o.value=r,o.style.position="fixed",o.style.left="-999999px",o.style.top="-999999px",document.body.appendChild(o),o.focus(),o.select();const d=document.execCommand("copy");return document.body.removeChild(o),d}catch(o){return console.error("Failed to copy to clipboard:",o),!1}}const bb=()=>{const{settings:r,savePrivacy:o}=Au(),[d,u]=E.useState(""),m=r?.privacy,p=async()=>{if(!m)return;const w={...m,telemetryEnabled:!m.telemetryEnabled};try{await o(w)}catch(N){console.error("Failed to save privacy settings:",N)}},x=async()=>{if(!m?.userAnonId)return;const w=await xb(m.userAnonId);u(w?"Copied!":"Copy failed"),setTimeout(()=>u(""),2e3)};return m?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-medium text-gray-800 dark:text-gray-200",children:"Anonymous Telemetry"}),s.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"Help improve Research Timer Pro by sharing anonymous usage data."})]}),s.jsx("div",{className:"ml-4",children:s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",role:"switch",checked:m.telemetryEnabled,onChange:p,className:"sr-only peer","aria-describedby":"telemetry-description"}),s.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-500/20 dark:peer-focus:ring-blue-500/40 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"}),s.jsx("span",{className:"ml-2 text-sm text-gray-600 dark:text-gray-400",children:m.telemetryEnabled?"On":"Off"})]})})]}),m.telemetryEnabled&&s.jsx("div",{className:"mt-4 p-3 bg-blue-50 dark:bg-blue-900/20 rounded-md",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-blue-800 dark:text-blue-200",children:"Anonymous ID"}),s.jsx("div",{className:"text-xs font-mono text-blue-600 dark:text-blue-300 mt-1 break-all",children:m.userAnonId})]}),s.jsx(We,{variant:"ghost",size:"sm",leftIcon:"content_copy",onClick:x,children:d||"Copy"})]})}),s.jsxs("div",{id:"telemetry-description",className:"space-y-3 text-sm text-gray-600 dark:text-gray-400",children:[s.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-800/50 rounded-md",children:[s.jsx("div",{className:"font-medium mb-2",children:"When telemetry is ON:"}),s.jsxs("ul",{className:"list-disc list-inside space-y-1 text-xs",children:[s.jsx("li",{children:"Only anonymous counters are shared (session counts, mode usage)"}),s.jsx("li",{children:"No personal content is ever sent (notes, journals, links, AI summaries)"}),s.jsx("li",{children:"Only your anonymous ID is used to group events"}),s.jsx("li",{children:"Data helps improve the app experience for everyone"})]})]}),s.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-800/50 rounded-md",children:[s.jsx("div",{className:"font-medium mb-2",children:"When telemetry is OFF:"}),s.jsxs("ul",{className:"list-disc list-inside space-y-1 text-xs",children:[s.jsx("li",{children:"The app makes zero network requests for analytics"}),s.jsx("li",{children:"No usage data is collected or shared"}),s.jsx("li",{children:"Everything stays completely private on your device"})]})]}),s.jsxs("div",{className:"p-3 bg-green-50 dark:bg-green-900/20 rounded-md",children:[s.jsx("div",{className:"font-medium mb-2 text-green-800 dark:text-green-200",children:"Your privacy is always protected:"}),s.jsxs("ul",{className:"list-disc list-inside space-y-1 text-xs text-green-700 dark:text-green-300",children:[s.jsx("li",{children:"AI API keys live only in your browser storage"}),s.jsx("li",{children:"All your data stays on your device (IndexedDB)"}),s.jsx("li",{children:"No accounts, logins, or cloud storage required"})]})]})]})]}):s.jsx("div",{className:"text-gray-500 dark:text-gray-400",children:"Loading privacy settings..."})};async function wb(){const r=await $e.sessions.orderBy("createdAt").toArray(),o=await $e.settings.get("app");if(!o)throw new Error("App settings not found - database may be corrupted");return{kind:"research-timer-backup",version:1,createdAt:Date.now(),sessions:r,settings:o}}function Sb(r){const o=new Blob([JSON.stringify(r,null,2)],{type:"application/json"}),d=URL.createObjectURL(o),u=document.createElement("a"),m=new Date().toISOString().split("T")[0];u.href=d,u.download=`research-timer-data-${m}.json`,document.body.appendChild(u),u.click(),document.body.removeChild(u),URL.revokeObjectURL(d)}async function kb(r){if(r.kind!=="research-timer-backup")throw new Error("Invalid backup file: not a research timer backup");if(r.version!==1)throw new Error(`Unsupported backup version: ${r.version}. Expected version 1.`);if(!Array.isArray(r.sessions)||!r.settings)throw new Error("Invalid backup file: missing sessions or settings data");const o=await $e.sessions.toArray(),d=new Map(o.map(x=>[x.id,x]));let u=0,m=0,p=0;for(const x of r.sessions){const w=d.get(x.id);w?x.updatedAt>w.updatedAt?m++:p++:u++}return{sessionsToAdd:u,sessionsToUpdate:m,sessionsSkipped:p}}async function jb(r,o){if(r.kind!=="research-timer-backup"||r.version!==1)throw new Error("Invalid backup file");const d=await $e.sessions.toArray(),u=new Map(d.map(w=>[w.id,w]));let m=0,p=0,x=0;return await $e.transaction("rw",[$e.sessions,$e.settings],async()=>{for(const N of r.sessions){const b=u.get(N.id);b?N.updatedAt>b.updatedAt?(await $e.sessions.put(N),p++):x++:(await $e.sessions.add(N),m++)}const w=await $e.settings.get("app");if(!w||r.settings.updatedAt>w.updatedAt){const N={...r.settings,privacy:w?.privacy||r.settings.privacy,ai:w?.ai||r.settings.ai,updatedAt:Date.now()};await $e.settings.put(N)}}),{added:m,updated:p,skipped:x}}const Nb=({open:r,onConfirm:o,onCancel:d})=>{const[u,m]=E.useState(""),p=u==="DELETE",x=()=>{p&&o()},w=N=>{N.key==="Escape"?d():N.key==="Enter"&&p&&x()};return r?Eg.createPortal(s.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:s.jsxs("div",{className:"flex min-h-full items-center justify-center p-4",children:[s.jsx("div",{className:"fixed inset-0 bg-black/50 transition-opacity",onClick:d}),s.jsxs("div",{className:"relative w-full max-w-md transform overflow-hidden rounded-lg bg-white dark:bg-gray-800 shadow-xl transition-all",role:"dialog","aria-modal":"true","aria-labelledby":"delete-modal-title","aria-describedby":"delete-modal-warning",children:[s.jsx("div",{className:"px-6 py-4 border-b border-gray-300 dark:border-gray-600",children:s.jsx("h3",{id:"delete-modal-title",className:"text-lg font-medium text-red-600 dark:text-red-400",children:"Delete All Data"})}),s.jsxs("div",{className:"px-6 py-4 space-y-4",children:[s.jsxs("div",{id:"delete-modal-warning",className:"text-sm text-gray-600 dark:text-gray-400",children:[s.jsx("div",{className:"font-medium text-red-600 dark:text-red-400 mb-2",children:" This action cannot be undone"}),s.jsx("p",{className:"mb-4",children:"This will permanently delete all your research sessions, journal entries, AI summaries, settings, and all other data. Everything will be lost forever."}),s.jsxs("p",{className:"mb-4",children:[s.jsx("strong",{children:"Before continuing:"}),' Consider exporting your data as a backup using the "Export All Data" button above.']})]}),s.jsx(lt,{label:"Type DELETE to confirm",htmlFor:"confirm-delete",hint:"This confirms you understand the data will be permanently lost",children:s.jsx("input",{id:"confirm-delete",type:"text",value:u,onChange:N=>m(N.target.value),onKeyDown:w,className:`w-full px-3 py-2 border rounded-md bg-white dark:bg-gray-800 text-gray-800 dark:text-gray-200 focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent ${u&&!p?"border-red-500 dark:border-red-400":"border-gray-300 dark:border-gray-600"}`,placeholder:"DELETE",autoComplete:"off",autoFocus:!0,"aria-describedby":"delete-modal-warning"})}),u&&!p&&s.jsx("div",{className:"text-sm text-red-600 dark:text-red-400",children:'Please type "DELETE" exactly to confirm'})]}),s.jsxs("div",{className:"px-6 py-4 bg-gray-50 dark:bg-gray-800/50 border-t border-gray-300 dark:border-gray-600",children:[s.jsxs("div",{className:"flex flex-col-reverse sm:flex-row gap-2 sm:justify-end",children:[s.jsx(We,{variant:"ghost",onClick:d,children:"Cancel"}),s.jsx(We,{variant:"danger",onClick:x,disabled:!p,leftIcon:"delete_forever",children:"Delete All Data"})]}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2",children:"Press Esc to cancel"})]})]})]})}),document.body):null},Eb=()=>{const r=E.useRef(null),[o,d]=E.useState(!1),[u,m]=E.useState(null),[p,x]=E.useState(null),[w,N]=E.useState(!1),[b,S]=E.useState(""),[T,Q]=E.useState(!1),[I,te]=E.useState(""),ee=Y=>{te(Y),setTimeout(()=>te(""),5e3)},fe=async()=>{d(!0);try{const Y=await wb();Sb(Y),ee(`Exported ${Y.sessions.length} sessions successfully`)}catch(Y){console.error("Export failed:",Y),ee("Export failed. Please try again.")}finally{d(!1)}},he=async Y=>{const le=Y.target.files?.[0];if(le){S(""),m(null),x(null);try{const ue=await le.text(),pe=JSON.parse(ue),_e=await kb(pe);m(pe),x(_e)}catch(ue){const pe=ue instanceof Error?ue.message:"Invalid backup file";S(pe),console.error("Import preview failed:",ue)}}},oe=async()=>{if(!(!u||!p)){N(!0);try{const Y=await jb(u,p);ee(`Import complete: ${Y.added} added, ${Y.updated} updated, ${Y.skipped} skipped`),m(null),x(null),S(""),r.current&&(r.current.value="")}catch(Y){const le=Y instanceof Error?Y.message:"Import failed";S(le),console.error("Import failed:",Y)}finally{N(!1)}}},U=async()=>{try{await $e.transaction("rw",[$e.sessions,$e.settings],async()=>{await $e.sessions.clear(),await $e.settings.clear()}),Q(!1),window.location.reload()}catch(Y){console.error("Delete all failed:",Y),ee("Failed to delete data. Please try again.")}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-gray-800 dark:text-gray-200 mb-2",children:"Export Data"}),s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:"Download all your research sessions, settings, and AI summaries as a JSON backup file."}),s.jsx(We,{variant:"secondary",leftIcon:"download",onClick:fe,disabled:o,children:o?"Exporting...":"Export All Data"})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-gray-800 dark:text-gray-200 mb-2",children:"Import Data"}),s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:"Restore data from a Research Timer Pro backup file. Existing data will be merged intelligently."}),s.jsx(lt,{label:"Backup File",htmlFor:"import-file",children:s.jsx("input",{ref:r,id:"import-file",type:"file",accept:".json",onChange:he,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-800 text-gray-800 dark:text-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-medium file:bg-blue-600 file:text-white hover:file:bg-blue-600/90"})}),b&&s.jsx("div",{className:"mt-2 p-3 bg-red-50 dark:bg-red-900/20 rounded-md",children:s.jsxs("div",{className:"text-sm text-red-800 dark:text-red-200",children:[s.jsx("strong",{children:"Import Error:"})," ",b]})}),p&&s.jsxs("div",{className:"mt-4 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-md",children:[s.jsx("div",{className:"text-sm text-blue-800 dark:text-blue-200 mb-3",children:s.jsx("strong",{children:"Import Preview:"})}),s.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"font-medium text-green-700 dark:text-green-300",children:p.sessionsToAdd}),s.jsx("div",{className:"text-green-600 dark:text-green-400",children:"New Sessions"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"font-medium text-blue-700 dark:text-blue-300",children:p.sessionsToUpdate}),s.jsx("div",{className:"text-blue-600 dark:text-blue-400",children:"Updates"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"font-medium text-gray-700 dark:text-gray-300",children:p.sessionsSkipped}),s.jsx("div",{className:"text-gray-600 dark:text-gray-400",children:"Skipped"})]})]}),s.jsx("div",{className:"mt-4",children:s.jsx(We,{variant:"primary",leftIcon:"merge",onClick:oe,disabled:w,children:w?"Importing...":"Merge Data"})}),s.jsx("div",{className:"mt-2 text-xs text-blue-600 dark:text-blue-400",children:"Sessions are merged by ID. Newer versions (by updatedAt) will replace older ones. Your privacy settings and AI configuration will be preserved."})]})]}),s.jsxs("div",{className:"border-t border-gray-300 dark:border-gray-600 pt-6",children:[s.jsx("h3",{className:"font-medium text-red-600 dark:text-red-400 mb-2",children:"Danger Zone"}),s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:"Permanently delete all your sessions, settings, and data. This action cannot be undone. Consider exporting your data first."}),s.jsx(We,{variant:"danger",leftIcon:"delete_forever",onClick:()=>Q(!0),"aria-describedby":"delete-warning",children:"Delete All Data"}),s.jsx("div",{id:"delete-warning",className:"sr-only",children:"This will permanently delete all your research data and cannot be undone"})]}),s.jsx(Nb,{open:T,onConfirm:U,onCancel:()=>Q(!1)}),I&&s.jsx("div",{className:"fixed bottom-4 right-4 z-50",children:s.jsx("div",{className:"bg-green-600 text-white px-4 py-2 rounded-md shadow-lg",children:I})})]})},Tb=()=>{const[r,o]=E.useState("idle"),[d,u]=E.useState(null),{settings:m,saveAi:p}=Au(),{testConnection:x}=Cg(),w=E.useCallback(async ee=>{const fe=m?.ai||{enabled:!1,provider:"ollama",model:"llama3:8b",bullets:5,maxChars:300,temperature:.2,includeJournal:!0};await p({...fe,...ee})},[m?.ai,p]),N=E.useCallback(async()=>{o("testing"),u(null);const ee=await x();o(ee.ok?"success":"error"),u(ee.message||null)},[x]),b={enabled:!1,provider:"ollama",model:"llama3:8b",bullets:5,maxChars:300,temperature:.2,includeJournal:!0},S=m?.ai||b,T=[{value:"ollama",label:"Ollama (Local)",description:"Run AI models locally on your machine"},{value:"groq",label:"Groq",description:"Ultra-fast inference with Llama, Mixtral, and Gemma models"},{value:"openai",label:"OpenAI",description:"GPT models via OpenAI API"},{value:"anthropic",label:"Anthropic",description:"Claude models via Anthropic API"},{value:"gemini",label:"Google Gemini",description:"Gemini models via Google AI API"}],Q=ee=>{switch(ee){case"ollama":return"llama3:8b";case"groq":return"llama-3.1-70b-versatile";case"openai":return"gpt-4o-mini";case"anthropic":return"claude-3-haiku-20240307";case"gemini":return"gemini-1.5-pro";default:return""}},I=ee=>{switch(ee){case"groq":return"Available models: llama-3.1-70b-versatile, llama-3.1-8b-instant, llama3-70b-8192, llama3-8b-8192, mixtral-8x7b-32768, gemma-7b-it, gemma2-9b-it";case"openai":return"Available models: gpt-4o, gpt-4o-mini, gpt-4-turbo, gpt-3.5-turbo";case"anthropic":return"Available models: claude-3-5-sonnet-20241022, claude-3-opus-20240229, claude-3-haiku-20240307";case"gemini":return"Available models: gemini-1.5-pro, gemini-1.5-flash, gemini-pro";case"ollama":return"Popular models: llama3:8b, llama3:70b, codellama, mistral, phi3";default:return"The AI model to use for summarization"}},te=S.provider!=="ollama";return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-medium text-gray-800 dark:text-gray-200",children:"Enable AI Summarization (opt-in)"}),s.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"Generate concise summaries of your research sessions using AI. All settings are stored locally."})]}),s.jsx("div",{className:"ml-4",children:s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:S.enabled,onChange:ee=>w({enabled:ee.target.checked}),className:"sr-only peer"}),s.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-500/20 dark:peer-focus:ring-blue-500/40 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"})]})})]}),S.enabled&&s.jsxs("div",{className:"mt-6 space-y-6 border-t border-gray-300 dark:border-gray-600 pt-6",children:[s.jsxs(lt,{label:"AI Provider",htmlFor:"provider",children:[s.jsx("select",{id:"provider",value:S.provider||"ollama",onChange:ee=>w({provider:ee.target.value,model:Q(ee.target.value)}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-800 text-gray-800 dark:text-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:T.map(ee=>s.jsx("option",{value:ee.value,children:ee.label},ee.value))}),s.jsx("div",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:T.find(ee=>ee.value===S.provider)?.description})]}),s.jsx(lt,{label:"Model",htmlFor:"model",hint:I(S.provider||"ollama"),children:s.jsx("input",{id:"model",type:"text",value:S.model||"",onChange:ee=>w({model:ee.target.value}),onBlur:()=>{},placeholder:Q(S.provider||"ollama"),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-800 text-gray-800 dark:text-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})}),te&&s.jsx(lt,{label:"API Key",htmlFor:"apiKey",hint:"Your API key will be stored locally and never shared",children:s.jsx("input",{id:"apiKey",type:"password",value:S.apiKey||"",onChange:ee=>w({apiKey:ee.target.value}),onBlur:()=>{},placeholder:"Enter your API key",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-800 text-gray-800 dark:text-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})}),S.provider==="ollama"&&s.jsx(lt,{label:"Base URL",htmlFor:"baseUrl",hint:"Ollama server URL (default: http://localhost:11434)",children:s.jsx("input",{id:"baseUrl",type:"url",value:S.baseUrl||"",onChange:ee=>w({baseUrl:ee.target.value}),onBlur:()=>{},placeholder:"http://localhost:11434",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-800 text-gray-800 dark:text-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})}),s.jsxs("div",{className:"space-y-4 pt-4 border-t border-gray-300 dark:border-gray-600",children:[s.jsx("h3",{className:"font-medium text-gray-800 dark:text-gray-200",children:"Advanced Settings"}),s.jsx(lt,{label:`Summary Bullets: ${S.bullets}`,htmlFor:"bullets",hint:"Number of bullet points in the summary (3-7)",children:s.jsx("input",{id:"bullets",type:"range",min:"3",max:"7",step:"1",value:S.bullets||5,onChange:ee=>w({bullets:parseInt(ee.target.value)}),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer dark:bg-gray-700"})}),s.jsx(lt,{label:`Max Characters: ${S.maxChars}`,htmlFor:"maxChars",hint:"Maximum length of the summary (150-600 characters)",children:s.jsx("input",{id:"maxChars",type:"range",min:"150",max:"600",step:"50",value:S.maxChars||300,onChange:ee=>w({maxChars:parseInt(ee.target.value)}),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer dark:bg-gray-700"})}),s.jsx(lt,{label:`Creativity: ${S.temperature?.toFixed(1)}`,htmlFor:"temperature",hint:"Higher values make output more creative, lower values more focused (0.0-1.0)",children:s.jsx("input",{id:"temperature",type:"range",min:"0",max:"1",step:"0.1",value:S.temperature||.2,onChange:ee=>w({temperature:parseFloat(ee.target.value)}),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer dark:bg-gray-700"})}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-medium text-gray-800 dark:text-gray-200",children:"Include Journal"}),s.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"Include journal entries in the summary (recommended)"})]}),s.jsx("div",{className:"ml-4",children:s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:S.includeJournal??!0,onChange:ee=>w({includeJournal:ee.target.checked}),className:"sr-only peer"}),s.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-500/20 dark:peer-focus:ring-blue-500/40 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"})]})})]})]}),s.jsxs("div",{className:"pt-4 border-t border-gray-300 dark:border-gray-600",children:[s.jsx(We,{onClick:N,disabled:r==="testing",leftIcon:r==="testing"?"hourglass_empty":r==="success"?"check_circle":r==="error"?"error":"wifi",variant:r==="error"?"danger":"secondary",children:r==="testing"?"Testing Connection...":"Test Connection"}),d&&s.jsx("div",{className:`mt-2 p-3 rounded-md text-sm ${r==="success"?"bg-green-50 dark:bg-green-900/20 text-green-800 dark:text-green-200":"bg-red-50 dark:bg-red-900/20 text-red-800 dark:text-red-200"}`,children:d})]})]})]})},Ab=()=>{const[r,o]=E.useState(null),[d,u]=E.useState(!0);E.useEffect(()=>{(async()=>{try{const b=await $e.musicPreferences.get("music");o(b||null)}catch(b){console.error("Failed to load music preferences:",b)}finally{u(!1)}})()},[]);const m=async N=>{if(r)try{const b={...r,...N,updatedAt:Date.now()};await $e.musicPreferences.put(b),o(b)}catch(b){console.error("Failed to update music preferences:",b)}},p=()=>{m({enabled:!r?.enabled})},x=N=>{m({source:N})},w=()=>{m({localFile:void 0})};return d?s.jsx("div",{className:"text-gray-500 dark:text-gray-400",children:"Loading music settings..."}):r?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-gray-900 dark:text-white",children:"Focus Music"}),s.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Enable music during focus sessions"})]}),s.jsx(We,{onClick:p,variant:r.enabled?"primary":"secondary",size:"sm",children:r.enabled?"Enabled":"Disabled"})]}),r.enabled&&s.jsxs(s.Fragment,{children:[s.jsx(lt,{label:"Preferred Music Source",htmlFor:"music-source",children:s.jsx("div",{className:"grid grid-cols-3 gap-2",children:["youtube","spotify","local"].map(N=>s.jsx("button",{onClick:()=>x(N),className:`p-3 rounded-lg border text-center capitalize transition-colors ${r.source===N?"border-blue-600 bg-blue-600/10 text-blue-600":"border-gray-200 dark:border-gray-700 hover:border-blue-600/50"}`,children:s.jsx("div",{className:"text-sm font-medium",children:N})},N))})}),s.jsxs("div",{className:"space-y-3",children:[r.youtubeUrl&&s.jsx(lt,{label:"Saved YouTube URL",htmlFor:"saved-youtube",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{id:"saved-youtube",value:r.youtubeUrl,readOnly:!0,className:"flex-1 text-sm"}),s.jsx(We,{onClick:()=>m({youtubeUrl:void 0}),variant:"ghost",size:"sm",leftIcon:"delete",children:"Clear"})]})}),r.spotifyUrl&&s.jsx(lt,{label:"Saved Spotify URL",htmlFor:"saved-spotify",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{id:"saved-spotify",value:r.spotifyUrl,readOnly:!0,className:"flex-1 text-sm"}),s.jsx(We,{onClick:()=>m({spotifyUrl:void 0}),variant:"ghost",size:"sm",leftIcon:"delete",children:"Clear"})]})}),r.localFile&&s.jsx(lt,{label:"Local Audio File",htmlFor:"saved-local",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:"flex-1 text-sm text-gray-600 dark:text-gray-400",children:r.localFile}),s.jsx(We,{onClick:w,variant:"ghost",size:"sm",leftIcon:"delete",children:"Clear"})]})})]}),s.jsx(lt,{label:`Volume: ${r.volume}%`,htmlFor:"volume",children:s.jsx("input",{id:"volume",type:"range",min:"0",max:"100",value:r.volume,onChange:N=>m({volume:Number(N.target.value)}),className:"w-full"})})]})]}):s.jsx("div",{className:"text-red-500 dark:text-red-400",children:"Failed to load music preferences"})},Fr=[{id:"forest",name:"Forest Canopy",type:"gradient",gradient:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)"},{id:"ocean",name:"Ocean Depth",type:"gradient",gradient:"linear-gradient(135deg, #667db6 0%, #0082c8 100%)"},{id:"sunset",name:"Sunset Sky",type:"gradient",gradient:"linear-gradient(135deg, #ff9a9e 0%, #fecfef 50%, #fecfef 100%)"},{id:"mountain",name:"Mountain Vista",type:"gradient",gradient:"linear-gradient(135deg, #a8edea 0%, #fed6e3 100%)"},{id:"space",name:"Deep Space",type:"gradient",gradient:"linear-gradient(135deg, #434343 0%, #000000 100%)"}],Cb=()=>{const[r,o]=E.useState(null),[d,u]=E.useState(null),[,m]=E.useState(0);E.useEffect(()=>{(async()=>{try{const T=await $e.userPreferences.get("user");if(T&&(u(T),T.backgroundsEnabled))if(T.background.staticImage){const Q=Fr.find(I=>I.id===T.background.staticImage);o(Q||Fr[0])}else o(Fr[0])}catch(T){console.error("Failed to load background preferences:",T)}})()},[]),E.useEffect(()=>{if(!d?.backgroundsEnabled||!d.background.autoChange||d.background.staticImage)return;const S=d.background.interval*60*1e3,T=window.setInterval(()=>{m(Q=>{const I=(Q+1)%Fr.length;return o(Fr[I]),I})},S);return()=>window.clearInterval(T)},[d]);const p=E.useCallback(async S=>{try{const T=await $e.userPreferences.get("user");if(T){const Q={...T,...S,updatedAt:Date.now()};await $e.userPreferences.put(Q),u(Q)}}catch(T){console.error("Failed to update background preferences:",T)}},[]),x=E.useCallback(async S=>{if(d&&(await p({background:{...d.background,staticImage:S??void 0}}),S)){const T=Fr.find(Q=>Q.id===S);T&&o(T)}},[d,p]),w=E.useCallback(async S=>{d&&await p({background:{...d.background,autoChange:S}})},[d,p]),N=E.useCallback(async S=>{d&&await p({background:{...d.background,interval:S}})},[d,p]),b=E.useCallback(async S=>{await p({backgroundsEnabled:S}),o(S?Fr[0]:null)},[p]);return{currentBackground:r,backgrounds:Fr,preferences:d,setStaticBackground:x,toggleAutoChange:w,setInterval:N,toggleBackgrounds:b}},_b=()=>{const{preferences:r,backgrounds:o,toggleBackgrounds:d,toggleAutoChange:u,setInterval:m,setStaticBackground:p}=Cb();return r?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-gray-900 dark:text-white",children:"Dynamic Backgrounds"}),s.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Beautiful, changing backgrounds for better focus"})]}),s.jsx(We,{onClick:()=>d(!r.backgroundsEnabled),variant:r.backgroundsEnabled?"primary":"secondary",size:"sm",children:r.backgroundsEnabled?"Enabled":"Disabled"})]}),r.backgroundsEnabled&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-900 dark:text-white",children:"Auto-change Backgrounds"}),s.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Automatically rotate through backgrounds"})]}),s.jsx(We,{onClick:()=>u(!r.background.autoChange),variant:r.background.autoChange?"primary":"secondary",size:"sm",children:r.background.autoChange?"On":"Off"})]}),r.background.autoChange&&s.jsxs(lt,{label:`Change interval: ${r.background.interval} minutes`,htmlFor:"interval",children:[s.jsx("input",{id:"interval",type:"range",min:"5",max:"60",step:"5",value:r.background.interval,onChange:x=>m(Number(x.target.value)),className:"w-full"}),s.jsxs("div",{className:"flex justify-between text-xs text-gray-500 dark:text-gray-400 mt-1",children:[s.jsx("span",{children:"5 min"}),s.jsx("span",{children:"60 min"})]})]}),!r.background.autoChange&&s.jsx(lt,{label:"Choose Static Background",htmlFor:"static-bg",children:s.jsx("div",{className:"grid grid-cols-2 gap-3",children:o.map(x=>s.jsxs("button",{onClick:()=>p(x.id),className:`p-3 rounded-lg border text-left transition-colors ${r.background.staticImage===x.id?"border-blue-600 bg-blue-600/10":"border-gray-200 dark:border-gray-700 hover:border-blue-600/50"}`,style:{background:x.gradient,position:"relative"},children:[s.jsx("div",{className:"absolute inset-0 bg-black/40 rounded-lg"}),s.jsx("div",{className:"relative z-10",children:s.jsx("div",{className:"font-medium text-white text-sm",children:x.name})})]},x.id))})}),s.jsxs("div",{className:"mt-4",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-900 dark:text-white mb-2",children:"Available Backgrounds"}),s.jsx("div",{className:"grid grid-cols-5 gap-2",children:o.map(x=>s.jsx("div",{className:"aspect-square rounded-lg",style:{background:x.gradient},title:x.name},x.id))})]})]})]}):s.jsx("div",{className:"text-gray-500 dark:text-gray-400",children:"Loading background settings..."})},Db=()=>{const[r,o]=E.useState(!1),[d,u]=E.useState(null),[m,p]=E.useState(!0);E.useEffect(()=>{(async()=>{try{const b=await $e.userPreferences.get("user");u(b||null)}catch(b){console.error("Failed to load user preferences:",b)}finally{p(!1)}})()},[]);const x=async()=>{if(d)try{const N={...d,onboardingCompleted:!1,updatedAt:Date.now()};await $e.userPreferences.put(N),u(N),o(!0)}catch(N){console.error("Failed to reset onboarding:",N)}},w=async()=>{o(!1);try{const N=await $e.userPreferences.get("user");u(N||null)}catch(N){console.error("Failed to reload preferences:",N)}};return m?s.jsx("div",{className:"text-gray-500 dark:text-gray-400",children:"Loading onboarding settings..."}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-gray-900 dark:text-white",children:"Onboarding"}),s.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:d?.onboardingCompleted?"Welcome setup completed":"Welcome setup not completed"})]}),s.jsx("div",{className:"flex items-center space-x-2",children:d?.onboardingCompleted&&s.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",children:[s.jsx("span",{className:"material-icons text-xs mr-1",children:"check_circle"}),"Completed"]})})]}),d?.onboardingCompleted&&s.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800/50 rounded-lg p-4",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-900 dark:text-white mb-3",children:"Current Preferences"}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 text-sm",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:"material-icons text-blue-600 text-sm",children:"schedule"}),s.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:["Focus Mode: ",d.focusMode?d.focusMode.charAt(0).toUpperCase()+d.focusMode.slice(1):"None"]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:"material-icons text-blue-600 text-sm",children:"library_music"}),s.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:["Music: ",d.musicEnabled?(d.musicSource||"Enabled").charAt(0).toUpperCase()+(d.musicSource||"Enabled").slice(1):"Disabled"]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:"material-icons text-blue-600 text-sm",children:"landscape"}),s.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:["Backgrounds: ",d.backgroundsEnabled?"Enabled":"Disabled"]})]})]})]}),s.jsxs("div",{className:"flex flex-col space-y-3",children:[s.jsx(We,{onClick:x,variant:"primary",leftIcon:"refresh",children:"Restart Onboarding Questions"}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"This will walk you through the initial setup questions again and allow you to update your preferences."})]})]}),s.jsx(Dg,{isOpen:r,onComplete:w})]})},Mb=()=>s.jsxs("div",{className:"transition-all duration-300",children:[s.jsxs("div",{className:"text-center space-y-4 p-6 pb-8",children:[s.jsx("h1",{className:"font-display text-4xl lg:text-5xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent drop-shadow-lg",children:"Settings"}),s.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-400",children:"Customize your Research Timer Pro experience and manage your data"})]}),s.jsxs("div",{className:"max-w-7xl mx-auto px-4 space-y-6",children:[s.jsxs(pt,{children:[s.jsx(Ft,{children:s.jsx("h2",{className:"font-display text-xl font-medium bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Profile"})}),s.jsx(yt,{children:s.jsx(vb,{})})]}),s.jsxs(pt,{children:[s.jsx(Ft,{children:s.jsx("h2",{className:"font-display text-xl font-medium bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Privacy"})}),s.jsx(yt,{children:s.jsx(bb,{})})]}),s.jsxs(pt,{children:[s.jsx(Ft,{children:s.jsx("h2",{className:"font-display text-xl font-medium bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Data"})}),s.jsx(yt,{children:s.jsx(Eb,{})})]}),s.jsxs(pt,{children:[s.jsx(Ft,{children:s.jsx("h2",{className:"font-display text-xl font-medium bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"AI Features"})}),s.jsx(yt,{children:s.jsx(Tb,{})})]}),s.jsxs(pt,{children:[s.jsx(Ft,{children:s.jsx("h2",{className:"font-display text-xl font-medium bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Music Preferences"})}),s.jsx(yt,{children:s.jsx(Ab,{})})]}),s.jsxs(pt,{children:[s.jsx(Ft,{children:s.jsx("h2",{className:"font-display text-xl font-medium bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Background Preferences"})}),s.jsx(yt,{children:s.jsx(_b,{})})]}),s.jsxs(pt,{children:[s.jsx(Ft,{children:s.jsx("h2",{className:"font-display text-xl font-medium bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Onboarding"})}),s.jsx(yt,{children:s.jsx(Db,{})})]})]})]});function Ob(){return s.jsx(_y,{children:s.jsx(Ky,{children:s.jsxs(sy,{children:[s.jsx(Ei,{path:"/",element:s.jsx(Ov,{})}),s.jsx(Ei,{path:"/timeline",element:s.jsx(Qv,{})}),s.jsx(Ei,{path:"/analytics",element:s.jsx(sb,{})}),s.jsx(Ei,{path:"/report",element:s.jsx(yb,{})}),s.jsx(Ei,{path:"/settings",element:s.jsx(Mb,{})})]})})})}p0.createRoot(document.getElementById("root")).render(s.jsx(E.StrictMode,{children:s.jsx(Ob,{})}));
